<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Code style and language versions &mdash; ROS 2 documentation  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/Contributing/Code-Style-Language-Versions.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Quality guide: ensuring code quality" href="Quality-Guide.html" />
    <link rel="prev" title="ROS 2 developer guide" href="Developer-Guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Development-Setup.html">Building ROS 2 on Ubuntu Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Binary.html">Installing ROS 2 on Ubuntu Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">Installing ROS 2 via Debian Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Development-Setup.html">Building ROS 2 on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Install-Binary.html">Installing ROS 2 on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Development-Setup.html">Building ROS 2 on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">Installing ROS 2 on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Fedora-Development-Setup.html">Building ROS 2 on Fedora Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Latest-Development-Setup.html">Installing the latest ROS 2 development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">Maintaining a source checkout of ROS 2 Rolling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">Alternative Installation Sources for Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">Installing DDS implementations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Installing Connext security plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">Installing University or Evaluation versions of RTI Connext DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Working with Eclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">Working with GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">Working with eProsima Fast DDS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Docs-Guide.html">Docs Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Configuring-ROS2-Environment.html">Configuring your ROS 2 environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Turtlesim/Introducing-Turtlesim.html">Introducing turtlesim and rqt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Nodes.html">Understanding ROS 2 nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Topics/Understanding-ROS2-Topics.html">Understanding ROS 2 topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Services/Understanding-ROS2-Services.html">Understanding ROS 2 services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Parameters/Understanding-ROS2-Parameters.html">Understanding ROS 2 parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Actions.html">Understanding ROS 2 actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rqt-Console/Using-Rqt-Console.html">Using rqt_console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch/CLI-Intro.html">Introducing ROS 2 launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Recording-And-Playing-Back-Data.html">Recording and playing back data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Workspace/Creating-A-Workspace.html">Creating a workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Creating-Your-First-ROS2-Package.html">Creating your first ROS 2 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Service-And-Client.html">Writing a simple service and client (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Service-And-Client.html">Writing a simple service and client (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Custom-ROS2-Interfaces.html">Creating custom ROS 2 msg and srv files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Single-Package-Define-And-Use-Interface.html">Expanding on ROS 2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-CPP.html">Using parameters in a class (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-Python.html">Using parameters in a class (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Getting-Started-With-Ros2doctor.html">Getting started with ros2doctor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Pluginlib.html">Creating and Using Plugins (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Creating-an-Action.html">Creating an action</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Cpp-Action-Server-Client.html">Writing an action server and client (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Py-Action-Server-Client.html">Writing an action server and client (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Composition.html">Composing multiple nodes in a single process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Colcon-Tutorial.html">Using colcon to build packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch/Launch-Main.html">Launch Tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Creating-Launch-Files.html">Creating a launch file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Launch-system.html">Launching/monitoring multiple nodes with Launch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-Substitutions.html">Using substitutions in launch files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-Event-Handlers.html">Using event handlers in launch files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-ROS2-Launch-For-Large-Projects.html">Using ROS 2 launch for large projects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Tf2/Tf2-Main.html">tf2 Tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Introduction-To-Tf2.html">Introduction to tf2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">Writing a tf2 static broadcaster (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">Writing a tf2 static broadcaster (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Py.html">Writing a tf2 broadcaster (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">Writing a tf2 broadcaster (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Listener-Py.html">Writing a tf2 listener (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Listener-Cpp.html">Writing a tf2 listener (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Adding-A-Frame-Py.html">Adding a frame (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Adding-A-Frame-Cpp.html">Adding a frame (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Learning-About-Tf2-And-Time-Py.html">Learning about tf2 and time (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Learning-About-Tf2-And-Time-Cpp.html">Learning about tf2 and time (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Time-Travel-With-Tf2-Py.html">Time travel with tf2 (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Time-Travel-With-Tf2-Cpp.html">Time travel with tf2 (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Debugging-Tf2-Problems.html">Debugging tf2 problems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Quaternion-Fundamentals.html">Quaternion fundamentals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">Using stamped datatypes with tf2_ros::MessageFilter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/URDF/URDF-Main.html">URDF Tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">Building a Visual Robot Model with URDF from Scratch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Building-a-Movable-Robot-Model-with-URDF.html">Building a Movable Robot Model with URDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">Adding Physical and Collision Properties to a URDF Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">Using Xacro to Clean Up a URDF File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Using-URDF-with-Robot-State-Publisher.html">Using URDF with robot_state_publisher</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Topics/Topic-Statistics-Tutorial.html">ROS 2 Topic Statistics Tutorial (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Discovery-Server/Discovery-Server.html">Using Fast DDS Discovery Server as discovery protocol [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Allocator-Template-Tutorial.html">Implement a custom memory allocator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Simulators/Webots/Setting-up-a-Robot-Simulation-Webots.html">Setting-up a Robot Simulation (Webots)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Deploying-ROS-2-on-IBM-Cloud.html">ROS2 on IBM Cloud Kubernetes [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Eclipse Oxygen with ROS 2 and rviz2 [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Building realtime Linux for ROS 2 [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node.html">Recording a bag from your own node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-ROS2-Package-with-eclipse-2021-06.html">Building ROS 2 Package with eclipse 2021-06</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Quality-of-Service.html">Use quality-of-service settings to handle lossy networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Managed-Nodes.html">Management of nodes with managed lifecycles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intra-Process-Communication.html">Efficient intra-process communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rosbag-with-ROS1-Bridge.html">Recording and playback of topic data with rosbag using the ROS 1 bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Real-Time-Programming.html">Real-time programming in ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/dummy-robot-demo.html">Trying the dummy robot demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Logging-and-logger-configuration.html">Logging and logger configuration demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../How-To-Guides.html">How-to Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installation-Troubleshooting.html">Installation troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Developing-a-ROS-2-Package.html">Developing a ROS 2 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Documentation.html">ament_cmake user documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Python-Documentation.html">ament_cmake_python user documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html">Migrating launch files from ROS 1 to ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-file-different-formats.html">Using Python, XML, and YAML for ROS 2 Launch Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launching-composable-nodes.html">Using ROS 2 launch to launch composable nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Parameters-YAML-files-migration-guide.html">Migrating YAML parameter files from ROS 1 to ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Node-arguments.html">Passing ROS arguments to nodes via the command-line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Sync-Vs-Async.html">Synchronous vs. asynchronous service clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/DDS-tuning.html">DDS tuning information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2: Overriding QoS Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html">Working with multiple ROS 2 middleware implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Cross-compilation.html">Cross-compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Releasing-a-ROS-2-package-with-bloom.html">Releasing a ROS 2 package with bloom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Python-Packages.html">Using Python Packages with ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Port-Plugin-Windows.html">Porting RQt plugins to Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">Running ROS 2 nodes in Docker [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Package-maintainer-guide.html">ROS 2 Package Maintainer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-a-Custom-Debian-Package.html">Building a custom Debian package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Topics-Services-Actions.html">Topics vs Services vs Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Variants.html">Using variants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros2-param.html">Using the <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code> command-line tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install.html">Building RQt from source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-MacOS.html">Building RQt from source on macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-Windows10.html">Building RQt from source on Windows 10</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Domain-ID.html">The ROS_DOMAIN_ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html">About different ROS 2 DDS/RTPS vendors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Logging.html">About logging and logger configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">About Quality of Service settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">About ROS 2 client libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">About ROS 2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">About parameters in ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Executors.html">Executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Topic-Statistics.html">About topic statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Command-Line-Tools.html">Introspection with command line tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-RQt.html">Overview and usage of RQt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Composition.html">About Composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Catment.html">On the mixing of ament and catkin (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Cross-Compilation.html">About Cross-compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Tf2.html">About tf2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Build-System.html">About the build system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Internal-Interfaces.html">About internal ROS 2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Middleware-Implementations.html">About ROS 2 middleware implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Client-Interfaces.html">ROS 2 Client Interfaces (Client Libraries)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Contributing.html">Contributing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Developer-Guide.html">ROS 2 developer guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Code style and language versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quality-Guide.html">Quality guide: ensuring code quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="Migration-Guide.html">Migration guide from ROS 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Migration-Guide-Python.html">Python migration guide from ROS 1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Build-Farms.html">ROS Build Farms</a></li>
<li class="toctree-l2"><a class="reference internal" href="Windows-Tips-and-Tricks.html">Windows Tips and Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Contributing-To-ROS-2-Documentation.html">Contributing to ROS 2 Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROSCon-Content.html">ROSCon Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">Distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Alpha-Overview.html">ROS 2 alpha releases (Aug 2015 - Oct 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta1-Overview.html">Beta 1 (codename 'Asphalt'; December 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta2-Overview.html">Beta 2 (codename 'r2b2'; July 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta3-Overview.html">Beta 3 (codename 'r2b3'; September 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Ardent-Apalone.html">ROS 2 Ardent Apalone (codename 'ardent'; December 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Bouncy-Bolson.html">ROS 2 Bouncy Bolson (codename 'bouncy'; June 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Crystal-Clemmys.html">ROS 2 Crystal Clemmys (codename 'crystal'; December 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Dashing-Diademata.html">ROS 2 Dashing Diademata (codename 'dashing'; May 31st, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Eloquent-Elusor.html">ROS 2 Eloquent Elusor (codename 'eloquent'; November 22nd, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Foxy-Fitzroy.html">ROS 2 Foxy Fitzroy (codename 'foxy'; June 5th, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Galactic-Geochelone.html">ROS 2 Galactic Geochelone (codename 'galactic'; May, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Galactic-Geochelone-Complete-Changelog.html">ROS 2 Galactic Geochelone Complete Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Humble-Hawksbill.html">ROS 2 Humble Hawksbill (codename 'humble'; May, 2022)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Rolling-Ridley.html">ROS 2 Rolling Ridley (codename 'rolling'; June 2020)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Features.html">Features Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Feature-Ideas.html">Feature Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Governance.html">Project Governance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Charter.html">ROS 2 Technical Steering Committee Charter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC applicant intake process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/How-To-Start-A-Community-Working-Group.html">How to Start a Community Working Group</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Marketing.html">Marketing Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">Related Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS 2 Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">NVIDIA ROS 2 Projects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Contributing.html">Contributing</a> &raquo;</li>
      <li>Code style and language versions</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/rolling/source/Contributing/Code-Style-Language-Versions.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <section id="code-style-and-language-versions">
<span id="codestyle"></span><h1>Code style and language versions<a class="headerlink" href="#code-style-and-language-versions" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c" id="id8">C</a></p>
<ul>
<li><p><a class="reference internal" href="#standard" id="id9">Standard</a></p></li>
<li><p><a class="reference internal" href="#style" id="id10">Style</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id1" id="id11">C++</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id12">Standard</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id13">Style</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#python" id="id14">Python</a></p>
<ul>
<li><p><a class="reference internal" href="#version" id="id15">Version</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id16">Style</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#cmake" id="id17">CMake</a></p>
<ul>
<li><p><a class="reference internal" href="#id5" id="id18">Version</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id19">Style</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#markdown-restructured-text-docblocks" id="id20">Markdown / reStructured Text / docblocks</a></p>
<ul>
<li><p><a class="reference internal" href="#id7" id="id21">Style</a></p></li>
</ul>
</li>
</ul>
</div>
<p>In order to achieve a consistent looking product we will all follow externally (if possible) defined style guidelines for each language.
For other things like package layout or documentation layout we will need to come up with our own guidelines, drawing on current, popular styles in use now.</p>
<p>Additionally, wherever possible, developers should use integrated tools to allow them to check that these guidelines are followed in their editors.
For example, everyone should have a PEP8 checker built into their editor to cut down on review iterations related to style.</p>
<p>Also where possible, packages should check style as part of their unit tests to help with the automated detection of style issues (see <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_lint_auto/doc/index.rst">ament_lint_auto</a>).</p>
<section id="c">
<h2><a class="toc-backref" href="#id8">C</a><a class="headerlink" href="#c" title="永久链接至标题"></a></h2>
<section id="standard">
<h3><a class="toc-backref" href="#id9">Standard</a><a class="headerlink" href="#standard" title="永久链接至标题"></a></h3>
<p>We will target C99.</p>
</section>
<section id="style">
<h3><a class="toc-backref" href="#id10">Style</a><a class="headerlink" href="#style" title="永久链接至标题"></a></h3>
<p>We will use <a class="reference external" href="https://www.python.org/dev/peps/pep-0007/">Python's PEP7</a> for our C style guide, with some modifications and additions:</p>
<ul class="simple">
<li><p>We will target C99, as we do not need to support C89 (as PEP7 recommends)</p>
<ul>
<li><p>rationale: among other things it allows us to use both <code class="docutils literal notranslate"><span class="pre">//</span></code> and <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">*/</span></code> style comments</p></li>
<li><p>rationale: C99 is pretty much ubiquitous now</p></li>
</ul>
</li>
<li><p>C++ style <code class="docutils literal notranslate"><span class="pre">//</span></code> comments are allowed</p></li>
<li><p>Always place literals on the left-hand side of comparison operators, e.g. <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">==</span> <span class="pre">ret</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">==</span> <span class="pre">0</span></code></p>
<ul>
<li><p>rationale: <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">==</span> <span class="pre">0</span></code> too easily turns into <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">0</span></code> by accident</p></li>
</ul>
</li>
</ul>
<p>All of the following modifications only apply if we are not writing Python modules:</p>
<ul class="simple">
<li><p>Do not use <code class="docutils literal notranslate"><span class="pre">Py_</span></code> as a prefix for everything</p>
<ul>
<li><p>instead use a CamelCase version of the package name or other appropriate prefix</p></li>
</ul>
</li>
<li><p>The stuff about documentation strings doesn't apply</p></li>
</ul>
<p>We can use the <a class="reference external" href="https://github.com/mike-perdide/pep7">pep7</a> python module for style checking. The editor integration seems slim, we may need to look into automated checking for C in more detail.</p>
</section>
</section>
<section id="id1">
<h2><a class="toc-backref" href="#id11">C++</a><a class="headerlink" href="#id1" title="永久链接至标题"></a></h2>
<section id="id2">
<h3><a class="toc-backref" href="#id12">Standard</a><a class="headerlink" href="#id2" title="永久链接至标题"></a></h3>
<p>Rolling targets C++14.</p>
</section>
<section id="id3">
<h3><a class="toc-backref" href="#id13">Style</a><a class="headerlink" href="#id3" title="永久链接至标题"></a></h3>
<p>We will use the <a class="reference external" href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a>, with some modifications:</p>
<section id="line-length">
<h4>Line Length<a class="headerlink" href="#line-length" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Our maximum line length is 100 characters.</p></li>
</ul>
</section>
<section id="file-extensions">
<h4>File Extensions<a class="headerlink" href="#file-extensions" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Header files should use the .hpp extension.</p>
<ul>
<li><p>rationale: Allow tools to determine content of files, C++ or C.</p></li>
</ul>
</li>
<li><p>Implementation files should use the .cpp extension.</p>
<ul>
<li><p>rationale: Allow tools to determine content of files, C++ or C.</p></li>
</ul>
</li>
</ul>
</section>
<section id="variable-naming">
<h4>Variable Naming<a class="headerlink" href="#variable-naming" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>For global variables use lowercase with underscores prefixed with <code class="docutils literal notranslate"><span class="pre">g_</span></code></p>
<ul>
<li><p>rationale: keep variable naming case consistent across the project</p></li>
<li><p>rationale: easy to tell the scope of a variable at a glance</p></li>
<li><p>consistency across languages</p></li>
</ul>
</li>
</ul>
</section>
<section id="function-and-method-naming">
<h4>Function and Method Naming<a class="headerlink" href="#function-and-method-naming" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Google style guide says <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code>, but the C++ std library's style of <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> is also allowed</p>
<ul>
<li><p>rationale: ROS 2 core packages currently use <code class="docutils literal notranslate"><span class="pre">snake_case</span></code></p>
<ul>
<li><p>reason: either an historical oversight or a personal preference that didn't get checked by the linter</p></li>
<li><p>reason for not changing: retroactively changing would be too disruptive</p></li>
</ul>
</li>
<li><p>other considerations:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">cpplint.py</span></code> does not check this case (hard to enforce other than with review)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">snake_case</span></code> can result in more consistency across languages</p></li>
</ul>
</li>
<li><p>specific guidance:</p>
<ul>
<li><p>for existing projects, prefer the existing style</p></li>
<li><p>for new projects, either is acceptable, but a preference for matching related existing projects is advised</p></li>
<li><p>final decision is always developer discretion</p>
<ul>
<li><p>special cases like function pointers, callable types, etc. may require bending the rules</p></li>
</ul>
</li>
<li><p>Note that classes should still use <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> by default</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="access-control">
<h4>Access Control<a class="headerlink" href="#access-control" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Drop requirement for all class members to be private and therefore require accessors</p>
<ul>
<li><p>rationale: this is overly constraining for user API design</p></li>
<li><p>we should prefer private members, only making them public when they are needed</p></li>
<li><p>we should consider using accessors before choosing to allow direct member access</p></li>
<li><p>we should have a good reason for allowing direct member access, other than because it is convenient for us</p></li>
</ul>
</li>
</ul>
</section>
<section id="exceptions">
<h4>Exceptions<a class="headerlink" href="#exceptions" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Exceptions are allowed</p>
<ul>
<li><p>rationale: this is a new code base, so the legacy argument doesn't apply to us</p></li>
<li><p>rationale: for user-facing API's it is more idiomatic C++ to have exceptions</p></li>
<li><p>Exceptions in destructors should be explicitly avoided</p></li>
</ul>
</li>
<li><p>We should consider avoiding Exceptions if we intend to wrap the resulting API in C</p>
<ul>
<li><p>rationale: it will make it easier to wrap in C</p></li>
<li><p>rationale: most of our dependencies in code we intend to wrap in C do not use exceptions anyways</p></li>
</ul>
</li>
</ul>
</section>
<section id="function-like-objects">
<h4>Function-like Objects<a class="headerlink" href="#function-like-objects" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>No restrictions on Lambda's or <code class="docutils literal notranslate"><span class="pre">std::function</span></code> or <code class="docutils literal notranslate"><span class="pre">std::bind</span></code></p></li>
</ul>
</section>
<section id="boost">
<h4>Boost<a class="headerlink" href="#boost" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Boost should be avoided unless absolutely required.</p></li>
</ul>
</section>
<section id="comments-and-doc-comments">
<h4>Comments and Doc Comments<a class="headerlink" href="#comments-and-doc-comments" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">///</span></code> and <code class="docutils literal notranslate"><span class="pre">/**</span> <span class="pre">*/</span></code> comments for <em>documentation</em> purposes and <code class="docutils literal notranslate"><span class="pre">//</span></code> style comments for notes and general comments</p>
<ul>
<li><p>Class and Function comments should use <code class="docutils literal notranslate"><span class="pre">///</span></code> and <code class="docutils literal notranslate"><span class="pre">/**</span> <span class="pre">*/</span></code> style comments</p></li>
<li><p>rationale: these are recommended for Doxygen and Sphinx in C/C++</p></li>
<li><p>rationale: mixing <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">*/</span></code> and <code class="docutils literal notranslate"><span class="pre">//</span></code> is convenient for block commenting out code which contains comments</p></li>
<li><p>Descriptions of how the code works or notes within classes and functions should use <code class="docutils literal notranslate"><span class="pre">//</span></code> style comments</p></li>
</ul>
</li>
</ul>
</section>
<section id="pointer-syntax-alignment">
<h4>Pointer Syntax Alignment<a class="headerlink" href="#pointer-syntax-alignment" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*</span> <span class="pre">c;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">char*</span> <span class="pre">c;</span></code> or <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*c;</span></code> because of this scenario <code class="docutils literal notranslate"><span class="pre">char*</span> <span class="pre">c,</span> <span class="pre">*d,</span> <span class="pre">*e;</span></code></p></li>
</ul>
</section>
<section id="class-privacy-keywords">
<h4>Class Privacy Keywords<a class="headerlink" href="#class-privacy-keywords" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Do not put 1 space before <code class="docutils literal notranslate"><span class="pre">public:</span></code>, <code class="docutils literal notranslate"><span class="pre">private:</span></code>, or <code class="docutils literal notranslate"><span class="pre">protected:</span></code>, it is more consistent for all indentions to be a multiple of 2</p>
<ul>
<li><p>rationale: most editors don't like indentions which are not a multiple of the (soft) tab size</p></li>
<li><p>Use zero spaces before <code class="docutils literal notranslate"><span class="pre">public:</span></code>, <code class="docutils literal notranslate"><span class="pre">private:</span></code>, or <code class="docutils literal notranslate"><span class="pre">protected:</span></code>, or 2 spaces</p></li>
<li><p>If you use 2 spaces before, indent other class statements by 2 additional spaces</p></li>
<li><p>Prefer zero spaces, i.e. <code class="docutils literal notranslate"><span class="pre">public:</span></code>, <code class="docutils literal notranslate"><span class="pre">private:</span></code>, or <code class="docutils literal notranslate"><span class="pre">protected:</span></code> in the same column as the class</p></li>
</ul>
</li>
</ul>
</section>
<section id="nested-templates">
<h4>Nested Templates<a class="headerlink" href="#nested-templates" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Never add whitespace to nested templates</p>
<ul>
<li><p>Prefer <code class="docutils literal notranslate"><span class="pre">set&lt;list&lt;string&gt;&gt;</span></code> (C++11 feature) to <code class="docutils literal notranslate"><span class="pre">set&lt;list&lt;string&gt;</span> <span class="pre">&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">set&lt;</span> <span class="pre">list&lt;string&gt;</span> <span class="pre">&gt;</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="always-use-braces">
<h4>Always Use Braces<a class="headerlink" href="#always-use-braces" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Always use braces following <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code>, <code class="docutils literal notranslate"><span class="pre">do</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>, and <code class="docutils literal notranslate"><span class="pre">for</span></code>, even when the body is a single line.</p>
<ul>
<li><p>rationale: less opportunity for visual ambiguity and for complications due to use of macros in the body</p></li>
</ul>
</li>
</ul>
</section>
<section id="open-versus-cuddled-braces">
<h4>Open Versus Cuddled Braces<a class="headerlink" href="#open-versus-cuddled-braces" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>Use open braces for <code class="docutils literal notranslate"><span class="pre">function</span></code>, <code class="docutils literal notranslate"><span class="pre">class</span></code>, and <code class="docutils literal notranslate"><span class="pre">struct</span></code> definitions, but cuddle braces on <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>, <code class="docutils literal notranslate"><span class="pre">for</span></code>, etc...</p>
<ul>
<li><p>Exception: when an <code class="docutils literal notranslate"><span class="pre">if</span></code> (or <code class="docutils literal notranslate"><span class="pre">while</span></code>, etc.) condition is long enough to require line-wrapping, then use an open brace (i.e., don't cuddle).</p></li>
</ul>
</li>
<li><p>When a function call cannot fit on one line, wrap at the open parenthesis (not in between arguments) and start them on the next line with a 2-space indent.  Continue with the 2-space indent on subsequent lines for more arguments.  (Note that the <a class="reference external" href="https://google.github.io/styleguide/cppguide.html#Function_Calls">Google style guide</a> is internally contradictory on this point.)</p>
<ul>
<li><p>Same goes for <code class="docutils literal notranslate"><span class="pre">if</span></code> (and <code class="docutils literal notranslate"><span class="pre">while</span></code>, etc.) conditions that are too long to fit on one line.</p></li>
</ul>
</li>
</ul>
</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="永久链接至标题"></a></h4>
<p>This is OK:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">both</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// Long condition; open brace</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="k">this</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">that</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// Short function call</span>
<span class="n">call_func</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Long function call; wrap at the open parenthesis</span>
<span class="n">call_func</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Very long function argument; separate it for readability</span>
<span class="n">call_func</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">bang</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">fooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">bat</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This is <strong>not</strong> OK:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"></span>
<span class="w">    </span><span class="n">that</span><span class="w"> </span><span class="o">||</span><span class="w"></span>
<span class="w">    </span><span class="n">both</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Use open braces rather than excessive indention, e.g. for distinguishing constructor code from constructor initializer lists</p>
<p>This is OK:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">ReturnType</span><span class="w"> </span><span class="nf">LongClassName::ReallyReallyReallyLongFunctionName</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">Type</span><span class="w"> </span><span class="n">par_name1</span><span class="p">,</span><span class="w">  </span><span class="c1">// 2 space indent</span>
<span class="w">  </span><span class="n">Type</span><span class="w"> </span><span class="n">par_name2</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">Type</span><span class="w"> </span><span class="n">par_name3</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">DoSomething</span><span class="p">();</span><span class="w">  </span><span class="c1">// 2 space indent</span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">var</span><span class="p">)</span><span class="w"></span>
<span class="o">:</span><span class="w"> </span><span class="n">some_var_</span><span class="p">(</span><span class="n">var</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="n">some_other_var_</span><span class="p">(</span><span class="n">var</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="w">  </span><span class="n">DoSomething</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>This is <strong>not</strong> OK, even weird (the google way?):</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">ReturnType</span><span class="w"> </span><span class="nf">LongClassName::ReallyReallyReallyLongFunctionName</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">Type</span><span class="w"> </span><span class="n">par_name1</span><span class="p">,</span><span class="w">  </span><span class="c1">// 4 space indent</span>
<span class="w">    </span><span class="n">Type</span><span class="w"> </span><span class="n">par_name2</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Type</span><span class="w"> </span><span class="n">par_name3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">DoSomething</span><span class="p">();</span><span class="w">  </span><span class="c1">// 2 space indent</span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">var</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="n">some_var_</span><span class="p">(</span><span class="n">var</span><span class="p">),</span><span class="w">             </span><span class="c1">// 4 space indent</span>
<span class="w">      </span><span class="n">some_other_var_</span><span class="p">(</span><span class="n">var</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// lined up</span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="w">  </span><span class="n">DoSomething</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="linters">
<h4>Linters<a class="headerlink" href="#linters" title="永久链接至标题"></a></h4>
<p>We check these styles with a combination of Google's <a class="reference external" href="https://github.com/google/styleguide">cpplint.py</a> and <a class="reference external" href="https://github.com/uncrustify/uncrustify">uncrustify</a>.</p>
<p>We provide command line tools with custom configurations:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_cpplint/doc/index.rst">ament_cpplint</a></p></li>
<li><p><a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_uncrustify/doc/index.rst">ament_uncrustify</a>: <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_uncrustify/ament_uncrustify/configuration/ament_code_style.cfg">configuration</a></p></li>
</ul>
<p>We also run other tools to detect and eliminate as many warnings as possible.
Here's a non-exhaustive list of additional things we try to do on all of our packages:</p>
<ul class="simple">
<li><p>use compiler flags like <code class="docutils literal notranslate"><span class="pre">-Wall</span> <span class="pre">-Wextra</span> <span class="pre">-Wpedantic</span></code></p></li>
<li><p>run static code analysis like <code class="docutils literal notranslate"><span class="pre">cppcheck</span></code>, which we have integrated in <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_cppcheck/doc/index.rst">ament_cppcheck</a>.</p></li>
</ul>
</section>
</section>
</section>
<section id="python">
<h2><a class="toc-backref" href="#id14">Python</a><a class="headerlink" href="#python" title="永久链接至标题"></a></h2>
<section id="version">
<h3><a class="toc-backref" href="#id15">Version</a><a class="headerlink" href="#version" title="永久链接至标题"></a></h3>
<p>We will target Python 3 for our development.</p>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id16">Style</a><a class="headerlink" href="#id4" title="永久链接至标题"></a></h3>
<p>We will use the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8 guidelines</a> for code format.</p>
<p>We chose the following more precise rule where PEP 8 leaves some freedom:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#maximum-line-length">We allow up to 100 characters per line (fifth paragraph)</a>.</p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#string-quotes">We pick single quotes over double quotes as long as no escaping is necessary</a>.</p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#indentation">We prefer hanging indents for continuation lines</a>.</p></li>
</ul>
<p>Tools like the <code class="docutils literal notranslate"><span class="pre">(ament_)pycodestyle</span></code> Python package should be used in unit-test and/or editor integration for checking Python code style.</p>
<p>The pycodestyle configuration used in the linter is <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_pycodestyle/ament_pycodestyle/configuration/ament_pycodestyle.ini">here</a>.</p>
<p>Integration with editors:</p>
<ul class="simple">
<li><p>atom: <a class="reference external" href="https://atom.io/packages/linter-pycodestyle">https://atom.io/packages/linter-pycodestyle</a></p></li>
<li><p>emacs: <a class="reference external" href="https://www.emacswiki.org/emacs/PythonProgrammingInEmacs">https://www.emacswiki.org/emacs/PythonProgrammingInEmacs</a></p></li>
<li><p>Sublime Text: <a class="reference external" href="https://sublime.wbond.net/packages/SublimeLinter-flake8">https://sublime.wbond.net/packages/SublimeLinter-flake8</a></p></li>
<li><p>vim: <a class="reference external" href="https://github.com/nvie/vim-flake8">https://github.com/nvie/vim-flake8</a></p></li>
</ul>
</section>
</section>
<section id="cmake">
<h2><a class="toc-backref" href="#id17">CMake</a><a class="headerlink" href="#cmake" title="永久链接至标题"></a></h2>
<section id="id5">
<h3><a class="toc-backref" href="#id18">Version</a><a class="headerlink" href="#id5" title="永久链接至标题"></a></h3>
<p>We will target CMake 3.5.</p>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id19">Style</a><a class="headerlink" href="#id6" title="永久链接至标题"></a></h3>
<p>Since there is not an existing CMake style guide we will define our own:</p>
<ul class="simple">
<li><p>Use lowercase command names (<code class="docutils literal notranslate"><span class="pre">find_package</span></code>, not <code class="docutils literal notranslate"><span class="pre">FIND_PACKAGE</span></code>).</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> identifiers (variables, functions, macros).</p></li>
<li><p>Use empty <code class="docutils literal notranslate"><span class="pre">else()</span></code> and <code class="docutils literal notranslate"><span class="pre">end...()</span></code> commands.</p></li>
<li><p>No whitespace before <code class="docutils literal notranslate"><span class="pre">(</span></code>'s.</p></li>
<li><p>Use two spaces of indention, do not use tabs.</p></li>
<li><p>Do not use aligned indentation for parameters of multi-line macro invocations. Use two spaces only.</p></li>
<li><p>Prefer functions with <code class="docutils literal notranslate"><span class="pre">set(PARENT_SCOPE)</span></code> to macros.</p></li>
<li><p>When using macros prefix local variables with <code class="docutils literal notranslate"><span class="pre">_</span></code> or a reasonable prefix.</p></li>
</ul>
</section>
</section>
<section id="markdown-restructured-text-docblocks">
<h2><a class="toc-backref" href="#id20">Markdown / reStructured Text / docblocks</a><a class="headerlink" href="#markdown-restructured-text-docblocks" title="永久链接至标题"></a></h2>
<section id="id7">
<h3><a class="toc-backref" href="#id21">Style</a><a class="headerlink" href="#id7" title="永久链接至标题"></a></h3>
<p>The following rules to format text is intended to increase readability as well as versioning.</p>
<ul class="simple">
<li><p><em>[.md, .rst only]</em> Each section title should be preceded by one empty line and succeeded by one empty line.</p>
<ul>
<li><p>Rationale: It expedites to get an overview about the structure when screening the document.</p></li>
</ul>
</li>
<li><p><em>[.rst only]</em> In reStructured Text the headings should follow the hierarchy described in the <a class="reference external" href="https://documentation-style-guide-sphinx.readthedocs.io/en/latest/style-guide.html#headings">Sphinx style guide</a>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span></code> with overline (only once, used for the document title)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> with overline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code></p></li>
<li><p>Rationale: A consistent hierarchy expedites getting an idea about the nesting level when screening the document.</p></li>
</ul>
</li>
<li><p><em>[.md only]</em> In Markdown the headings should follow the ATX-style described in the <a class="reference external" href="https://daringfireball.net/projects/markdown/syntax#header">Markdown syntax documentation</a></p>
<ul>
<li><p>ATX-style headers use 1-6 hash characters (<code class="docutils literal notranslate"><span class="pre">#</span></code>) at the start of the line to denote header levels 1-6.</p></li>
<li><p>A space between the hashes and the header title should be used (such as <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Heading</span> <span class="pre">1</span></code>) to make it easier to visually separate them.</p></li>
<li><p>Justification for the ATX-style preference comes from the <a class="reference external" href="https://github.com/google/styleguide/blob/gh-pages/docguide/style.md#atx-style-headings">Google Markdown style guide</a></p></li>
<li><p>Rationale: ATX-style headers are easier to search and maintain, and make the first two header levels consistent with the other levels.</p></li>
</ul>
</li>
<li><p><em>[any]</em> Each sentence must start on a new line.</p>
<ul>
<li><p>Rationale: For longer paragraphs a single change in the beginning makes the diff unreadable since it carries forward through the whole paragraph.</p></li>
</ul>
</li>
<li><p><em>[any]</em> Each sentence can optionally be wrapped to keep each line short.</p></li>
<li><p><em>[any]</em> The lines should not have any trailing white spaces.</p></li>
<li><p><em>[.md, .rst only]</em> A code block must be preceded and succeeded by an empty line.</p>
<ul>
<li><p>Rationale: Whitespace is significant only directly before and directly after fenced code blocks.
Following these instructions will ensure that highlighting works properly and consistently.</p></li>
</ul>
</li>
<li><p><em>[.md, .rst only]</em> A code block should specify a syntax (e.g. <code class="docutils literal notranslate"><span class="pre">bash</span></code>).</p></li>
</ul>
</section>
</section>
</section>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Developer-Guide.html" class="btn btn-neutral float-left" title="ROS 2 developer guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Quality-Guide.html" class="btn btn-neutral float-right" title="Quality guide: ensuring code quality" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>