<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROS 2开发人员指南 [待校准@9430] &mdash; ROS 2 documentation  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/Contributing/Developer-Guide.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="代码样式和语言版本 [待校准@9212]" href="Code-Style-Language-Versions.html" />
    <link rel="prev" title="贡献 [待校准@9128]" href="../Contributing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">安装 [待校准&#64;5690]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Development-Setup.html">在Ubuntu Linux上构建ROS 2 [待校准&#64;5886]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Binary.html">在Ubuntu Linux上安装ROS 2 [待校准&#64;5937]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">通过Debian包安装ROS 2 [待校准&#64;5959]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Development-Setup.html">在macOS上构建ROS 2 [待校准&#64;6117]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Install-Binary.html">在macOS上安装ROS 2 [待校准&#64;6148]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Development-Setup.html">在Windows上构建ROS 2 [待校准&#64;5973]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">在Windows上安装ROS 2 [待校准&#64;6050]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Fedora-Development-Setup.html">在Fedora Linux上构建ROS 2 [待校准&#64;5836]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Latest-Development-Setup.html">安装最新的ROS 2开发版本 [待校准&#64;5840]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">主源文件检出ROS 2Foxy [待校准&#64;5850]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">用于测试的替代安装源 [待校准&#64;5873]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">安装DDS实现 [待校准&#64;5717]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">安装Connext安全插件 [待校准&#64;5768]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">安装大学或RTI Connext DDS的评估版本 [待校准&#64;5782]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">使用EclipseCycloneDDS [待校准&#64;5796]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">与GurumNetworks GurumDDS合作 [待校准&#64;5812]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">与eProsimaFast DDS合作 [待校准&#64;5829]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Docs-Guide.html">文档指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">教程 [待校准&#64;6242]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Configuring-ROS2-Environment.html">配置ROS 2环境 [待校准&#64;6646]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Turtlesim/Introducing-Turtlesim.html">介绍turtlesim和rqt [待校准&#64;8428]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Nodes.html">了解ROS 2节点 [待校准&#64;8733]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Topics/Understanding-ROS2-Topics.html">理解ROS 2话题 [待校准&#64;8368]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Services/Understanding-ROS2-Services.html">了解ROS 2服务 [待校准&#64;7742]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Parameters/Understanding-ROS2-Parameters.html">理解ROS 2参数 [待校准&#64;7371]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Actions.html">理解ROS 2动作 [待校准&#64;8684]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rqt-Console/Using-Rqt-Console.html">使用rqt_控制台 [待校准&#64;7712]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch/CLI-Intro.html">介绍ROS 2launch [待校准&#64;7101]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Recording-And-Playing-Back-Data.html">记录和回放数据 [待校准&#64;7639]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Workspace/Creating-A-Workspace.html">创建工作空间 [待校准&#64;8836]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Creating-Your-First-ROS2-Package.html">创建您的第一个ROS 2包 [待校准&#64;6677]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">编写简单的发布者和订阅者 (c ++) [待校准&#64;8905]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Publisher-And-Subscriber.html">编写简单的发布者和订阅者 (Python) [待校准&#64;8992]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Service-And-Client.html">编写简单的服务和客户端 (c ++) [待校准&#64;8953]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Service-And-Client.html">编写简单的服务和客户端 (Python) [待校准&#64;9028]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Custom-ROS2-Interfaces.html">创建自定义ROS 2 msg 和 srv 文件 [待校准&#64;6739]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Single-Package-Define-And-Use-Interface.html">在ROS 2接口上扩展 [待校准&#64;7844]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-CPP.html">在类 (c ++) 中使用参数 [待校准&#64;8769]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-Python.html">在类中使用参数 (Python) [待校准&#64;8809]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Getting-Started-With-Ros2doctor.html">开始使用ros2doctor [待校准&#64;7010]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Pluginlib.html">创建和使用插件 (c ++) [待校准&#64;7411]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Creating-an-Action.html">创建动作 [待校准&#64;6271]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Cpp-Action-Server-Client.html">编写动作服务器和客户端 (c ++) [待校准&#64;6313]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Py-Action-Server-Client.html">编写动作服务器和客户端 (Python) [待校准&#64;6385]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Composition.html">在单个进程中组成多个节点 [待校准&#64;6594]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Colcon-Tutorial.html">使用colcon构建包 [待校准&#64;6535]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch/Launch-Main.html">Launch教程 [待校准&#64;7160]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Creating-Launch-Files.html">创建launch文件 [待校准&#64;7122]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Launch-system.html">[需手动修复的语法]Launch/监控多节点[需手动修复的语法]Launch [待校准&#64;7174]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-Substitutions.html">在launch文件中使用替换 [待校准&#64;7297]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-Event-Handlers.html">在launch文件中使用事件处理程序 [待校准&#64;7201]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-ROS2-Launch-For-Large-Projects.html">在大型项目中使用ROS 2launch [待校准&#64;7234]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Tf2/Tf2-Main.html">tf2教程 [待校准&#64;8078]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Introduction-To-Tf2.html">tf2简介 [待校准&#64;7994]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">编写tf2静态广播器 (Python) [待校准&#64;8299]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">编写tf2静态广播器 (c ++) [待校准&#64;8257]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Py.html">编写tf2广播器 (Python) [待校准&#64;8220]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">编写tf2广播器 (c ++) [待校准&#64;8181]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Listener-Py.html">编写tf2监听程序 (Python) [待校准&#64;8251]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Listener-Cpp.html">编写tf2监听程序 (c ++) [待校准&#64;8233]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Adding-A-Frame-Py.html">添加帧 (Python) [待校准&#64;7950]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Adding-A-Frame-Cpp.html">添加帧 (c ++) [待校准&#64;7914]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Learning-About-Tf2-And-Time-Py.html">学习tf2和时间 (Python) [待校准&#64;8040]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Learning-About-Tf2-And-Time-Cpp.html">学习tf2和时间 (c ++) [待校准&#64;8023]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Time-Travel-With-Tf2-Py.html">时间穿梭tf2 (Python) [待校准&#64;8130]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Time-Travel-With-Tf2-Cpp.html">时间穿梭带tf2 (C++) [待校准&#64;8105]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Debugging-Tf2-Problems.html">调试tf2问题 [待校准&#64;7956]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Quaternion-Fundamentals.html">四元数基金amentals [待校准&#64;8054]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">使用stamped数据类型与tf2_ros: MessageFilter [待校准&#64;8138]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/URDF/URDF-Main.html">URDF教程 [待校准&#64;8607]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">从头开始用URDF构建视觉机器人模型 [待校准&#64;8556]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Building-a-Movable-Robot-Model-with-URDF.html">用URDF建立可移动机器人模型 [待校准&#64;8534]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">向URDF模型添加物理和碰撞属性 [待校准&#64;8487]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">使用Xacro清理URDF文件 [待校准&#64;8635]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Using-URDF-with-Robot-State-Publisher.html">将URDF与robot_state_发布者结合使用 [待校准&#64;8609]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Topics/Topic-Statistics-Tutorial.html">ROS 2话题统计教程 (c ++) [待校准&#64;8311]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Discovery-Server/Discovery-Server.html">使用Fast DDS Discovery Server作为发现协议 [社区贡献] [待校准&#64;6879]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Allocator-Template-Tutorial.html">实现自定义内存分配器 [待校准&#64;6445]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Simulators/Webots/Setting-up-a-Robot-Simulation-Webots.html">设置机器人仿真 (Webots) [待校准&#64;7782]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Deploying-ROS-2-on-IBM-Cloud.html">IBM Cloud Kubernetes上的ROS2 [社区-贡献] [待校准&#64;6792]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">带有ROS 2和rviz2的Eclipse Oxygen [社区贡献] [待校准&#64;6947]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">为ROS 2构建实时Linux [社区-贡献] [待校准&#64;6514]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node.html">从您自己的节点记录一个包 [待校准&#64;7554]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-ROS2-Package-with-eclipse-2021-06.html">使用eclipse 2021-06构建ROS 2包 [待校准&#64;6486]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Quality-of-Service.html">使用服务质量设置处理有损网络 [待校准&#64;7462]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Managed-Nodes.html">具有托管生命周期的节点管理 [待校准&#64;7369]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intra-Process-Communication.html">高效的流程内通讯 [待校准&#64;7051]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rosbag-with-ROS1-Bridge.html">使用ROS 1bridge用rosbag记录和回放话题数据 [待校准&#64;7685]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Real-Time-Programming.html">ROS 2中的实时编程 [待校准&#64;7491]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/dummy-robot-demo.html">尝试dummy robot例程 [待校准&#64;9056]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Logging-and-logger-configuration.html">日志和日志记录器配置例程 [待校准&#64;7322]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../How-To-Guides.html">操作指南 [待校准&#64;204]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installation-Troubleshooting.html">安装故障诊断工具 [待校准&#64;535]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Developing-a-ROS-2-Package.html">开发ROS 2包 [待校准&#64;514]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Documentation.html">[需手动修复的语法]ament _ cmake用户文档 [待校准&#64;208]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Python-Documentation.html">[需手动修复的语法]ament _ cmake_python用户文档 [待校准&#64;360]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html">迁移launch文件ROS 1ROS 2 [待校准&#64;638]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-file-different-formats.html">对ROS 2Launch文件使用Python、XML和YAML [待校准&#64;611]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launching-composable-nodes.html">使用ROS 2launch到launch可组合节点 [待校准&#64;733]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Parameters-YAML-files-migration-guide.html">将YAML参数文件从ROS 1迁移到ROS 2 [待校准&#64;850]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Node-arguments.html">通过命令行将ROS参数传递给节点 [待校准&#64;746]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Sync-Vs-Async.html">同步与异步服务客户端 [待校准&#64;972]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/DDS-tuning.html">DDS调谐信息 [待校准&#64;470]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2: 重载QoS策略 [待校准&#64;772]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html">使用多个ROS 2中间件实现 [待校准&#64;1068]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Cross-compilation.html">交叉编译 [待校准&#64;383]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Releasing-a-ROS-2-package-with-bloom.html">发布带有bloom的ROS 2包 [待校准&#64;937]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Python-Packages.html">将Python包与ROS 2结合使用 [待校准&#64;1011]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Port-Plugin-Windows.html">将RQt插件移植到Windows [待校准&#64;862]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">在Docker中运行ROS 2节点 [社区-贡献] [待校准&#64;959]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Package-maintainer-guide.html">ROS 2包维护者指南 [待校准&#64;785]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-a-Custom-Debian-Package.html">构建自定义Debian包 [待校准&#64;371]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Topics-Services-Actions.html">话题vs服务vsAction [待校准&#64;997]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Variants.html">使用变体 [待校准&#64;1031]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros2-param.html">使用 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code> 命令行工具 [待校准&#64;1046]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install.html">从源文件构建RQt [待校准&#64;883]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-MacOS.html">在macOS上从源文件构建RQt [待校准&#64;908]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-Windows10.html">在Windows 10上从源文件构建RQt [待校准&#64;916]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">概念 [待校准&#64;4938]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Domain-ID.html">ROS_DOMAIN_ID [待校准&#64;5194]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html">关于不同的ROS 2 DDS/RTPS供应商 [待校准&#64;5153]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Logging.html">关于日志和日志记录器配置 [待校准&#64;5325]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">关于服务质量设置 [待校准&#64;5369]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">关于ROS 2客户端库 [待校准&#64;5459]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">关于ROS 2接口 [待校准&#64;5526]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">关于ROS 2中的参数 [待校准&#64;5490]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Executors.html">执行器 [待校准&#64;5227]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Topic-Statistics.html">关于话题统计 [待校准&#64;5671]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Command-Line-Tools.html">使用命令行工具进行自检 [待校准&#64;5091]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-RQt.html">RQt的概述和使用 [待校准&#64;5625]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Composition.html">关于组件 [待校准&#64;5119]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Catment.html">[需手动修复的语法]ament和catkin的混合研究 [待校准&#64;5019]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Cross-Compilation.html">关于交叉编译 [待校准&#64;5141]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Tf2.html">关于tf2 [待校准&#64;5653]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Build-System.html">关于构建系统 [待校准&#64;4969]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Internal-Interfaces.html">关于内部ROS 2接口 [待校准&#64;5265]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Middleware-Implementations.html">关于ROS 2中间件实现 [待校准&#64;5347]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Client-Interfaces.html">ROS 2客户端接口 (客户端库) [待校准&#64;5079]</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Contributing.html">贡献 [待校准&#64;9128]</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ROS 2开发人员指南 [待校准&#64;9430]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Code-Style-Language-Versions.html">代码样式和语言版本 [待校准&#64;9212]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quality-Guide.html">质量指南: 确保代码质量 [待校准&#64;10012]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Migration-Guide.html">从ROS 1迁移指南 [待校准&#64;9780]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Migration-Guide-Python.html">来自ROS 1的Python迁移指南 [待校准&#64;10003]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Build-Farms.html">ROS Build Farms [待校准&#64;9167]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Windows-Tips-and-Tricks.html">Windows提示和技巧 [待校准&#64;10105]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Contributing-To-ROS-2-Documentation.html">为ROS 2文档做出贡献 [待校准&#64;9366]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">联系人 [待校准&#64;6167]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROSCon-Content.html">ROSCon内容 [待校准&#64;105]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">发行版 [待校准&#64;1233]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Alpha-Overview.html">ROS 2 α 发行版本 (2015年8月-2016年10月) [待校准&#64;1306]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta1-Overview.html">贝塔1 (代号'Asphalt'; 2016年12月) [待校准&#64;1386]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta2-Overview.html">贝塔2 (代号'r2b2'; 2017年7月) [待校准&#64;1420]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta3-Overview.html">贝塔3 (代号'r2b3'; 2017年9月) [待校准&#64;1451]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Ardent-Apalone.html">ROS 2Ardent阿帕隆 (代号'ardent'; 2017年12月) [待校准&#64;4089]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Bouncy-Bolson.html">ROS 2 Bouncy Bolson (代号'bouncy'; 2018年6月) [待校准&#64;4130]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Crystal-Clemmys.html">ROS 2Crystal Clemmys (代号'crystal'; 2018年12月) [待校准&#64;4158]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Dashing-Diademata.html">ROS 2DashingDiademata (代号'dashing'; 2019年5月31日) [待校准&#64;4237]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Eloquent-Elusor.html">ROS 2EloquentElusor (代号'eloquent'; 2019年11月22日) [待校准&#64;4427]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Foxy-Fitzroy.html">ROS 2FoxyFitzroy (代号'foxy'; 2020年6月5日) [待校准&#64;4503]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Galactic-Geochelone.html">ROS 2GalacticGeochelone (代号'galactic'; 2021年5月) [待校准&#64;4649]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Galactic-Geochelone-Complete-Changelog.html">ROS 2GalacticGeochelone完整变更日志 [待校准&#64;1470]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Humble-Hawksbill.html">ROS 2Humble Hawksbill (代号'humble'; 2022年5月) [待校准&#64;4845]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Rolling-Ridley.html">ROS 2Rolling Ridley (代号'rolling'; 2020年6月) [待校准&#64;4929]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Features.html">功能状态 [待校准&#64;9074]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Roadmap.html">路线图 [待校准&#64;45]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Feature-Ideas.html">特色创意 [待校准&#64;1123]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Governance.html">项目管理 [待校准&#64;10131]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Charter.html">ROS 2技术指导委员会章程 [待校准&#64;10280]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC申请人摄入流程 [待校准&#64;10368]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/How-To-Start-A-Community-Working-Group.html">如何成立社区工作组 [待校准&#64;10253]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Marketing.html">营销材料 [待校准&#64;6193]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相关项目 [待校准&#64;6209]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">[需手动修复的语法]IntelROS 2项目 [待校准&#64;6210]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">[需手动修复的语法]NVIDIAROS 2项目 [待校准&#64;6228]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">术语表 [待校准&#64;1217]</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Contributing.html">贡献 [待校准&#64;9128]</a> &raquo;</li>
      <li>ROS 2开发人员指南 [待校准&#64;9430]</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/foxy/source/Contributing/Developer-Guide.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="ros-2-developer-guide">
<h1>ROS 2开发人员指南 <a class="reference external" href="http://localhost:3000/#/home?msgid=9430">[待校准&#64;9430]</a><a class="headerlink" href="#ros-2-developer-guide" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#general-principles" id="id2">一般原则 [待校准&#64;9432]</a></p></li>
<li><p><a class="reference internal" href="#quality-practices" id="id3">质量实践 [待校准&#64;9437]</a></p>
<ul>
<li><p><a class="reference internal" href="#versioning" id="id4">版本控制 [待校准&#64;9440]</a></p></li>
<li><p><a class="reference internal" href="#change-control-process" id="id5">变更控制流程 [待校准&#64;9478]</a></p></li>
<li><p><a class="reference internal" href="#documentation" id="id6">文档 [待校准&#64;9494]</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id7">测试 [待校准&#64;9515]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#general-practices" id="id8">一般实践 [待校准&#64;9529]</a></p>
<ul>
<li><p><a class="reference internal" href="#issues" id="id9">问题 [待校准&#64;9532]</a></p></li>
<li><p><a class="reference internal" href="#pull-requests" id="id10">拉取请求 [待校准&#64;9545]</a></p></li>
<li><p><a class="reference internal" href="#library-versioning" id="id11">库版本控制 [待校准&#64;9556]</a></p></li>
<li><p><a class="reference internal" href="#development-process" id="id12">开发流程 [待校准&#64;9558]</a></p></li>
<li><p><a class="reference internal" href="#changes-to-rmw-api" id="id13">对RMW API的更改 [待校准&#64;9564]</a></p></li>
<li><p><a class="reference internal" href="#tracking-tasks" id="id14">跟踪任务 [待校准&#64;9570]</a></p></li>
<li><p><a class="reference internal" href="#programming-conventions" id="id15">编程约定 [待校准&#64;9579]</a></p></li>
<li><p><a class="reference internal" href="#filesystem-layout" id="id16">文件系统布局 [待校准&#64;9587]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#developer-workflow" id="id17">开发人员工作流 [待校准&#64;9612]</a></p></li>
<li><p><a class="reference internal" href="#architectural-development-practices" id="id18">建筑开发实践 [待校准&#64;9640]</a></p>
<ul>
<li><p><a class="reference internal" href="#software-development-lifecycle" id="id19">软件开发生命周期 [待校准&#64;9642]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#build-farm-introduction" id="id20">建立农场介绍 [待校准&#64;9706]</a></p>
<ul>
<li><p><a class="reference internal" href="#note-on-coverage-runs" id="id21">关于覆盖运行的注意事项 [待校准&#64;9748]</a></p></li>
<li><p><a class="reference internal" href="#how-to-read-the-coverage-rate-from-the-buildfarm-report" id="id22">如何从buildfarm报告中读取覆盖率 [待校准&#64;9751]</a></p></li>
<li><p><a class="reference internal" href="#how-to-calculate-the-coverage-rate-from-the-buildfarm-report" id="id23">如何从buildfarm报告中计算覆盖率 [待校准&#64;9760]</a></p></li>
<li><p><a class="reference internal" href="#how-to-measure-coverage-locally-using-lcov-ubuntu" id="id24">如何使用lcov (Ubuntu) 测量覆盖率lo调用y [待校准&#64;9772]</a></p></li>
</ul>
</li>
</ul>
</div>
<p>本页定义了我们在开发ROS 2时采用的实践和政策。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9431">[待校准&#64;9431]</a></p>
<div class="section" id="general-principles">
<h2>一般原则 <a class="reference external" href="http://localhost:3000/#/home?msgid=9432">[待校准&#64;9432]</a><a class="headerlink" href="#general-principles" title="永久链接至标题"></a></h2>
<p>一些原则对于所有ROS 2开发版本都是通用的: <a class="reference external" href="http://localhost:3000/#/home?msgid=9433">[待校准&#64;9433]</a></p>
<ul class="simple">
<li><p>共享所有权: 每个在ROS 2上工作的人都应该感受到对系统所有部分的所有权。代码块的原始作者没有任何特殊的许可或义务来控制或维护该代码块。每个人都可以在任何地方提出更改，处理任何类型的票证，并审查任何拉取请求。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9434">[待校准&#64;9434]</a></p></li>
<li><p>愿意做任何事情: 作为共享所有权的必然结果，每个人都应该愿意承担任何可用的任务，并为系统的任何方面做出贡献。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9435">[待校准&#64;9435]</a></p></li>
<li><p>寻求帮助: 如果你在某件事情上遇到麻烦，酌情通过门票、评论或电子邮件向你的开发人员同事寻求帮助。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9436">[待校准&#64;9436]</a></p></li>
</ul>
</div>
<div class="section" id="quality-practices">
<h2>质量实践 <a class="reference external" href="http://localhost:3000/#/home?msgid=9437">[待校准&#64;9437]</a><a class="headerlink" href="#quality-practices" title="永久链接至标题"></a></h2>
<p>根据 <a class="reference external" href="https://www.ros.org/reps/rep-2004.html">REP 2004: Package Quality Categories</a> 的指导方针，包装可以根据其遵守的开发版本实践归因于不同的质量水平。这些类别因其在版本控制、测试、文档编制等方面的政策而有所不同。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9438">[待校准&#64;9438]</a></p>
<p>以下各节是我们遵循的具体开发版本规则，以确保核心包具有最高质量 ('Level 1')。我们建议所有ROS开发人员努力遵守以下政策，以确保整个ROS生态系统的质量。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9439">[待校准&#64;9439]</a></p>
<div class="section" id="versioning">
<h3>版本控制 <a class="reference external" href="http://localhost:3000/#/home?msgid=9440">[待校准&#64;9440]</a><a class="headerlink" href="#versioning" title="永久链接至标题"></a></h3>
<p>我们将使用 <a class="reference external" href="http://semver.org/">Semantic Versioning guidelines</a>  ( <code class="docutils literal notranslate"><span class="pre">semver</span></code> ) 进行版本控制。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9441">[待校准&#64;9441]</a></p>
<p>我们还将遵守一些基于 “semver” 的特定ROS规则，其全部含义为: <a class="reference external" href="http://localhost:3000/#/home?msgid=9442">[待校准&#64;9442]</a></p>
<ul class="simple">
<li><p>主要版本增量 (即中断更改) 不应在已发布的ROS发行版中进行。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9443">[待校准&#64;9443]</a></p>
<ul>
<li><p>补丁 (保留接口) 和次要 (不间断) 版本增量不会破坏兼容性，因此在发行版中允许此类更改。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9444">[待校准&#64;9444]</a></p></li>
<li><p>主要的ROS发行版本是发布重大变更的最佳时机。如果核心包需要多个重大更改，则应将其合并到其集成分支中 (例如g. master) 允许快速捕获CI中的问题，但同时发布以减少ROS用户的主要发行版本数量。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9445">[待校准&#64;9445]</a></p></li>
<li><p>虽然主要的增量需要一个新的发行版，但是一个新的发行版不一定需要一个主要的冲击 (如果开发版本和发行版可以在不破坏API的情况下发生)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9446">[待校准&#64;9446]</a></p></li>
</ul>
</li>
<li><p>对于编译代码，ABI被认为是公共接口的一部分。任何需要重新编译依赖代码的更改都被认为是主要的 (中断)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9447">[待校准&#64;9447]</a></p>
<ul>
<li><p>ABI中断更改 * 可以 * 在 * 发行版之前 * 在次要版本中进行 (添加到滚动发行版中)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9448">[待校准&#64;9448]</a></p></li>
</ul>
</li>
<li><p>我们对Dashing和Eloquent的核心包实施API稳定性，尽管它们的主要版本组件是 <code class="docutils literal notranslate"><span class="pre">0</span></code> ，尽管 <a class="reference external" href="https://semver.org/#spec-item-4">SemVer's specification</a> 关于初始开发版本。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9449">[待校准&#64;9449]</a></p>
<ul>
<li><p>随后，包应努力达到成熟状态，并增加到 <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code> 版本，以符合 “半个” 的规格。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9450">[待校准&#64;9450]</a></p></li>
</ul>
</li>
</ul>
<div class="section" id="caveats">
<h4>注意事项 <a class="reference external" href="http://localhost:3000/#/home?msgid=9451">[待校准&#64;9451]</a><a class="headerlink" href="#caveats" title="永久链接至标题"></a></h4>
<p>这些规则是 * 尽力而为 <a href="#id1"><span class="problematic" id="id2">*</span></a>。在不太可能的极端情况下，可能有必要在主要版本/发行版中破坏API。计划外的中断是增加主要版本还是次要版本将根据具体情况进行评估。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9452">[待校准&#64;9452]</a></p>
<p>例如，考虑一种情况，包括释放的X-turtle (对应于主版 <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code> ) 和释放的Y-turtle (对应于主版 <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> )。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9453">[待校准&#64;9453]</a></p>
<p>如果在X-turtle中发现破坏API的修复是绝对必要的，那么撞到 <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> 显然不是一个选择，因为 <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> 已经存在。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9454">[待校准&#64;9454]</a></p>
<p>在这种情况下，处理X-turtle版本的解决方案 (两者都不理想) 是: <a class="reference external" href="http://localhost:3000/#/home?msgid=9455">[待校准&#64;9455]</a></p>
<ol class="arabic simple">
<li><p>碰撞X-turtle的次要版本: 不理想，因为它违反了SemVer的原则，即打破变化必须碰撞主要版本。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9456">[待校准&#64;9456]</a></p></li>
<li><p>碰撞X-turtle的主要版本超过Y-turtle (到 <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code> ): 不理想，因为旧发行版的版本会变得比新发行版的现有版本更高，这将使特定于版本的条件代码无效/中断。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9457">[待校准&#64;9457]</a></p></li>
</ol>
<p>开发人员必须决定使用哪种解决方案，或者更重要的是，他们愿意打破哪种原则。我们不能建议其中一个或另一个，但在这两种情况下，我们确实要求采取明确的措施来手动向用户传达中断及其解释 (不仅仅是版本增量)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9458">[待校准&#64;9458]</a></p>
<p>如果没有Y-turtle，即使修复程序将techni调用y只是一个补丁，X-turtle也必须碰到 <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> 。这种情况适用于SemVer，但违反了我们自己的规则，即在发布的发行版中不应引入主要增量。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9459">[待校准&#64;9459]</a></p>
<p>这就是为什么我们考虑版本控制规则 * 尽力而为 <a href="#id1"><span class="problematic" id="id2">*</span></a>。尽管上述例子不太可能，但准确定义我们的版本控制系统是很重要的。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9460">[待校准&#64;9460]</a></p>
</div>
<div class="section" id="public-api-declaration">
<h4>公共API声明 <a class="reference external" href="http://localhost:3000/#/home?msgid=9461">[待校准&#64;9461]</a><a class="headerlink" href="#public-api-declaration" title="永久链接至标题"></a></h4>
<p>根据 <code class="docutils literal notranslate"><span class="pre">semver</span></code> ，每个包必须清楚地声明一个公共API。我们将使用包装质量声明的  &quot;Public API Declaration&quot; 部分来声明哪些符号是公共API的一部分。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9462">[待校准&#64;9462]</a></p>
<p>对于大多数C和C + + 包，声明是它安装的任何标头。然而，定义一组被认为是私有的符号是可以接受的。避免标题中的私有符号有助于提高ABI的稳定性，但不是必需的。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9463">[待校准&#64;9463]</a></p>
<p>对于Python等其他语言，必须明确定义公共API，以便清楚地了解版本控制指南可以依赖哪些符号。公共API也可以扩展到构建工件，如配置变量、CMake配置文件等，以及可执行文件、命令行选项和输出。公共API的任何元素都应在包的文档中明确说明。如果您使用的内容没有在包的文档中明确列出为公共API的一部分，那么您就不能依赖它而不在次要版本或补丁版本之间进行更改。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9464">[待校准&#64;9464]</a></p>
</div>
<div class="section" id="deprecation-strategy">
<h4>弃用策略 <a class="reference external" href="http://localhost:3000/#/home?msgid=9465">[待校准&#64;9465]</a><a class="headerlink" href="#deprecation-strategy" title="永久链接至标题"></a></h4>
<p>在可能的情况下，我们还将使用滴答作响的弃用和迁移策略来实现主要版本的增量。新的弃用将出现在新的发行版中，并伴随着编译器警告，表示该功能正在被弃用。在下一个版本中，该功能将被完全删除 (无警告)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9466">[待校准&#64;9466]</a></p>
<p>示例功能 <code class="docutils literal notranslate"><span class="pre">foo</span></code> 弃用替换功能 <code class="docutils literal notranslate"><span class="pre">bar</span></code> : <a class="reference external" href="http://localhost:3000/#/home?msgid=9467">[待校准&#64;9467]</a></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>版本 <a class="reference external" href="http://localhost:3000/#/home?msgid=9317">[待校准&#64;9317]</a></p></th>
<th class="head"><p>API <a class="reference external" href="http://localhost:3000/#/home?msgid=9468">[待校准&#64;9468]</a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>X-turtle <a class="reference external" href="http://localhost:3000/#/home?msgid=9469">[待校准&#64;9469]</a></p></td>
<td><p>无效foo(); <a class="reference external" href="http://localhost:3000/#/home?msgid=9470">[待校准&#64;9470]</a></p></td>
</tr>
<tr class="row-odd"><td><p>Y龟 <a class="reference external" href="http://localhost:3000/#/home?msgid=9471">[待校准&#64;9471]</a></p></td>
<td><p>[[已弃用 (“使用条 ()”)]] 无效foo(); &lt;br&gt; 无效条 (); <a class="reference external" href="http://localhost:3000/#/home?msgid=9472">[待校准&#64;9472]</a></p></td>
</tr>
<tr class="row-even"><td><p>Z龟 <a class="reference external" href="http://localhost:3000/#/home?msgid=9473">[待校准&#64;9473]</a></p></td>
<td><p>空隙条 (); <a class="reference external" href="http://localhost:3000/#/home?msgid=9474">[待校准&#64;9474]</a></p></td>
</tr>
</tbody>
</table>
<p>发布发行后，我们不得添加弃用项。然而，弃用不一定需要主要版本的提升。如果碰撞发生在发行版发布之前，则可以在次要版本碰撞中引入弃用 (类似于ABI破坏更改)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9475">[待校准&#64;9475]</a></p>
<p>例如，如果X-turtle开始以 <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> 的形式开发版本，则可以在X-turtle发布之前在 <code class="docutils literal notranslate"><span class="pre">2.1.0</span></code> 中添加弃用。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9476">[待校准&#64;9476]</a></p>
<p>我们将尽量保持发行版之间的兼容性。然而，就像与SemVer相关的警告一样，在某些情况下，通常不可能完全遵守滴答滴答甚至弃用。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9477">[待校准&#64;9477]</a></p>
</div>
</div>
<div class="section" id="change-control-process">
<h3>变更控制流程 <a class="reference external" href="http://localhost:3000/#/home?msgid=9478">[待校准&#64;9478]</a><a class="headerlink" href="#change-control-process" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>所有更改必须经过拉取请求。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9479">[待校准&#64;9479]</a></p></li>
<li><p>我们将在ROSCore仓库对拉取请求强制执行 <a class="reference external" href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9480">[待校准&#64;9480]</a></p>
<ul>
<li><p>它要求所有提交消息都包含带有与提交作者匹配的电子邮件地址的 <code class="docutils literal notranslate"><span class="pre">Signed-off-by</span></code> 行。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9481">[待校准&#64;9481]</a></p></li>
<li><p>您可以将 <code class="docutils literal notranslate"><span class="pre">-s</span></code> / <code class="docutils literal notranslate"><span class="pre">--signoff</span></code> 传递给 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> 调用，或者手动写入预期的消息 (例如 <code class="docutils literal notranslate"><span class="pre">Signed-off-by:</span> <span class="pre">Your</span> <span class="pre">Name</span> <span class="pre">Developer</span> <span class="pre">&lt;your.name&#64;example.com&gt;</span></code> )。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9482">[待校准&#64;9482]</a></p></li>
<li><p>对于仅解决空格删除、错字更正和其他 <a class="reference external" href="http://cr.openjdk.java.net/~jrose/draft/trivial-fixes.html">trivial changes</a> 问题的拉取请求，不需要DCO。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9483">[待校准&#64;9483]</a></p></li>
</ul>
</li>
<li><p>始终为每个拉取请求的所有 <a class="reference external" href="https://www.ros.org/reps/rep-2000.html#support-tiers">tier 1 platforms</a> 运行CI作业，并在拉取请求中包含指向作业的链接。(如果您无权访问Jenkins作业，则会有人为您触发作业。) <a class="reference external" href="http://localhost:3000/#/home?msgid=9484">[待校准&#64;9484]</a></p></li>
<li><p>未提交拉取请求的开发人员至少需要获得1的批准才能认为该请求已被批准。合并前需要批准。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9485">[待校准&#64;9485]</a></p>
<ul>
<li><p>包裹可以选择增加这个数量。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9486">[待校准&#64;9486]</a></p></li>
</ul>
</li>
<li><p>在合并相关变更之前，必须对文档 (API文档、特性文档、发行说明等) 提出任何必要的变更。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9487">[待校准&#64;9487]</a></p></li>
</ul>
<div class="section" id="guidelines-for-backporting-prs">
<h4>反向移植PRs指南 <a class="reference external" href="http://localhost:3000/#/home?msgid=9488">[待校准&#64;9488]</a><a class="headerlink" href="#guidelines-for-backporting-prs" title="永久链接至标题"></a></h4>
<p>当更改旧版本的ROS时: <a class="reference external" href="http://localhost:3000/#/home?msgid=9489">[待校准&#64;9489]</a></p>
<ul class="simple">
<li><p>在打开PR以将更改反向移植到旧版本之前，请确保功能或修复已被接受并合并到主分支中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9490">[待校准&#64;9490]</a></p></li>
<li><p>当反向移植到旧版本时，也可以考虑反向移植到任何其他 <a class="reference internal" href="../Releases.html"><span class="doc">still supported versions</span></a>, ，甚至非LTS版本。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9491">[待校准&#64;9491]</a></p></li>
<li><p>如果您要全部反向移植单个PR，请将反向移植PR命名为 “[发行版] &lt;原始PR的名称&gt;”。如果从一个或多个PRs中反向移植变更的子集，标题应为 “[发行版] &lt;变更描述&gt;”。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9492">[待校准&#64;9492]</a></p></li>
<li><p>从您的反向端口PR的描述链接到您要反向移植其更改的所有PR。在Foxy变更的Dashing反向端口中，您不需要链接到相同变更的Eloquent反向端口。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9493">[待校准&#64;9493]</a></p></li>
</ul>
</div>
</div>
<div class="section" id="documentation">
<h3>文档 <a class="reference external" href="http://localhost:3000/#/home?msgid=9494">[待校准&#64;9494]</a><a class="headerlink" href="#documentation" title="永久链接至标题"></a></h3>
<p>所有包的自述文件中应包含这些文档元素，或从自述文件中链接到这些文档元素: <a class="reference external" href="http://localhost:3000/#/home?msgid=9495">[待校准&#64;9495]</a></p>
<ul class="simple">
<li><p>描述和目的 <a class="reference external" href="http://localhost:3000/#/home?msgid=9496">[待校准&#64;9496]</a></p></li>
<li><p>公共API的定义和描述 <a class="reference external" href="http://localhost:3000/#/home?msgid=9497">[待校准&#64;9497]</a></p></li>
<li><p>示例 <a class="reference external" href="http://localhost:3000/#/home?msgid=9303">[待校准&#64;9303]</a></p></li>
<li><p>如何构建和安装 (应参考外部工具/工作流) <a class="reference external" href="http://localhost:3000/#/home?msgid=9498">[待校准&#64;9498]</a></p></li>
<li><p>如何构建和运行测试 <a class="reference external" href="http://localhost:3000/#/home?msgid=9499">[待校准&#64;9499]</a></p></li>
<li><p>如何构建文档 <a class="reference external" href="http://localhost:3000/#/home?msgid=9500">[待校准&#64;9500]</a></p></li>
<li><p>如何开发 (有助于描述 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code> 之类的东西) <a class="reference external" href="http://localhost:3000/#/home?msgid=9501">[待校准&#64;9501]</a></p></li>
<li><p>许可和版权声明 <a class="reference external" href="http://localhost:3000/#/home?msgid=9502">[待校准&#64;9502]</a></p></li>
</ul>
<p>每个源文件必须具有许可和版权声明，并通过自动链接进行检查。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9503">[待校准&#64;9503]</a></p>
<p>每个包必须有一个许可证文件，通常调用Apache 2.0许可证，除非包有现有的许可许可证 (例如，rviz使用三条款BSD)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9504">[待校准&#64;9504]</a></p>
<p>每个包都应该尽可能地描述自己和它的目的，假设读者在没有ROS或其他相关项目的情况下偶然发现了它。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9505">[待校准&#64;9505]</a></p>
<p>每个包都应定义和描述其公共API，以便用户对语义版本控制策略所涵盖的内容有合理的期望。即使在C和C ++ 中，公共API也可以通过API和ABI检查来强制执行，这是一个描述代码布局和代码各部分功能的好机会。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9506">[待校准&#64;9506]</a></p>
<p>获取任何包应该很容易，并且从该包的文档中了解如何构建、运行、构建和运行测试以及构建文档。显然，对于常见的工作流，我们应该避免重复自己，例如在工作区中构建包，但是基本的工作流应该被描述或引用。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9507">[待校准&#64;9507]</a></p>
<p>最后，它应该包括开发人员的任何文档。这可能包括使用 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code> 之类的东西测试代码的工作流，或者它可能意味着描述如何使用包提供的扩展点。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9508">[待校准&#64;9508]</a></p>
<p>示例: <a class="reference external" href="http://localhost:3000/#/home?msgid=9509">[待校准&#64;9509]</a></p>
<ul class="simple">
<li><p>能力: <a class="reference external" href="https://docs.ros.org/hydro/api/capabilities/html/">https://docs.ros.org/hydro/api/capabilities/html/</a> <a class="reference external" href="http://localhost:3000/#/home?msgid=9510">[待校准&#64;9510]</a></p>
<ul>
<li><p>本文给出了描述公共API的文档示例 <a class="reference external" href="http://localhost:3000/#/home?msgid=9511">[待校准&#64;9511]</a></p></li>
</ul>
</li>
<li><p>[需手动修复的语法]catkin _ 工具: <a class="reference external" href="https:/">https:/</a>/[需手动修复的语法]catkin -tools.readthedocs.org/en/latest/ 开发版本/extending_the _ [需手动修复的语法]catkin _ command.html <a class="reference external" href="http://localhost:3000/#/home?msgid=9512">[待校准&#64;9512]</a></p>
<ul>
<li><p>这是描述包的扩展点的示例 <a class="reference external" href="http://localhost:3000/#/home?msgid=9513">[待校准&#64;9513]</a></p></li>
</ul>
</li>
</ul>
<p><em>(API docs are not yet being automatically generated)</em></p>
</div>
<div class="section" id="testing">
<h3>测试 <a class="reference external" href="http://localhost:3000/#/home?msgid=9515">[待校准&#64;9515]</a><a class="headerlink" href="#testing" title="永久链接至标题"></a></h3>
<p>所有包都应具有一定程度的系统、集成和/或单元测试。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9516">[待校准&#64;9516]</a></p>
<p>单元测试应该始终在正在测试的包中，并且应该使用像 <code class="docutils literal notranslate"><span class="pre">Mock</span></code> 这样的工具在构建的场景中尝试和测试代码库的狭窄部分。单元测试不应引入非测试工具的测试依赖关系，例如gtest、nosetest、pytest、mock等。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9517">[待校准&#64;9517]</a></p>
<p>集成测试可以测试部分代码之间或部分代码与系统之间的交互动作。他们经常以我们期望用户使用的方式测试软件界面。与单元测试一样，集成测试应位于正在测试的包中，除非绝对必要，否则不应引入非工具测试依赖项，即所有非工具依赖关系只能在极端审查下被允许，因此如果可能的话，应该避免它们。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9518">[待校准&#64;9518]</a></p>
<p>系统测试旨在测试包之间的端到端情况，并且应该在自己的包中，以避免膨胀或耦合包，并避免循环依赖。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9519">[待校准&#64;9519]</a></p>
<p>通常，应避免最小化外部或交叉包测试依赖关系，以防止循环依赖关系和紧密耦合的测试包。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9520">[待校准&#64;9520]</a></p>
<p>所有的包都应该有一些单元测试和可能的集成测试，但是它们应该有多少是基于包的质量类别。以下小节适用于'Level 1'包: <a class="reference external" href="http://localhost:3000/#/home?msgid=9521">[待校准&#64;9521]</a></p>
<div class="section" id="code-coverage">
<h4>代码覆盖范围 <a class="reference external" href="http://localhost:3000/#/home?msgid=9522">[待校准&#64;9522]</a><a class="headerlink" href="#code-coverage" title="永久链接至标题"></a></h4>
<p>我们将提供线路覆盖，并实现95% 以上的线路覆盖。如果一个较低的百分比目标是合理的，它必须被显著地记录下来。我们可能会提供分支覆盖范围，或者从覆盖范围中排除代码 (测试代码、调试代码等)。在合并更改之前，我们要求覆盖率增加或保持不变，但是在适当的理由下进行降低代码覆盖率的更改可能是可以接受的 (例如g.删除先前涵盖的代码可能会导致百分比下降)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9523">[待校准&#64;9523]</a></p>
</div>
<div class="section" id="performance">
<h4>性能 <a class="reference external" href="http://localhost:3000/#/home?msgid=9524">[待校准&#64;9524]</a><a class="headerlink" href="#performance" title="永久链接至标题"></a></h4>
<p>我们强烈推荐性能测试，但要认识到它们对于某些包没有意义。如果有性能测试，我们将选择检查每个更改或在每次发布之前或两者都检查。我们还需要合并变更或发布降低性能的理由。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9525">[待校准&#64;9525]</a></p>
</div>
<div class="section" id="linters-and-static-analysis">
<h4>林特和静态分析 <a class="reference external" href="http://localhost:3000/#/home?msgid=9526">[待校准&#64;9526]</a><a class="headerlink" href="#linters-and-static-analysis" title="永久链接至标题"></a></h4>
<p>我们将使用 <a class="reference internal" href="Code-Style-Language-Versions.html"><span class="doc">ROS code style</span></a> and enforce it with linters from <code class="xref any docutils literal notranslate"><span class="pre">ament_lint_common</span></code> 。必须使用属于 <code class="docutils literal notranslate"><span class="pre">ament_lint_common</span></code> 的所有漆器/静态分析。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9527">[待校准&#64;9527]</a></p>
<p>[需手动修复的语法] <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_lint_auto/doc/index.rst">ament_lint_auto</a> 文件提供了运行 <code class="docutils literal notranslate"><span class="pre">ament_lint_common</span></code> 的信息。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9528">[待校准&#64;9528]</a></p>
</div>
</div>
</div>
<div class="section" id="general-practices">
<h2>一般实践 <a class="reference external" href="http://localhost:3000/#/home?msgid=9529">[待校准&#64;9529]</a><a class="headerlink" href="#general-practices" title="永久链接至标题"></a></h2>
<p>有些实践对于所有ROS 2开发版本都是常见的。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9530">[待校准&#64;9530]</a></p>
<p>如 <a class="reference external" href="https://www.ros.org/reps/rep-2004.html">REP 2004</a> 所述，这些做法不会影响包装质量水平，但仍强烈建议用于开发版本过程。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9531">[待校准&#64;9531]</a></p>
<div class="section" id="issues">
<h3>问题 <a class="reference external" href="http://localhost:3000/#/home?msgid=9532">[待校准&#64;9532]</a><a class="headerlink" href="#issues" title="永久链接至标题"></a></h3>
<p>提交问题时，请确保: <a class="reference external" href="http://localhost:3000/#/home?msgid=9533">[待校准&#64;9533]</a></p>
<ul class="simple">
<li><p>包括足够的信息让其他人理解这个问题。在ROS 2中，需要以下几点来缩小问题的原因。在每个类别中尽可能多的备选方案进行测试将会特别有帮助。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9534">[待校准&#64;9534]</a></p>
<ul>
<li><p>操作系统和版本。推理: ROS 2支持多个平台，并且某些错误特定于特定版本的操作系统/编译器。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9535">[待校准&#64;9535]</a></p></li>
<li><p>安装方法。推理: 有些问题只有在ROS 2是从  &quot;fat archives&quot; 或Debians安装的情况下才会显现。这可以帮助我们确定问题是否与包装过程有关。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9536">[待校准&#64;9536]</a></p></li>
<li><p>ROS 2的特定版本。推理: 某些错误可能会出现在特定的ROS 2版本中，并在以后修复。了解您的安装是否包含这些修复程序非常重要。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9537">[待校准&#64;9537]</a></p></li>
<li><p>DDS正在使用的DDS/RMW实施 ** (有关如何确定哪一个，请参阅 <a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html"><span class="doc">this page</span></a>  )。推理: 通信问题可能特定于正在使用的底层ROS中间件。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9538">[待校准&#64;9538]</a></p></li>
<li><p>正在使用的ROS 2客户端库。推理: 这有助于我们缩小堆栈中问题所在的层。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9539">[待校准&#64;9539]</a></p></li>
</ul>
</li>
<li><p>包括重现问题的步骤列表。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9540">[待校准&#64;9540]</a></p></li>
<li><p>如果发生错误，请考虑提供 <a class="reference external" href="http://sscce.org/">short, self contained, correct (compilable), example</a> 。如果其他人可以轻松地重现问题，则问题更有可能得到解决。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9541">[待校准&#64;9541]</a></p></li>
<li><p>提及已尝试的故障诊断工具步骤，包括: <a class="reference external" href="http://localhost:3000/#/home?msgid=9542">[待校准&#64;9542]</a></p>
<ul>
<li><p>升级到最新版本的代码，其中可能包括尚未发布的错误修复。查看 <a class="reference internal" href="../Installation.html#building-from-source"><span class="std std-ref">this section</span></a>  并按照说明获取  &quot;master&quot; 分支。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9543">[待校准&#64;9543]</a></p></li>
<li><p>尝试使用不同的RMW实现。有关如何做到这一点，请参见 <a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html"><span class="doc">this page</span></a>  。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9544">[待校准&#64;9544]</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="pull-requests">
<h3>拉取请求 <a class="reference external" href="http://localhost:3000/#/home?msgid=9545">[待校准&#64;9545]</a><a class="headerlink" href="#pull-requests" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>拉取请求应仅关注一个更改。单独的更改应进入单独的请求请求。见 <a class="reference external" href="https://github.com/blog/1943-how-to-write-the-perfect-pull-request">GitHub's guide to writing the perfect pull request</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9546">[待校准&#64;9546]</a></p></li>
<li><p>补丁的大小应最小，并避免任何不必要的更改。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9547">[待校准&#64;9547]</a></p></li>
<li><p>拉取请求必须包含最少数量的有意义的提交。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9548">[待校准&#64;9548]</a></p>
<ul>
<li><p>您可以在审核拉取请求时创建新提交。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9549">[待校准&#64;9549]</a></p></li>
</ul>
</li>
<li><p>在合并拉取请求之前，应将所有更改压缩为少量语义提交，以保持历史记录清晰。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9550">[待校准&#64;9550]</a></p>
<ul>
<li><p>但避免在审核拉取请求时压缩提交。你的评论者可能不会注意到你做了改变，从而引入了潜在的混乱。另外，无论如何，你都要在合并前挤压; 早点做没有好处。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9551">[待校准&#64;9551]</a></p></li>
</ul>
</li>
<li><p>欢迎任何开发者审查和批准拉取请求 (见 <a class="reference internal" href="#general-principles">General Principles</a> )。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9552">[待校准&#64;9552]</a></p></li>
<li><p>当您开始查看拉取请求时，请对拉取请求进行注释，以便其他开发人员知道您正在查看它。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9553">[待校准&#64;9553]</a></p></li>
<li><p>拉取请求审阅不是只读的，审阅者会发表评论，然后等待作者提出评论。作为一名审稿人，可以在适当的位置进行一些小的改进 (打字错误、风格问题等)。作为拉取请求的开启者，如果你在叉子上工作，检查 <a class="reference external" href="https://github.com/blog/2247-improving-collaboration-with-forks">allow edits from upstream contributors</a> 的方框将有助于完成上述工作。作为审阅者，也可以随意进行更多实质性的改进，但可以考虑将它们放在单独的分支中 (或者在评论中提及新分支，或从新分支打开另一个拉取请求到原始分支)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9554">[待校准&#64;9554]</a></p></li>
<li><p>任何开发人员 (作者、审阅者或其他人) 都可以合并任何已批准的拉取请求。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9555">[待校准&#64;9555]</a></p></li>
</ul>
</div>
<div class="section" id="library-versioning">
<h3>库版本控制 <a class="reference external" href="http://localhost:3000/#/home?msgid=9556">[待校准&#64;9556]</a><a class="headerlink" href="#library-versioning" title="永久链接至标题"></a></h3>
<p>我们将一起对包中的所有库进行版本化。这意味着库从包继承其版本。这防止了库和包版本的分歧，并与发布共享仓库的包的政策共享推理。如果您需要库具有不同的版本，请考虑将它们拆分为不同的包。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9557">[待校准&#64;9557]</a></p>
</div>
<div class="section" id="development-process">
<h3>开发流程 <a class="reference external" href="http://localhost:3000/#/home?msgid=9558">[待校准&#64;9558]</a><a class="headerlink" href="#development-process" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>默认分支 (大多数情况下是主分支) 必须始终构建、通过所有测试并在没有警告的情况下进行编译。如果在任何时候都有回归，那么至少恢复以前的状态是重中之重。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9559">[待校准&#64;9559]</a></p></li>
<li><p>始终在启用测试的情况下构建。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9560">[待校准&#64;9560]</a></p></li>
<li><p>始终在更改之后和在拉取请求中提出之前运行测试lo调用y。除了使用自动化测试之外，还可以手动运行修改后的代码路径，以确保补丁按预期工作。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9561">[待校准&#64;9561]</a></p></li>
<li><p>始终为每个拉取请求为所有平台运行CI作业，并在拉取请求中包含指向作业的链接。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9562">[待校准&#64;9562]</a></p></li>
</ul>
<p>有关推荐的软件开发版本工作流程的更多详细信息，请参见 <a class="reference internal" href="#software-development-lifecycle">Software Development Lifecycle</a> 部分。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9563">[待校准&#64;9563]</a></p>
</div>
<div class="section" id="changes-to-rmw-api">
<h3>对RMW API的更改 <a class="reference external" href="http://localhost:3000/#/home?msgid=9564">[待校准&#64;9564]</a><a class="headerlink" href="#changes-to-rmw-api" title="永久链接至标题"></a></h3>
<p>在更新 <a class="reference external" href="https://github.com/ros2/rmw">RMW API</a> 时，也需要更新一级中间件库的RMW实现。例如，引入到RMW API的新功能 <code class="docutils literal notranslate"><span class="pre">rmw_foo()</span></code> 必须在以下包中实现 (从ROSFoxy开始): <a class="reference external" href="http://localhost:3000/#/home?msgid=9565">[待校准&#64;9565]</a></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw_fastrtps">rmw_fastrtps</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw_connext">rmw_connext</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw_cyclonedds">rmw_cyclonedds</a></p></li>
</ul>
<p>如果可行，还应考虑对非第1层中间件库进行更新 (例如，取决于更改的大小)。有关中间件库及其层的列表，请参见 <a class="reference external" href="https://www.ros.org/reps/rep-2000.html#crystal-clemmys-december-2018-december-2019">REP-2000</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9569">[待校准&#64;9569]</a></p>
</div>
<div class="section" id="tracking-tasks">
<h3>跟踪任务 <a class="reference external" href="http://localhost:3000/#/home?msgid=9570">[待校准&#64;9570]</a><a class="headerlink" href="#tracking-tasks" title="永久链接至标题"></a></h3>
<p>为了帮助组织ROS 2的工作，核心ROS 2开发版本团队使用看板式 <a class="reference external" href="https://github.com/orgs/ros2/projects">GitHub project boards</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9571">[待校准&#64;9571]</a></p>
<p>然而，并不是所有的问题和请求都在项目板上被跟踪。董事会通常代表即将发布的版本或特定项目。通过浏览 <a class="reference external" href="https://github.com/ros2">ROS 2 repositories'</a> 个人发行页面，可以按回购原则浏览门票。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9572">[待校准&#64;9572]</a></p>
<p>在任何给定的ROS 2项目委员会中，列的名称和目的各不相同，但通常调用y遵循相同的一般结构: <a class="reference external" href="http://localhost:3000/#/home?msgid=9573">[待校准&#64;9573]</a></p>
<ul class="simple">
<li><p>待办事项: 与项目相关的问题，准备分配 <a class="reference external" href="http://localhost:3000/#/home?msgid=9574">[待校准&#64;9574]</a></p></li>
<li><p>进行中: 当前正在进行工作的活动拉取请求 <a class="reference external" href="http://localhost:3000/#/home?msgid=9575">[待校准&#64;9575]</a></p></li>
<li><p>审核中: 在工作完成并准备审核的地方以及当前正在进行审核的请求 <a class="reference external" href="http://localhost:3000/#/home?msgid=9576">[待校准&#64;9576]</a></p></li>
<li><p>完成: 拉取请求和相关问题被合并/关闭 (出于信息目的) <a class="reference external" href="http://localhost:3000/#/home?msgid=9577">[待校准&#64;9577]</a></p></li>
</ul>
<p>要请求进行更改的权限，只需对您感兴趣的门票进行评论。根据复杂性，描述您计划如何解决它可能会很有用。我们将更新状态 (如果您没有权限)，您可以开始处理拉取请求。如果您定期投稿，我们可能只会允许您自己管理标签等。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9578">[待校准&#64;9578]</a></p>
</div>
<div class="section" id="programming-conventions">
<h3>编程约定 <a class="reference external" href="http://localhost:3000/#/home?msgid=9579">[待校准&#64;9579]</a><a class="headerlink" href="#programming-conventions" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>防御性规划: 确保尽早保持假设。例如，检查每个返回代码，并确保至少引发异常，直到案件得到更优雅的处理。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9580">[待校准&#64;9580]</a></p></li>
<li><p>所有错误信息必须直接发送到 <code class="docutils literal notranslate"><span class="pre">stderr</span></code> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9581">[待校准&#64;9581]</a></p></li>
<li><p>在尽可能窄的范围内声明变量。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9582">[待校准&#64;9582]</a></p></li>
<li><p>保持一组项目 (依赖项、导入、包含等) 有序的字母调用y。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9583">[待校准&#64;9583]</a></p></li>
</ul>
<div class="section" id="c-specific">
<h4>特定的cspecific <a class="reference external" href="http://localhost:3000/#/home?msgid=9584">[待校准&#64;9584]</a><a class="headerlink" href="#c-specific" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>避免使用直接流 ( <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> ) 到 <code class="docutils literal notranslate"><span class="pre">stdout</span></code> / <code class="docutils literal notranslate"><span class="pre">stderr</span></code> ，以防止多线之间的交织。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9585">[待校准&#64;9585]</a></p></li>
<li><p>避免对 “std::shared_ptr” 使用引用，因为这会颠覆引用计数。如果原始实例超出范围并且正在使用引用，它将访问释放的内存。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9586">[待校准&#64;9586]</a></p></li>
</ul>
</div>
</div>
<div class="section" id="filesystem-layout">
<h3>文件系统布局 <a class="reference external" href="http://localhost:3000/#/home?msgid=9587">[待校准&#64;9587]</a><a class="headerlink" href="#filesystem-layout" title="永久链接至标题"></a></h3>
<p>包和仓库的文件系统布局应遵循相同的约定，以便为浏览我们源文件的用户提供一致的体验。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9588">[待校准&#64;9588]</a></p>
<div class="section" id="package-layout">
<h4>包装布局 <a class="reference external" href="http://localhost:3000/#/home?msgid=9589">[待校准&#64;9589]</a><a class="headerlink" href="#package-layout" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p>[需手动修复的语法]``src``:包含所有C和C code代码 <a class="reference external" href="http://localhost:3000/#/home?msgid=9590">[待校准&#64;9590]</a></p>
<ul>
<li><p>还包含未安装的C/C headers标头 <a class="reference external" href="http://localhost:3000/#/home?msgid=9591">[待校准&#64;9591]</a></p></li>
</ul>
</li>
<li><p>[需手动修复的语法]``include``:包含所有已安装的C和C ++ 标头 <a class="reference external" href="http://localhost:3000/#/home?msgid=9592">[待校准&#64;9592]</a></p>
<ul>
<li><p>[需手动修复的语法]``&lt;package name&gt;``:所有C C++ 安装标题应该文件夹命名空间包名称 <a class="reference external" href="http://localhost:3000/#/home?msgid=9593">[待校准&#64;9593]</a></p></li>
</ul>
</li>
<li><p>[需手动修复的语法]``&lt;package_name&gt;``:包含所有Python代码 <a class="reference external" href="http://localhost:3000/#/home?msgid=9594">[待校准&#64;9594]</a></p></li>
<li><p>[需手动修复的语法]``test``:包含所有自动化测试和测试数据 <a class="reference external" href="http://localhost:3000/#/home?msgid=9595">[待校准&#64;9595]</a></p></li>
<li><p>[需手动修复的语法]``config``:包含配置文件，例如YAML参数文件和RViz配置文件 <a class="reference external" href="http://localhost:3000/#/home?msgid=9596">[待校准&#64;9596]</a></p></li>
<li><p>[需手动修复的语法]``doc``:包含所有文件 <a class="reference external" href="http://localhost:3000/#/home?msgid=9597">[待校准&#64;9597]</a></p></li>
<li><p>[需手动修复的语法]``launch``:包含所有launch文件 <a class="reference external" href="http://localhost:3000/#/home?msgid=9598">[待校准&#64;9598]</a></p></li>
<li><p>[需手动修复的语法]``package.xml``:定义 <a class="reference external" href="https://www.ros.org/reps/rep-0140.html">REP-0140</a>  (可能更新原型) <a class="reference external" href="http://localhost:3000/#/home?msgid=9599">[待校准&#64;9599]</a></p></li>
<li><p>仅使用CMake的``CMakeLists.txt``:ROS包 <a class="reference external" href="http://localhost:3000/#/home?msgid=9600">[待校准&#64;9600]</a></p></li>
<li><p>仅使用Python代码的``setup.py``:ROS包 <a class="reference external" href="http://localhost:3000/#/home?msgid=9601">[待校准&#64;9601]</a></p></li>
<li><p>[需手动修复的语法]``README``:可以作为项目的登录页面在GitHub上呈现 <a class="reference external" href="http://localhost:3000/#/home?msgid=9602">[待校准&#64;9602]</a></p>
<ul>
<li><p>这可以短或详细方便，但至少链接到项目文档 <a class="reference external" href="http://localhost:3000/#/home?msgid=9603">[待校准&#64;9603]</a></p></li>
<li><p>考虑在此自述文件中添加CI或代码覆盖率标签 <a class="reference external" href="http://localhost:3000/#/home?msgid=9604">[待校准&#64;9604]</a></p></li>
<li><p>它也可以是 <code class="docutils literal notranslate"><span class="pre">.rst</span></code> 或GitHub支持的任何其他东西 <a class="reference external" href="http://localhost:3000/#/home?msgid=9605">[待校准&#64;9605]</a></p></li>
</ul>
</li>
<li><p>[需手动修复的语法]``CONTRIBUTING``:描述了贡献指南 <a class="reference external" href="http://localhost:3000/#/home?msgid=9606">[待校准&#64;9606]</a></p>
<ul>
<li><p>这可能包括许可证含义，例如使用Apache 2许可证时。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9607">[待校准&#64;9607]</a></p></li>
</ul>
</li>
<li><p>[需手动修复的语法]``LICENSE``:: 此包的一个或多个许可证的副本 <a class="reference external" href="http://localhost:3000/#/home?msgid=9608">[待校准&#64;9608]</a></p></li>
<li><p>符合``CHANGELOG.rst``: <a class="reference external" href="https://www.ros.org/reps/rep-0132.html">REP-0132</a> 标准的变更日志 <a class="reference external" href="http://localhost:3000/#/home?msgid=9609">[待校准&#64;9609]</a></p></li>
</ul>
</div>
<div class="section" id="repository-layout">
<h4>存储库布局 <a class="reference external" href="http://localhost:3000/#/home?msgid=9610">[待校准&#64;9610]</a><a class="headerlink" href="#repository-layout" title="永久链接至标题"></a></h4>
<p>每个包应位于与包同名的子文件夹中。如果仓库仅包含单个包，则可以选择位于仓库的根目录中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9611">[待校准&#64;9611]</a></p>
</div>
</div>
</div>
<div class="section" id="developer-workflow">
<h2>开发人员工作流 <a class="reference external" href="http://localhost:3000/#/home?msgid=9612">[待校准&#64;9612]</a><a class="headerlink" href="#developer-workflow" title="永久链接至标题"></a></h2>
<p>我们使用 <a class="reference external" href="https://github.com/orgs/ros2/projects">GitHub project boards</a> 追踪与即将到来的发行版本和大型项目相关的公开票据和有效的PRs。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9613">[待校准&#64;9613]</a></p>
<p>通常的工作流程是: <a class="reference external" href="http://localhost:3000/#/home?msgid=9614">[待校准&#64;9614]</a></p>
<ul>
<li><p>讨论设计 (GitHub票适当仓库，设计PR <a class="reference external" href="https://github.com/ros2">https://github.com/ros2</a>/设计如果需要) <a class="reference external" href="http://localhost:3000/#/home?msgid=9615">[待校准&#64;9615]</a></p></li>
<li><p>在分叉上的功能分支上编写实现 <a class="reference external" href="http://localhost:3000/#/home?msgid=9616">[待校准&#64;9616]</a></p>
<ul class="simple">
<li><p>请查看 <a class="reference internal" href="#"><span class="doc">developer guide</span></a>  指南和最佳实践 <a class="reference external" href="http://localhost:3000/#/home?msgid=9617">[待校准&#64;9617]</a></p></li>
</ul>
</li>
<li><p>编写测试 <a class="reference external" href="http://localhost:3000/#/home?msgid=9618">[待校准&#64;9618]</a></p></li>
<li><p>启用并运行linters <a class="reference external" href="http://localhost:3000/#/home?msgid=9619">[待校准&#64;9619]</a></p></li>
<li><p>运行测试lo调用y使用 <code class="docutils literal notranslate"><span class="pre">colcon</span> <span class="pre">test</span></code>  (见 <a class="reference internal" href="../Tutorials/Colcon-Tutorial.html"><span class="doc">colcon tutorial</span></a>)  <a class="reference external" href="http://localhost:3000/#/home?msgid=9620">[待校准&#64;9620]</a></p></li>
<li><p>一旦一切都在没有警告的情况下构建了lo调用y，并且所有测试都通过了，请在您的功能分支上运行CI: <a class="reference external" href="http://localhost:3000/#/home?msgid=9621">[待校准&#64;9621]</a></p>
<ul class="simple">
<li><p>转到ci.ros2.org <a class="reference external" href="http://localhost:3000/#/home?msgid=9622">[待校准&#64;9622]</a></p></li>
<li><p>登录 (右上角) <a class="reference external" href="http://localhost:3000/#/home?msgid=9623">[待校准&#64;9623]</a></p></li>
<li><p>点击 <code class="docutils literal notranslate"><span class="pre">ci_launcher</span></code> 作业 <a class="reference external" href="http://localhost:3000/#/home?msgid=9624">[待校准&#64;9624]</a></p></li>
<li><p>点击  &quot;Build with Parameters&quot;  (左栏) <a class="reference external" href="http://localhost:3000/#/home?msgid=9625">[待校准&#64;9625]</a></p></li>
<li><p>在第一个框中，  &quot;CI_BRANCH_TO_TEST&quot; 输入您的特征分支名称 <a class="reference external" href="http://localhost:3000/#/home?msgid=9626">[待校准&#64;9626]</a></p></li>
<li><p>按下 <code class="docutils literal notranslate"><span class="pre">build</span></code> 按钮 <a class="reference external" href="http://localhost:3000/#/home?msgid=9627">[待校准&#64;9627]</a></p></li>
</ul>
<p>(如果您不是ROS 2提交者，则无法访问CI场。在这种情况下，请ping您的PR的审阅者以为您运行CI) <a class="reference external" href="http://localhost:3000/#/home?msgid=9628">[待校准&#64;9628]</a></p>
</li>
<li><p>如果您的用例需要运行代码覆盖率: <a class="reference external" href="http://localhost:3000/#/home?msgid=9629">[待校准&#64;9629]</a></p>
<ul class="simple">
<li><p>转到ci.ros2.org <a class="reference external" href="http://localhost:3000/#/home?msgid=9622">[待校准&#64;9622]</a></p></li>
<li><p>登录 (右上角) <a class="reference external" href="http://localhost:3000/#/home?msgid=9623">[待校准&#64;9623]</a></p></li>
<li><p>点击 <code class="docutils literal notranslate"><span class="pre">ci_linux_coverage</span></code> 作业 <a class="reference external" href="http://localhost:3000/#/home?msgid=9630">[待校准&#64;9630]</a></p></li>
<li><p>点击  &quot;Build with Parameters&quot;  (左栏) <a class="reference external" href="http://localhost:3000/#/home?msgid=9625">[待校准&#64;9625]</a></p></li>
<li><p>确保将  &quot;CI_BUILD_ARGS&quot; 和  &quot;CI_TEST_ARGS&quot; 保留为默认值 <a class="reference external" href="http://localhost:3000/#/home?msgid=9631">[待校准&#64;9631]</a></p></li>
<li><p>按下 <code class="docutils literal notranslate"><span class="pre">build</span></code> 按钮 <a class="reference external" href="http://localhost:3000/#/home?msgid=9627">[待校准&#64;9627]</a></p></li>
<li><p>在文档结尾有说明如何 <a class="reference internal" href="#read-coverage-report"><span class="std std-ref">interpret the result of the report</span></a> and :ref:` 计算覆盖率 &lt;计算-覆盖率&gt;” <a class="reference external" href="http://localhost:3000/#/home?msgid=9632">[待校准&#64;9632]</a></p></li>
</ul>
</li>
<li><p>如果CI作业在没有警告、错误和测试失败的情况下构建，请将您的作业链接发布在您的PR或汇总您所有PRs的高级票证上 (请参阅示例 <a class="reference external" href="https://github.com/ros2/rcl/pull/106#issuecomment-271119200">here</a> ) <a class="reference external" href="http://localhost:3000/#/home?msgid=9633">[待校准&#64;9633]</a></p>
<ul class="simple">
<li><p>请注意，这些徽章的降价是在 <code class="docutils literal notranslate"><span class="pre">ci_launcher</span></code> 作业的控制台输出中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9634">[待校准&#64;9634]</a></p></li>
</ul>
</li>
<li><p>当公共关系被批准时: <a class="reference external" href="http://localhost:3000/#/home?msgid=9635">[待校准&#64;9635]</a></p>
<ul class="simple">
<li><p>提交PR的人使用  &quot;Squash and Merge&quot; 选项将其合并，以便我们保持干净的历史记录 <a class="reference external" href="http://localhost:3000/#/home?msgid=9636">[待校准&#64;9636]</a></p>
<ul>
<li><p>如果提交值得分开: 将所有的吹毛求疵/短吻鳄/打字错误挤在一起，并合并剩下的一组 <a class="reference external" href="http://localhost:3000/#/home?msgid=9637">[待校准&#64;9637]</a></p>
<ul>
<li><p>注意: 每个PR都应针对特定功能，因此壁球和合并应在99% 的时间内有意义 <a class="reference external" href="http://localhost:3000/#/home?msgid=9638">[待校准&#64;9638]</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>合并后删除分支 <a class="reference external" href="http://localhost:3000/#/home?msgid=9639">[待校准&#64;9639]</a></p></li>
</ul>
</div>
<div class="section" id="architectural-development-practices">
<h2>建筑开发实践 <a class="reference external" href="http://localhost:3000/#/home?msgid=9640">[待校准&#64;9640]</a><a class="headerlink" href="#architectural-development-practices" title="永久链接至标题"></a></h2>
<p>本节介绍在对ROS 2进行大型架构更改时应采用的理想生命周期。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9641">[待校准&#64;9641]</a></p>
<div class="section" id="software-development-lifecycle">
<h3>软件开发生命周期 <a class="reference external" href="http://localhost:3000/#/home?msgid=9642">[待校准&#64;9642]</a><a class="headerlink" href="#software-development-lifecycle" title="永久链接至标题"></a></h3>
<p>本节介绍如何逐步规划、设计和实施新功能: <a class="reference external" href="http://localhost:3000/#/home?msgid=9643">[待校准&#64;9643]</a></p>
<ol class="arabic simple">
<li><p>任务创建 <a class="reference external" href="http://localhost:3000/#/home?msgid=9644">[待校准&#64;9644]</a></p></li>
<li><p>创建设计文档 <a class="reference external" href="http://localhost:3000/#/home?msgid=9645">[待校准&#64;9645]</a></p></li>
<li><p>设计审查 <a class="reference external" href="http://localhost:3000/#/home?msgid=9646">[待校准&#64;9646]</a></p></li>
<li><p>实施 <a class="reference external" href="http://localhost:3000/#/home?msgid=9647">[待校准&#64;9647]</a></p></li>
<li><p>代码审查 <a class="reference external" href="http://localhost:3000/#/home?msgid=9648">[待校准&#64;9648]</a></p></li>
</ol>
<div class="section" id="task-creation">
<h4>任务创建 <a class="reference external" href="http://localhost:3000/#/home?msgid=9649">[待校准&#64;9649]</a><a class="headerlink" href="#task-creation" title="永久链接至标题"></a></h4>
<p>需要更改ROS 2关键部分的任务应在发布周期的早期阶段进行设计审查。如果设计审查在后期进行，这些变化将成为未来版本的一部分。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9650">[待校准&#64;9650]</a></p>
<ul class="simple">
<li><p>一个问题应该在适当的 <a class="reference external" href="https://github.com/ros2/">ros2 repository</a> 中产生，清楚地描述正在进行的任务。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9651">[待校准&#64;9651]</a></p>
<ul>
<li><p>它应该有一个明确的成功标准，并强调预期的具体改进。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9652">[待校准&#64;9652]</a></p></li>
<li><p>如果该功能的目标是ROS发布，请确保在ROS发布票证 ( <a class="reference external" href="https://github.com/ros2/ros2/issues/607">example</a> ) 中进行跟踪。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9653">[待校准&#64;9653]</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="writing-the-design-document">
<h4>编写设计文件 <a class="reference external" href="http://localhost:3000/#/home?msgid=9654">[待校准&#64;9654]</a><a class="headerlink" href="#writing-the-design-document" title="永久链接至标题"></a></h4>
<p>设计文件不得包含机密信息。更改是否需要设计文档取决于任务的大小。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9655">[待校准&#64;9655]</a></p>
<ol class="arabic simple">
<li><p>您正在做一个小的改变或修复一个错误: <a class="reference external" href="http://localhost:3000/#/home?msgid=9656">[待校准&#64;9656]</a></p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>不需要设计文件，但应在适当的仓库中打开问题，以跟踪工作并避免重复工作。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9657">[待校准&#64;9657]</a></p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>您正在实施一项新功能，或者希望为OSRF拥有的基础设施 (如Jenkins CI) 做出贡献: <a class="reference external" href="http://localhost:3000/#/home?msgid=9658">[待校准&#64;9658]</a></p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>设计文档是必需的，并且应该有助于 <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> ，以便在https:// Design.ros2.org/上访问。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9659">[待校准&#64;9659]</a></p></li>
<li><p>你应该分叉仓库，并提交一份详细设计的拉取请求。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9660">[待校准&#64;9660]</a></p></li>
</ul>
<p>提及相关的ros2问题 (例如， <code class="docutils literal notranslate"><span class="pre">Design</span> <span class="pre">doc</span> <span class="pre">for</span> <span class="pre">task</span> <span class="pre">ros2/ros2#&lt;issue</span> <span class="pre">id&gt;</span></code>) in the pull request or the commit message. Detailed instructions are on the <a class="reference external" href="https://design.ros2.org/contribute.html">ROS 2 Contribute</a> 页面。设计评论将直接根据拉取请求进行。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9661">[待校准&#64;9661]</a></p>
</div></blockquote>
<p>如果计划使用特定版本的ROS发布任务，则此信息应包含在拉取请求中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9662">[待校准&#64;9662]</a></p>
</div>
<div class="section" id="design-document-review">
<h4>设计文件审查 <a class="reference external" href="http://localhost:3000/#/home?msgid=9663">[待校准&#64;9663]</a><a class="headerlink" href="#design-document-review" title="永久链接至标题"></a></h4>
<p>一旦设计准备好审查，就应该打开拉取请求，并分配适当的审查人员。建议包括项目所有者 -- 所有受影响包的维护者 (如 <code class="docutils literal notranslate"><span class="pre">package.xml</span></code> 维护者字段所定义，见 <a class="reference external" href="https://www.ros.org/reps/rep-0140.html#maintainer-multiple-but-at-least-one">REP-140</a> ) -- 作为审查者。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9664">[待校准&#64;9664]</a></p>
<ul>
<li><p>如果设计文档很复杂或审阅者的时间表冲突，则可以设置可选的设计审阅会议。在这种情况下， <a class="reference external" href="http://localhost:3000/#/home?msgid=9665">[待校准&#64;9665]</a></p>
<p>会议前 <a class="reference external" href="http://localhost:3000/#/home?msgid=9666">[待校准&#64;9666]</a></p>
<ul class="simple">
<li><p>至少提前一周发送会议邀请 <a class="reference external" href="http://localhost:3000/#/home?msgid=9667">[待校准&#64;9667]</a></p></li>
<li><p>建议会议时长为一小时 <a class="reference external" href="http://localhost:3000/#/home?msgid=9668">[待校准&#64;9668]</a></p></li>
<li><p>会议邀请应列出审核期间要做出的所有决定 (需要包维护人员批准的决定) <a class="reference external" href="http://localhost:3000/#/home?msgid=9669">[待校准&#64;9669]</a></p></li>
<li><dl class="simple">
<dt>会议要求与会者: 设计拉取请求审阅者 <a class="reference external" href="http://localhost:3000/#/home?msgid=9670">[待校准&#64;9670]</a></dt><dd><p>会议可选与会者: 所有OSRF工程师，如果适用 <a class="reference external" href="http://localhost:3000/#/home?msgid=9671">[待校准&#64;9671]</a></p>
</dd>
</dl>
</li>
</ul>
<p>会议期间 <a class="reference external" href="http://localhost:3000/#/home?msgid=9672">[待校准&#64;9672]</a></p>
<ul class="simple">
<li><p>任务负责人推动会议，提出他们的想法并管理讨论以确保按时达成协议 <a class="reference external" href="http://localhost:3000/#/home?msgid=9673">[待校准&#64;9673]</a></p></li>
</ul>
<p>会后 <a class="reference external" href="http://localhost:3000/#/home?msgid=9674">[待校准&#64;9674]</a></p>
<ul class="simple">
<li><p>任务所有者应将会议记录发回给所有与会者 <a class="reference external" href="http://localhost:3000/#/home?msgid=9675">[待校准&#64;9675]</a></p></li>
<li><p>如果对设计提出了一些小问题: <a class="reference external" href="http://localhost:3000/#/home?msgid=9676">[待校准&#64;9676]</a></p>
<ul>
<li><p>任务所有者应根据反馈更新设计文档拉取请求 <a class="reference external" href="http://localhost:3000/#/home?msgid=9677">[待校准&#64;9677]</a></p></li>
<li><p>不需要额外的审查 <a class="reference external" href="http://localhost:3000/#/home?msgid=9678">[待校准&#64;9678]</a></p></li>
</ul>
</li>
<li><p>如果设计中出现了重大问题: <a class="reference external" href="http://localhost:3000/#/home?msgid=9679">[待校准&#64;9679]</a></p>
<ul>
<li><p>删除没有明确协议的部分是可以接受的 <a class="reference external" href="http://localhost:3000/#/home?msgid=9680">[待校准&#64;9680]</a></p></li>
<li><p>有争议的配件设计可以重新提交为单独未来 <a class="reference external" href="http://localhost:3000/#/home?msgid=9681">[待校准&#64;9681]</a></p></li>
<li><p>如果不能移除有争议的零件，请直接与包装所有者合作以达成协议 <a class="reference external" href="http://localhost:3000/#/home?msgid=9682">[待校准&#64;9682]</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p>一旦达成共识: <a class="reference external" href="http://localhost:3000/#/home?msgid=9683">[待校准&#64;9683]</a></p>
<ul class="simple">
<li><p>如果适用，确保 <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> 拉取请求已被合并 <a class="reference external" href="http://localhost:3000/#/home?msgid=9684">[待校准&#64;9684]</a></p></li>
<li><p>更新并关闭与此设计任务相关的GitHub问题 <a class="reference external" href="http://localhost:3000/#/home?msgid=9685">[待校准&#64;9685]</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="implementation">
<h4>实施 <a class="reference external" href="http://localhost:3000/#/home?msgid=9647">[待校准&#64;9647]</a><a class="headerlink" href="#implementation" title="永久链接至标题"></a></h4>
<p>在开始之前，通过 <a class="reference internal" href="#pull-requests">Pull requests</a> 部分的最佳实践。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9686">[待校准&#64;9686]</a></p>
<ul class="simple">
<li><p>对于要修改的每个回购: <a class="reference external" href="http://localhost:3000/#/home?msgid=9687">[待校准&#64;9687]</a></p>
<ul>
<li><p>修改代码，如果完成，请转到下一步，或者定期备份您的工作。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9688">[待校准&#64;9688]</a></p></li>
<li><p>[需手动修复的语法] <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Interactive-Staging">Self-review</a> 乙你的变化使用 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-i</span></code> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9689">[待校准&#64;9689]</a></p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-s</span></code> 创建新的签名提交。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9690">[待校准&#64;9690]</a></p>
<ul>
<li><p>拉取请求应包含最少的semanti调用y有意义的提交 (例如，不接受大量的1行提交)。在迭代反馈时创建新的修复提交，或者，如果您不想每次都创建新的提交，可以选择使用 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code> 修改现有提交。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9691">[待校准&#64;9691]</a></p></li>
<li><p>每个提交都必须有一个正确编写的、有意义的提交消息。更多说明 <a class="reference external" href="https://chris.beams.io/posts/git-commit/">here</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9692">[待校准&#64;9692]</a></p></li>
<li><p>移动文件必须单独提交，否则git可能无法准确跟踪文件历史。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9693">[待校准&#64;9693]</a></p></li>
<li><p>拉取请求描述或提交消息必须包含对相关ros2问题的引用，因此当拉取请求合并时，它会自动调用y。有关更多详细信息，请参阅此 <a class="reference external" href="https://help.github.com/articles/closing-issues-using-keywords/">doc</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9694">[待校准&#64;9694]</a></p></li>
<li><p>推送新提交。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9695">[待校准&#64;9695]</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="code-review">
<h4>代码审查 <a class="reference external" href="http://localhost:3000/#/home?msgid=9696">[待校准&#64;9696]</a><a class="headerlink" href="#code-review" title="永久链接至标题"></a></h4>
<p>一旦更改准备好进行代码审查: <a class="reference external" href="http://localhost:3000/#/home?msgid=9697">[待校准&#64;9697]</a></p>
<ul class="simple">
<li><p>为每个修改后的仓库打开拉取请求。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9698">[待校准&#64;9698]</a></p>
<ul>
<li><p>记得遵循 <a class="reference internal" href="#pull-requests">Pull requests</a> 的最佳实践。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9699">[待校准&#64;9699]</a></p></li>
<li><p>[需手动修复的语法] <a class="reference external" href="https://hub.github.com/">GitHub</a> 可用于从命令行创建拉取请求。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9700">[待校准&#64;9700]</a></p></li>
<li><p>如果计划使用特定版本的ROS发布任务，则此信息应包含在每个拉取请求中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9701">[待校准&#64;9701]</a></p></li>
</ul>
</li>
<li><p>审查设计文件的包装所有者应在拉取请求中提及。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9702">[待校准&#64;9702]</a></p></li>
<li><p>代码审查SLO: 尽管审查拉取请求是最大的努力，但让审查者在一周内对拉取请求进行评论，让代码作者在一周内回复评论是有帮助的，所以没有上下文的损失。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9703">[待校准&#64;9703]</a></p></li>
<li><p>像往常一样迭代反馈，根据需要修改和更新开发版本分支。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9704">[待校准&#64;9704]</a></p></li>
<li><p>一旦PR被批准，包维护人员将合并更改。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9705">[待校准&#64;9705]</a></p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="build-farm-introduction">
<h2>建立农场介绍 <a class="reference external" href="http://localhost:3000/#/home?msgid=9706">[待校准&#64;9706]</a><a class="headerlink" href="#build-farm-introduction" title="永久链接至标题"></a></h2>
<p>建造农场位于 <a class="reference external" href="https://ci.ros2.org/">ci.ros2.org</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9707">[待校准&#64;9707]</a></p>
<p>每天晚上，我们都会运行夜间作业，这些作业在各种平台上构建和运行各种场景中的所有测试。此外，我们在合并之前针对这些平台测试所有拉取请求。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9708">[待校准&#64;9708]</a></p>
<p>这是当前的一组目标平台和架构，尽管它会随着时间的推移而发展: <a class="reference external" href="http://localhost:3000/#/home?msgid=9709">[待校准&#64;9709]</a></p>
<ul class="simple">
<li><p>Ubuntu 20.04焦点 <a class="reference external" href="http://localhost:3000/#/home?msgid=9710">[待校准&#64;9710]</a></p>
<ul>
<li><p>amd64 <a class="reference external" href="http://localhost:3000/#/home?msgid=9711">[待校准&#64;9711]</a></p></li>
<li><p>aarch64 <a class="reference external" href="http://localhost:3000/#/home?msgid=9712">[待校准&#64;9712]</a></p></li>
</ul>
</li>
<li><p>macOS 10.14 Mojave <a class="reference external" href="http://localhost:3000/#/home?msgid=9713">[待校准&#64;9713]</a></p>
<ul>
<li><p>amd64 <a class="reference external" href="http://localhost:3000/#/home?msgid=9711">[待校准&#64;9711]</a></p></li>
</ul>
</li>
<li><p>Windows 10 <a class="reference external" href="http://localhost:3000/#/home?msgid=9714">[待校准&#64;9714]</a></p>
<ul>
<li><p>amd64 <a class="reference external" href="http://localhost:3000/#/home?msgid=9711">[待校准&#64;9711]</a></p></li>
</ul>
</li>
</ul>
<p>buildfarm上有几类作业: <a class="reference external" href="http://localhost:3000/#/home?msgid=9715">[待校准&#64;9715]</a></p>
<ul class="simple">
<li><p>手动作业 (由开发人员手动触发): <a class="reference external" href="http://localhost:3000/#/home?msgid=9716">[待校准&#64;9716]</a></p>
<ul>
<li><p>ci_linux: 在Ubuntu Xenial上构建 + 测试代码 <a class="reference external" href="http://localhost:3000/#/home?msgid=9717">[待校准&#64;9717]</a></p></li>
<li><p>ci_linux-aarch64: 在ARM 64位计算机上的Ubuntu Xenial上构建 + 测试代码 (aarch64) <a class="reference external" href="http://localhost:3000/#/home?msgid=9718">[待校准&#64;9718]</a></p></li>
<li><p>Ci_linux_覆盖率: 构建 + 测试 + 生成测试覆盖率 <a class="reference external" href="http://localhost:3000/#/home?msgid=9719">[待校准&#64;9719]</a></p></li>
<li><p>ci_osx: 在MacOS 10.12上构建 + 测试代码 <a class="reference external" href="http://localhost:3000/#/home?msgid=9720">[待校准&#64;9720]</a></p></li>
<li><p>ci_windows: 在Windows 10上构建 + 测试代码 <a class="reference external" href="http://localhost:3000/#/home?msgid=9721">[待校准&#64;9721]</a></p></li>
<li><p>ci _ launcher: 触发上面列出的所有作业 <a class="reference external" href="http://localhost:3000/#/home?msgid=9722">[待校准&#64;9722]</a></p></li>
</ul>
</li>
<li><p>每晚 (每晚跑步): <a class="reference external" href="http://localhost:3000/#/home?msgid=9723">[待校准&#64;9723]</a></p>
<ul>
<li><p>调试: 使用CMAKE_BUILD_TYPE = Debug构建 + 测试代码 <a class="reference external" href="http://localhost:3000/#/home?msgid=9724">[待校准&#64;9724]</a></p>
<ul>
<li><p>nightly_linux_debug <a class="reference external" href="http://localhost:3000/#/home?msgid=9725">[待校准&#64;9725]</a></p></li>
<li><p>nightly_linux-aarch64_debug <a class="reference external" href="http://localhost:3000/#/home?msgid=9726">[待校准&#64;9726]</a></p></li>
<li><p>夜景 _ osx_debug <a class="reference external" href="http://localhost:3000/#/home?msgid=9727">[待校准&#64;9727]</a></p></li>
<li><p>夜景 _ 温 _ 黛比 <a class="reference external" href="http://localhost:3000/#/home?msgid=9728">[待校准&#64;9728]</a></p></li>
</ul>
</li>
<li><p>发布: 使用CMAKE_BUILD_TYPE = 发布构建 + 测试代码 <a class="reference external" href="http://localhost:3000/#/home?msgid=9729">[待校准&#64;9729]</a></p>
<ul>
<li><p>nightly_linux_release <a class="reference external" href="http://localhost:3000/#/home?msgid=9730">[待校准&#64;9730]</a></p></li>
<li><p>nightly_linux-aarch64_release <a class="reference external" href="http://localhost:3000/#/home?msgid=9731">[待校准&#64;9731]</a></p></li>
<li><p>夜景 _ osx_release <a class="reference external" href="http://localhost:3000/#/home?msgid=9732">[待校准&#64;9732]</a></p></li>
<li><p>项目完结，系统自动填充内容 <a class="reference external" href="http://localhost:3000/#/home?msgid=9733">[待校准&#64;9733]</a></p></li>
</ul>
</li>
<li><p>重复: 构建然后运行每个测试多达20次或直到失败 (又名flakiness hunter) <a class="reference external" href="http://localhost:3000/#/home?msgid=9734">[待校准&#64;9734]</a></p>
<ul>
<li><p>nightly_linux_repeated <a class="reference external" href="http://localhost:3000/#/home?msgid=9735">[待校准&#64;9735]</a></p></li>
<li><p>nightly_linux-aarch64_repeated <a class="reference external" href="http://localhost:3000/#/home?msgid=9736">[待校准&#64;9736]</a></p></li>
<li><p>夜景 _ osx _ 重复 <a class="reference external" href="http://localhost:3000/#/home?msgid=9737">[待校准&#64;9737]</a></p></li>
<li><p>夜景 _ win_rep <a class="reference external" href="http://localhost:3000/#/home?msgid=9738">[待校准&#64;9738]</a></p></li>
</ul>
</li>
<li><p>覆盖范围: <a class="reference external" href="http://localhost:3000/#/home?msgid=9739">[待校准&#64;9739]</a></p>
<ul>
<li><p>夜景 _ linux _ 覆盖率: 构建 + 测试代码 + 分析c/c + + 和python的覆盖率 <a class="reference external" href="http://localhost:3000/#/home?msgid=9740">[待校准&#64;9740]</a></p>
<ul>
<li><p>结果导出为cobertura报告 <a class="reference external" href="http://localhost:3000/#/home?msgid=9741">[待校准&#64;9741]</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>包装 (每晚运行; 结果被捆绑到archive中): <a class="reference external" href="http://localhost:3000/#/home?msgid=9742">[待校准&#64;9742]</a></p>
<ul>
<li><p>packaging_linux <a class="reference external" href="http://localhost:3000/#/home?msgid=9743">[待校准&#64;9743]</a></p></li>
<li><p>packaging_osx <a class="reference external" href="http://localhost:3000/#/home?msgid=9744">[待校准&#64;9744]</a></p></li>
<li><p>packaging_windows <a class="reference external" href="http://localhost:3000/#/home?msgid=9745">[待校准&#64;9745]</a></p></li>
</ul>
</li>
</ul>
<p>另外两个构建农场通过提供源文件和二进制包的构建、持续集成、测试和分析来支持ROS/ROS 2生态系统。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9746">[待校准&#64;9746]</a></p>
<p>有关详细信息、常见问题和故障诊断工具，请参见 <a class="reference internal" href="Build-Farms.html"><span class="doc">build farms</span></a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9747">[待校准&#64;9747]</a></p>
<div class="section" id="note-on-coverage-runs">
<h3>关于覆盖运行的注意事项 <a class="reference external" href="http://localhost:3000/#/home?msgid=9748">[待校准&#64;9748]</a><a class="headerlink" href="#note-on-coverage-runs" title="永久链接至标题"></a></h3>
<p>ROS 2包的组织方式是，给定包的测试代码不仅包含在包中，还可以存在于不同的包中。换句话说: 包可以在测试阶段执行属于其他包的代码。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9749">[待校准&#64;9749]</a></p>
<p>为了实现ROS 2核心包中所有可用代码达到的覆盖率，建议使用一组固定的建议仓库运行构建。该集合在Jenkins覆盖作业的默认参数中定义。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9750">[待校准&#64;9750]</a></p>
</div>
<div class="section" id="how-to-read-the-coverage-rate-from-the-buildfarm-report">
<span id="read-coverage-report"></span><h3>如何从buildfarm报告中读取覆盖率 <a class="reference external" href="http://localhost:3000/#/home?msgid=9751">[待校准&#64;9751]</a><a class="headerlink" href="#how-to-read-the-coverage-rate-from-the-buildfarm-report" title="永久链接至标题"></a></h3>
<p>要查看给定包的覆盖报告: <a class="reference external" href="http://localhost:3000/#/home?msgid=9752">[待校准&#64;9752]</a></p>
<ul class="simple">
<li><p>当 <code class="docutils literal notranslate"><span class="pre">ci_linux_coverage</span></code> 建造完成后，点击 <code class="docutils literal notranslate"><span class="pre">Coverage</span> <span class="pre">Report</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=9753">[待校准&#64;9753]</a></p></li>
<li><p>向下滚动至 <code class="docutils literal notranslate"><span class="pre">Coverage</span> <span class="pre">Breakdown</span> <span class="pre">by</span> <span class="pre">Package</span></code> 表 <a class="reference external" href="http://localhost:3000/#/home?msgid=9754">[待校准&#64;9754]</a></p></li>
<li><p>在表中，查看调用ed  &quot;Name&quot; 的第一列 <a class="reference external" href="http://localhost:3000/#/home?msgid=9755">[待校准&#64;9755]</a></p></li>
</ul>
<p>buildfarm中的覆盖率报告包括ROS工作区中使用的所有包。覆盖率报告包括对应于同一包的不同路径: <a class="reference external" href="http://localhost:3000/#/home?msgid=9756">[待校准&#64;9756]</a></p>
<ul class="simple">
<li><p>带有以下形式的名称条目:  <code class="docutils literal notranslate"><span class="pre">src.*.&lt;repository_name&gt;.&lt;package_name&gt;.*</span></code> 这些对应于包中针对其自己的源文件可用的单元测试运行 <a class="reference external" href="http://localhost:3000/#/home?msgid=9757">[待校准&#64;9757]</a></p></li>
<li><p>带有以下形式的名称条目:  <code class="docutils literal notranslate"><span class="pre">build.&lt;repository_name&gt;.&lt;package_name&gt;.*</span></code> 这些对应于包中针对其在构建或配置时生成的文件可用的单元测试运行 <a class="reference external" href="http://localhost:3000/#/home?msgid=9758">[待校准&#64;9758]</a></p></li>
<li><p>带有以下形式的名称条目:  <code class="docutils literal notranslate"><span class="pre">install.&lt;package_name&gt;.*</span></code> 这些对应于来自其他包的测试运行的系统/集成测试 <a class="reference external" href="http://localhost:3000/#/home?msgid=9759">[待校准&#64;9759]</a></p></li>
</ul>
</div>
<div class="section" id="how-to-calculate-the-coverage-rate-from-the-buildfarm-report">
<span id="calculate-coverage-rate"></span><h3>如何从buildfarm报告中计算覆盖率 <a class="reference external" href="http://localhost:3000/#/home?msgid=9760">[待校准&#64;9760]</a><a class="headerlink" href="#how-to-calculate-the-coverage-rate-from-the-buildfarm-report" title="永久链接至标题"></a></h3>
<p>使用自动脚本获取合并的单位覆盖率: <a class="reference external" href="http://localhost:3000/#/home?msgid=9761">[待校准&#64;9761]</a></p>
<blockquote>
<div><ul class="simple">
<li><p>从ci_linux_覆盖率Jenkins构建中复制构建的URL <a class="reference external" href="http://localhost:3000/#/home?msgid=9762">[待校准&#64;9762]</a></p></li>
<li><p>下载 <a class="reference external" href="https://raw.githubusercontent.com/ros2/ci/master/tools/get_coverage_ros2_pkg.py">get_coverage_ros2_pkg</a> 脚本 <a class="reference external" href="http://localhost:3000/#/home?msgid=9763">[待校准&#64;9763]</a></p></li>
<li><p>执行脚本:  <code class="docutils literal notranslate"><span class="pre">./get_coverage_ros2_pkg.py</span> <span class="pre">&lt;jenkins_build_url&gt;</span> <span class="pre">&lt;ros2_package_name&gt;</span></code>  ( <a class="reference external" href="https://github.com/ros2/ci/blob/master/tools/README.md">README</a> ) <a class="reference external" href="http://localhost:3000/#/home?msgid=9764">[待校准&#64;9764]</a></p></li>
<li><p>从脚本输出的  &quot;Combined unit testing&quot; 最后一行获取结果 <a class="reference external" href="http://localhost:3000/#/home?msgid=9765">[待校准&#64;9765]</a></p></li>
</ul>
</div></blockquote>
<p>备选方案: 从覆盖报告中获取组合单位覆盖率 (需要手动计算): <a class="reference external" href="http://localhost:3000/#/home?msgid=9766">[待校准&#64;9766]</a></p>
<ul class="simple">
<li><p>当ci_linux_覆盖率构建完成时，点击 <code class="docutils literal notranslate"><span class="pre">Cobertura</span> <span class="pre">Coverage</span> <span class="pre">Report</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=9767">[待校准&#64;9767]</a></p></li>
<li><p>向下滚动至 <code class="docutils literal notranslate"><span class="pre">Coverage</span> <span class="pre">Breakdown</span> <span class="pre">by</span> <span class="pre">Package</span></code> 表 <a class="reference external" href="http://localhost:3000/#/home?msgid=9754">[待校准&#64;9754]</a></p></li>
<li><p>在表中，在第一列  &quot;Name&quot; 下，查找 (其中 &lt;package_name&gt; 是您正在测试的包): <a class="reference external" href="http://localhost:3000/#/home?msgid=9768">[待校准&#64;9768]</a></p>
<ul>
<li><p>模式 <code class="docutils literal notranslate"><span class="pre">src.*.&lt;repository_name&gt;.&lt;package_name&gt;.*</span></code> 下的所有目录都抓住了  &quot;Lines&quot; 列中的两个绝对值。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9769">[待校准&#64;9769]</a></p></li>
<li><p>模式 <code class="docutils literal notranslate"><span class="pre">build/.&lt;repository_name&gt;.*</span></code> 下的所有目录都抓住了  &quot;Lines&quot; 列中的两个绝对值。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9770">[待校准&#64;9770]</a></p></li>
</ul>
</li>
<li><p>对于前面的选择: 对于每个单元格，第一个值是测试的行，第二个是代码的总行。聚合所有行，以获取测试行的总数和测试代码行的总数。除以得到覆盖率。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9771">[待校准&#64;9771]</a></p></li>
</ul>
</div>
<div class="section" id="how-to-measure-coverage-locally-using-lcov-ubuntu">
<span id="measure-coverage-locally"></span><h3>如何使用lcov (Ubuntu) 测量覆盖率lo调用y <a class="reference external" href="http://localhost:3000/#/home?msgid=9772">[待校准&#64;9772]</a><a class="headerlink" href="#how-to-measure-coverage-locally-using-lcov-ubuntu" title="永久链接至标题"></a></h3>
<p>要测量您自己机器的覆盖范围，请安装 <code class="docutils literal notranslate"><span class="pre">lcov</span></code> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9773">[待校准&#64;9773]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install -y lcov
</pre></div>
</div>
<p>本节的其余部分假设您正在colcon工作区工作。使用覆盖率标志在debug中编译。随意使用colcon标志特定包。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9774">[待校准&#64;9774]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon build --cmake-args -DCMAKE_BUILD_TYPE<span class="o">=</span>Debug -DCMAKE_CXX_FLAGS<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CMAKE_CXX_FLAGS</span><span class="si">}</span><span class="s2"> --coverage&quot;</span> -DCMAKE_C_FLAGS<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CMAKE_C_FLAGS</span><span class="si">}</span><span class="s2"> --coverage&quot;</span>
</pre></div>
</div>
<p>[需手动修复的语法]``lcov`` requires是初始基线，您可以使用以下命令生成该基线。根据需要更新输出文件位置。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9775">[待校准&#64;9775]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lcov --no-external --capture --initial --directory . --output-file ~/ros2_base.info
</pre></div>
</div>
<p>对与您的覆盖率测量有关的包进行测试。例如，如果用 <code class="docutils literal notranslate"><span class="pre">test_rclcpp</span></code> 测量 <code class="docutils literal notranslate"><span class="pre">rclcpp</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=9776">[待校准&#64;9776]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon <span class="nb">test</span> --packages-select rclcpp test_rclcpp
</pre></div>
</div>
<p>这次用类似的命令捕获lcov结果，删除 <code class="docutils literal notranslate"><span class="pre">--initial</span></code> 旗。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9777">[待校准&#64;9777]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lcov --no-external --capture --directory . --output-file ~/ros2.info
</pre></div>
</div>
<p>合并跟踪。信息文件: <a class="reference external" href="http://localhost:3000/#/home?msgid=9778">[待校准&#64;9778]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lcov --add-tracefile ~/ros2_base.info --add-tracefile ~/ros2.info --output-file ~/ros2_coverage.info
</pre></div>
</div>
<p>生成html以便于可视化和注释覆盖行。 <a class="reference external" href="http://localhost:3000/#/home?msgid=9779">[待校准&#64;9779]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p coverage
genhtml ~/ros2_coverage.info --output-directory coverage
</pre></div>
</div>
</div>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Contributing.html" class="btn btn-neutral float-left" title="贡献 [待校准@9128]" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Code-Style-Language-Versions.html" class="btn btn-neutral float-right" title="代码样式和语言版本 [待校准@9212]" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>