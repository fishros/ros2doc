<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IBM Cloud Kubernetes上的ROS2 [社区-贡献] [待校准@7232] &mdash; ROS 2 documentation  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/Tutorials/Deploying-ROS-2-on-IBM-Cloud.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="带有ROS 2和rviz2的Eclipse Oxygen [社区贡献] [待校准@7387]" href="Eclipse-Oxygen-with-ROS-2-and-rviz2.html" />
    <link rel="prev" title="设置机器人仿真 (Webots) [待校准@8222]" href="Simulators/Webots/Setting-up-a-Robot-Simulation-Webots.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">安装</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Development-Setup.html">在Ubuntu Linux上构建ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Binary.html">在Ubuntu Linux上安装ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">通过Debian包安装ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Development-Setup.html">在macOS上构建ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Install-Binary.html">在macOS上安装ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Development-Setup.html">在Windows上构建ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">在Windows上安装ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Fedora-Development-Setup.html">在Fedora Linux上构建ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Latest-Development-Setup.html">安装最新的ROS 2开发版本</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">维护ROS 2Foxy源文件的检出</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">用于测试的替代安装源 [待校准&#64;5461]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">安装DDS实现 [待校准&#64;5305]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">安装Connext安全插件 [待校准&#64;5356]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">安装大学或RTI Connext DDS的评估版本 [待校准&#64;5370]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">使用EclipseCycloneDDS [待校准&#64;5384]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">与GurumNetworks GurumDDS合作 [待校准&#64;5400]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">与eProsimaFast DDS合作 [待校准&#64;5417]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Docs-Guide.html">文档指南</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Tutorials.html">教程</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Configuring-ROS2-Environment.html">配置ROS 2环境 [待校准&#64;7086]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Turtlesim/Introducing-Turtlesim.html">介绍turtlesim和rqt [待校准&#64;8868]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Understanding-ROS2-Nodes.html">了解ROS 2节点 [待校准&#64;9173]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Topics/Understanding-ROS2-Topics.html">理解ROS 2话题 [待校准&#64;8808]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Services/Understanding-ROS2-Services.html">了解ROS 2服务 [待校准&#64;8182]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parameters/Understanding-ROS2-Parameters.html">理解ROS 2参数 [待校准&#64;7811]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Understanding-ROS2-Actions.html">理解ROS 2动作 [待校准&#64;9124]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Rqt-Console/Using-Rqt-Console.html">使用rqt_控制台 [待校准&#64;8152]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launch/CLI-Intro.html">介绍ROS 2launch [待校准&#64;7541]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ros2bag/Recording-And-Playing-Back-Data.html">记录和回放数据 [待校准&#64;8079]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Workspace/Creating-A-Workspace.html">创建工作空间 [待校准&#64;9276]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Creating-Your-First-ROS2-Package.html">创建您的第一个ROS 2包 [待校准&#64;7117]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">编写简单的发布者和订阅者 (c ++) [待校准&#64;9345]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Py-Publisher-And-Subscriber.html">编写简单的发布者和订阅者 (Python) [待校准&#64;9432]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Cpp-Service-And-Client.html">编写简单的服务和客户端 (c ++) [待校准&#64;9393]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Py-Service-And-Client.html">编写简单的服务和客户端 (Python) [待校准&#64;9468]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom-ROS2-Interfaces.html">创建自定义ROS 2 msg 和 srv 文件 [待校准&#64;7179]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Single-Package-Define-And-Use-Interface.html">在ROS 2接口上扩展 [待校准&#64;8284]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-Parameters-In-A-Class-CPP.html">在类 (c ++) 中使用参数 [待校准&#64;9209]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-Parameters-In-A-Class-Python.html">在类中使用参数 (Python) [待校准&#64;9249]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Getting-Started-With-Ros2doctor.html">开始使用ros2doctor [待校准&#64;7450]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pluginlib.html">创建和使用插件 (c ++) [待校准&#64;7851]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Actions/Creating-an-Action.html">创建动作 [待校准&#64;6711]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Actions/Writing-a-Cpp-Action-Server-Client.html">编写动作服务器和客户端 (c ++) [待校准&#64;6753]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Actions/Writing-a-Py-Action-Server-Client.html">编写动作服务器和客户端 (Python) [待校准&#64;6825]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Composition.html">在单个进程中组成多个节点 [待校准&#64;7034]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Colcon-Tutorial.html">使用colcon构建包 [待校准&#64;6975]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launch/Launch-Main.html">Launch教程 [待校准&#64;7600]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Launch/Creating-Launch-Files.html">创建launch文件 [待校准&#64;7562]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Launch/Launch-system.html">[需手动修复的语法]Launch/监控多节点[需手动修复的语法]Launch [待校准&#64;7614]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Launch/Using-Substitutions.html">在launch文件中使用替换 [待校准&#64;7737]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Launch/Using-Event-Handlers.html">在launch文件中使用事件处理程序 [待校准&#64;7641]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Launch/Using-ROS2-Launch-For-Large-Projects.html">在大型项目中使用ROS 2launch [待校准&#64;7674]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Tf2/Tf2-Main.html">tf2教程 [待校准&#64;8518]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Introduction-To-Tf2.html">tf2简介 [待校准&#64;8434]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">编写tf2静态广播器 (Python) [待校准&#64;8739]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">编写tf2静态广播器 (c ++) [待校准&#64;8697]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Writing-A-Tf2-Broadcaster-Py.html">编写tf2广播器 (Python) [待校准&#64;8660]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">编写tf2广播器 (c ++) [待校准&#64;8621]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Writing-A-Tf2-Listener-Py.html">编写tf2监听程序 (Python) [待校准&#64;8691]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Writing-A-Tf2-Listener-Cpp.html">编写tf2监听程序 (c ++) [待校准&#64;8673]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Adding-A-Frame-Py.html">添加帧 (Python) [待校准&#64;8390]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Adding-A-Frame-Cpp.html">添加帧 (c ++) [待校准&#64;8354]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Learning-About-Tf2-And-Time-Py.html">学习tf2和时间 (Python) [待校准&#64;8480]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Learning-About-Tf2-And-Time-Cpp.html">学习tf2和时间 (c ++) [待校准&#64;8463]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Time-Travel-With-Tf2-Py.html">时间穿梭tf2 (Python) [待校准&#64;8570]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Time-Travel-With-Tf2-Cpp.html">时间穿梭带tf2 (C++) [待校准&#64;8545]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Debugging-Tf2-Problems.html">调试tf2问题 [待校准&#64;8396]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Quaternion-Fundamentals.html">四元数基金amentals [待校准&#64;8494]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">使用stamped数据类型与tf2_ros: MessageFilter [待校准&#64;8578]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="URDF/URDF-Main.html">URDF教程 [待校准&#64;9047]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">从头开始用URDF构建视觉机器人模型 [待校准&#64;8996]</a></li>
<li class="toctree-l3"><a class="reference internal" href="URDF/Building-a-Movable-Robot-Model-with-URDF.html">用URDF建立可移动机器人模型 [待校准&#64;8974]</a></li>
<li class="toctree-l3"><a class="reference internal" href="URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">向URDF模型添加物理和碰撞属性 [待校准&#64;8927]</a></li>
<li class="toctree-l3"><a class="reference internal" href="URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">使用Xacro清理URDF文件 [待校准&#64;9075]</a></li>
<li class="toctree-l3"><a class="reference internal" href="URDF/Using-URDF-with-Robot-State-Publisher.html">将URDF与robot_state_发布者结合使用 [待校准&#64;9049]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Topics/Topic-Statistics-Tutorial.html">ROS 2话题统计教程 (c ++) [待校准&#64;8751]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Discovery-Server/Discovery-Server.html">使用Fast DDS Discovery Server作为发现协议 [社区贡献] [待校准&#64;7319]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Allocator-Template-Tutorial.html">实现自定义内存分配器 [待校准&#64;6885]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Simulators/Webots/Setting-up-a-Robot-Simulation-Webots.html">设置机器人仿真 (Webots) [待校准&#64;8222]</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">IBM Cloud Kubernetes上的ROS2 [社区-贡献] [待校准&#64;7232]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Eclipse-Oxygen-with-ROS-2-and-rviz2.html">带有ROS 2和rviz2的Eclipse Oxygen [社区贡献] [待校准&#64;7387]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-Realtime-rt_preempt-kernel-for-ROS-2.html">为ROS 2构建实时Linux [社区-贡献] [待校准&#64;6954]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ros2bag/Recording-A-Bag-From-Your-Own-Node.html">从您自己的节点记录一个包 [待校准&#64;7994]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-ROS2-Package-with-eclipse-2021-06.html">使用eclipse 2021-06构建ROS 2包 [待校准&#64;6926]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quality-of-Service.html">使用服务质量设置处理有损网络 [待校准&#64;7902]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Managed-Nodes.html">具有托管生命周期的节点管理 [待校准&#64;7809]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Intra-Process-Communication.html">高效的流程内通讯 [待校准&#64;7491]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Rosbag-with-ROS1-Bridge.html">使用ROS 1bridge用rosbag记录和回放话题数据 [待校准&#64;8125]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Real-Time-Programming.html">ROS 2中的实时编程 [待校准&#64;7931]</a></li>
<li class="toctree-l2"><a class="reference internal" href="dummy-robot-demo.html">尝试dummy robot例程 [待校准&#64;9496]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Logging-and-logger-configuration.html">日志和日志记录器配置例程 [待校准&#64;7762]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../How-To-Guides.html">问题指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installation-Troubleshooting.html">安装故障诊断工具 [待校准&#64;6086]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Developing-a-ROS-2-Package.html">开发ROS 2包 [待校准&#64;6065]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Documentation.html">ament_cmake用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Python-Documentation.html">ament_cmake_python用户文档 [小鱼&#64;5911]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html">迁移launch文件ROS 1ROS 2 [待校准&#64;6189]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-file-different-formats.html">对ROS 2Launch文件使用Python、XML和YAML [待校准&#64;6162]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launching-composable-nodes.html">使用ROS 2launch到launch可组合节点 [待校准&#64;6284]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Parameters-YAML-files-migration-guide.html">将YAML参数文件从ROS 1迁移到ROS 2 [待校准&#64;6401]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Node-arguments.html">通过命令行将ROS参数传递给节点 [待校准&#64;6297]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Sync-Vs-Async.html">同步与异步服务客户端 [待校准&#64;6523]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/DDS-tuning.html">DDS调优指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2: 重载QoS策略 [待校准&#64;6323]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html">使用多个ROS 2中间件实现 [待校准&#64;6619]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Cross-compilation.html">交叉编译 [待校准&#64;5934]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Releasing-a-ROS-2-package-with-bloom.html">发布带有bloom的ROS 2包 [待校准&#64;6488]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Python-Packages.html">将Python包与ROS 2结合使用 [待校准&#64;6562]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Port-Plugin-Windows.html">将RQt插件移植到Windows [待校准&#64;6413]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">在Docker中运行ROS 2节点 [社区-贡献] [待校准&#64;6510]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Package-maintainer-guide.html">ROS 2包维护者指南 [待校准&#64;6336]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-a-Custom-Debian-Package.html">构建自定义Debian包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Topics-Services-Actions.html">话题vs服务vs动作 [小鱼&#64;6548]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Variants.html">使用变体 [待校准&#64;6582]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros2-param.html">使用 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code> 命令行工具 [待校准&#64;6597]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install.html">从源码构建RQt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-MacOS.html">在macOS上从源文件构建RQt [待校准&#64;6459]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-Windows10.html">在Windows 10上从源文件构建RQt [待校准&#64;6467]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">概念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Domain-ID.html">ROS_DOMAIN_ID [待校准&#64;9770]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html">关于不同的ROS 2 DDS/RTPS供应商 [待校准&#64;9729]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Logging.html">关于日志和日志记录器配置 [待校准&#64;9901]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">关于服务质量设置 [待校准&#64;9945]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">关于ROS 2客户端库 [待校准&#64;10035]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">关于ROS 2接口 [待校准&#64;10102]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">关于ROS 2中的参数 [待校准&#64;10066]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Executors.html">执行器 [待校准&#64;9803]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Topic-Statistics.html">关于话题统计 [待校准&#64;10247]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Command-Line-Tools.html">使用命令行工具进行自检 [待校准&#64;9667]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-RQt.html">RQt的概述和使用 [待校准&#64;10201]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Composition.html">关于组件 [待校准&#64;9695]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Catment.html">ament和catkin的混合研究 [小鱼&#64;9595]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Cross-Compilation.html">关于交叉编译 [待校准&#64;9717]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Tf2.html">关于tf2 [待校准&#64;10229]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Build-System.html">关于构建系统 [待校准&#64;9545]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Internal-Interfaces.html">关于内部ROS 2接口 [待校准&#64;9841]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Middleware-Implementations.html">关于ROS 2中间件实现 [待校准&#64;9923]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Client-Interfaces.html">ROS 2客户端接口 (客户端库) [待校准&#64;9655]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contributing.html">贡献</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Developer-Guide.html">ROS 2开发人员指南 [待校准&#64;449]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Code-Style-Language-Versions.html">代码样式和语言版本 [待校准&#64;231]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Quality-Guide.html">质量指南: 确保代码质量 [待校准&#64;1031]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Migration-Guide.html">从ROS 1迁移指南 [待校准&#64;799]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Contributing/Migration-Guide-Python.html">来自ROS 1的Python迁移指南 [待校准&#64;1022]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Build-Farms.html">ROS Build Farms [待校准&#64;186]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Windows-Tips-and-Tricks.html">Windows提示和技巧 [待校准&#64;1124]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Contributing-To-ROS-2-Documentation.html">为ROS 2文档做出贡献 [待校准&#64;385]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">联系</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROSCon-Content.html">ROSCon内容</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">发行版</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Alpha-Overview.html">ROS 2 α 发行版本 (2015年8月-2016年10月) [待校准&#64;1527]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta1-Overview.html">贝塔1 (代号'Asphalt'; 2016年12月) [待校准&#64;1607]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta2-Overview.html">贝塔2 (代号'r2b2'; 2017年7月) [待校准&#64;1641]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta3-Overview.html">贝塔3 (代号'r2b3'; 2017年9月) [待校准&#64;1672]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Ardent-Apalone.html">ROS 2Ardent阿帕隆 (代号'ardent'; 2017年12月) [待校准&#64;4310]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Bouncy-Bolson.html">ROS 2 Bouncy Bolson (代号'bouncy'; 2018年6月) [待校准&#64;4351]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Crystal-Clemmys.html">ROS 2Crystal Clemmys (代号'crystal'; 2018年12月) [待校准&#64;4379]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Dashing-Diademata.html">ROS 2DashingDiademata (代号'dashing'; 2019年5月31日) [待校准&#64;4458]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Eloquent-Elusor.html">ROS 2EloquentElusor (代号'eloquent'; 2019年11月22日) [待校准&#64;4648]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Foxy-Fitzroy.html">ROS 2FoxyFitzroy (代号'foxy'; 2020年6月5日) [待校准&#64;4724]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Galactic-Geochelone.html">ROS 2GalacticGeochelone (代号'galactic'; 2021年5月) [待校准&#64;4870]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Galactic-Geochelone-Complete-Changelog.html">ROS 2GalacticGeochelone完整变更日志 [待校准&#64;1691]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Humble-Hawksbill.html">ROS 2Humble Hawksbill (代号'humble'; 2022年5月) [待校准&#64;5066]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Rolling-Ridley.html">ROS 2Rolling Ridley (代号'rolling'; 2020年6月) [待校准&#64;5150]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Features.html">功能状态</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Roadmap.html">开发计划（Roadmap）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Feature-Ideas.html">功能理念</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Governance.html">项目管理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Charter.html">ROS 2技术指导委员会章程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC申请人摄入流程 [待校准&#64;1387]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/How-To-Start-A-Community-Working-Group.html">如何成立社区工作组 [待校准&#64;1272]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Marketing.html">营销材料</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相关项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS2 项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">NVIDIA ROS 2 项目</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">相关术语</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Tutorials.html">教程</a> &raquo;</li>
      <li>IBM Cloud Kubernetes上的ROS2 [社区-贡献] [待校准&#64;7232]</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/foxy/source/Tutorials/Deploying-ROS-2-on-IBM-Cloud.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="ros2-on-ibm-cloud-kubernetes-community-contributed">
<h1>IBM Cloud Kubernetes上的ROS2 [社区-贡献] <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7232">[待校准&#64;7232]</a><a class="headerlink" href="#ros2-on-ibm-cloud-kubernetes-community-contributed" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#about" id="id1">关于 [待校准&#64;7233]</a></p></li>
<li><p><a class="reference internal" href="#ros2-on-ibm-cloud" id="id2">IBM Cloud上的ROS2 [待校准&#64;7235]</a></p></li>
<li><p><a class="reference internal" href="#step-1-setting-up-your-system" id="id3">第1步: 设置系统 [待校准&#64;7239]</a></p>
<ul>
<li><p><a class="reference internal" href="#a-docker-files" id="id4">a) Docker文件？ [待校准&#64;7241]</a></p></li>
<li><p><a class="reference internal" href="#b-ros2-image" id="id5">b) ROS2图像 [待校准&#64;7245]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-2-running-the-image-on-ibm-cloud" id="id6">步骤2: 在IBM Cloud上运行映像 [待校准&#64;7258]</a></p></li>
<li><p><a class="reference internal" href="#step-3-using-custom-ros2-packages" id="id7">第3步: 使用自定义ROS2包 [待校准&#64;7268]</a></p>
<ul>
<li><p><a class="reference internal" href="#extra-deleting-docker-images" id="id8">额外: 删除Docker镜像 [待校准&#64;7281]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-4-kubernetes" id="id9">步骤4: Kubernetes [待校准&#64;7285]</a></p>
<ul>
<li><p><a class="reference internal" href="#a-creating-the-cluster" id="id10">a) 创建集群 [待校准&#64;7286]</a></p></li>
<li><p><a class="reference internal" href="#b-deploying-your-docker-image-finally" id="id11">b) 部署您的Docker镜像 * 最后!* [待校准&#64;7305]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-5-using-cli-for-your-docker-image" id="id12">第5步: 将CLI用于Docker映像 [待校准&#64;7310]</a></p></li>
<li><p><a class="reference internal" href="#final-remarks" id="id13">最后备注 [待校准&#64;7317]</a></p></li>
</ul>
</div>
<div class="section" id="about">
<h2>关于 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7233">[待校准&#64;7233]</a><a class="headerlink" href="#about" title="永久链接至标题"></a></h2>
<p>本文介绍如何使用Docker文件在IBM Cloud上运行ROS2。它首先简要概述了docker映像以及它们如何工作lo调用y，然后探讨了IBM Cloud以及用户如何在其上部署其容器。之后，简要介绍了用户如何在IBM Cloud上使用来自github的ROS2自定义包。提供了有关如何在IBM Cloud上创建和使用Kubernetes的演练，最后在集群上部署了Docker映像。最初出版的 <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud">here</a> and <a class="reference external" href="https://medium.com/&#64;mahmoud-nasr/running-ros2-on-ibm-cloud-1b1284cbd487">here</a> 。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7234">[待校准&#64;7234]</a></p>
</div>
<div class="section" id="ros2-on-ibm-cloud">
<h2>IBM Cloud上的ROS2 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7235">[待校准&#64;7235]</a><a class="headerlink" href="#ros2-on-ibm-cloud" title="永久链接至标题"></a></h2>
<p>在本教程中，我们将展示如何在IBM Cloud上将ROS2与您的自定义包轻松集成和运行。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7236">[待校准&#64;7236]</a></p>
<p>ROS2是新一代的ROS，它提供了对多机器人结构的更多控制。随着云计算的进步，云机器人技术在当今时代变得越来越重要。在本教程中，我们将介绍在IBM Cloud上运行ROS2的简短介绍。在本教程结束时，您将能够在ROS2中创建自己的包，并使用docker文件将其部署到云中。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7237">[待校准&#64;7237]</a></p>
<p>以下说明假设您正在使用Linux，并且已经使用Ubuntu 18.04 (仿生海狸) 进行了测试。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7238">[待校准&#64;7238]</a></p>
</div>
<div class="section" id="step-1-setting-up-your-system">
<h2>第1步: 设置系统 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7239">[待校准&#64;7239]</a><a class="headerlink" href="#step-1-setting-up-your-system" title="永久链接至标题"></a></h2>
<p>在我们讨论确切的过程是如何工作的之前，让我们首先确保所有需要的软件都正确安装。我们将为您提供合适的源文件来设置您的系统，并且只突出显示与我们的用例相关的细节。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7240">[待校准&#64;7240]</a></p>
<div class="section" id="a-docker-files">
<h3>a) Docker文件？ <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7241">[待校准&#64;7241]</a><a class="headerlink" href="#a-docker-files" title="永久链接至标题"></a></h3>
<p>Docker文件是一种容器形式，可以与您的系统分开运行，这样，您可以设置可能数百个不同的项目，而不会相互影响。您甚至可以在一台计算机上设置不同版本的Linux，而无需虚拟机。Docker文件具有节省空间和仅在运行时使用系统源文件的优势。此外，码头工人用途广泛，可转让。它们包含所有单独运行所需的先决条件，这意味着您可以轻松地将docker文件用于特定系统或服务，而无需任何cubersome步骤! <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7242">[待校准&#64;7242]</a></p>
<p>兴奋了吗？让我们从按照以下 <a class="reference external" href="https://docs.docker.com/get-docker/">link</a> 将docker安装到您的系统开始。从本教程中，您应该已经进行了一些健全性检查，以确保docker设置正确。但是，以防万一，让我们再次运行以下使用hello-world docker映像的命令: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7243">[待校准&#64;7243]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo docker run hello-world
</pre></div>
</div>
<p>您应该获得以下输出: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7244">[待校准&#64;7244]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="m">1</span>. The Docker client contacted the Docker daemon.
 <span class="m">2</span>. The Docker daemon pulled the <span class="s2">&quot;hello-world&quot;</span> image from the Docker Hub.
    <span class="o">(</span>amd64<span class="o">)</span>
 <span class="m">3</span>. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 <span class="m">4</span>. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</pre></div>
</div>
</div>
<div class="section" id="b-ros2-image">
<h3>b) ROS2图像 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7245">[待校准&#64;7245]</a><a class="headerlink" href="#b-ros2-image" title="永久链接至标题"></a></h3>
<p>2019年1月几种ROS分布的ROS <a class="reference external" href="https://discourse.ros.org/t/announcing-official-docker-images-for-ros2/7381/2">announced</a> 图像容器。有关使用ROS2 docker映像的更多详细说明，请参见 <a class="reference external" href="https://hub.docker.com/_/ros/">here</a> 。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7246">[待校准&#64;7246]</a></p>
<p>让我们跳过这一点，立即进入真实交易; 创建本地ROS2 docker。我们将创建自己的Dockerfile (而不是使用就绪映像)，因为我们需要这种方法在IBM Cloud上进行部署。首先，我们创建一个新目录，该目录将保存我们的Dockerfile和以后需要的任何其他文件，并导航到它。使用您最喜欢的 $ EDITOR选项，打开一个名为 * Dockerfile * 的新文件 (确保文件命名正确): <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7247">[待校准&#64;7247]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir ~/ros2_docker

$ <span class="nb">cd</span> ~/ros2_docker

$ <span class="nv">$EDITOR</span> Dockerfile
</pre></div>
</div>
<p>在 * Dockerfile * 中插入以下内容，并保存它 (也可以找到 <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/blob/main/dockers/ros2_basic/Dockerfile">here</a> ): <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7248">[待校准&#64;7248]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>FROM ros:foxy

<span class="c1"># install ros package</span>
RUN apt-get update <span class="o">&amp;&amp;</span> apt-get install -y <span class="se">\</span>
      ros-<span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span>-demo-nodes-cpp <span class="se">\</span>
      ros-<span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span>-demo-nodes-py <span class="o">&amp;&amp;</span> <span class="se">\</span>
    rm -rf /var/lib/apt/lists/* <span class="o">&amp;&amp;</span> mkdir /ros2_home

WORKDIR /ros2_home

<span class="c1"># launch ros package</span>
CMD <span class="o">[</span><span class="s2">&quot;ros2&quot;</span>, <span class="s2">&quot;launch&quot;</span>, <span class="s2">&quot;demo_nodes_cpp&quot;</span>, <span class="s2">&quot;talker_listener.launch.py&quot;</span><span class="o">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>FROM: 从ros:foxy Docker镜像创建图层 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7249">[待校准&#64;7249]</a></p></li>
<li><p>运行: 通过将vim安装到容器中并创建调用ed /ros2_home的目录来构建容器 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7250">[待校准&#64;7250]</a></p></li>
<li><p>WORKDIR: 通知容器的工作目录应该在哪里 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7251">[待校准&#64;7251]</a></p></li>
</ul>
<p>当然，您可以自由更改ROS分布 (此处使用 * foxy <a href="#id1"><span class="problematic" id="id2">*</span></a>) 或更改目录名称。上面的docker文件设置ROS-foxy并安装C++ 和Python的例程节点。然后它launches文件运行健谈和侦听节点。我们将在几个动作中看到它，但是它们的行为与在 <a class="reference external" href="https://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29">ROS wiki</a> 中发现的出版商-订阅者的例子非常相似 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7252">[待校准&#64;7252]</a></p>
<p>现在，我们准备构建docker映像以在其中运行ROS2 (是的，就这么简单!)。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7253">[待校准&#64;7253]</a></p>
<p>注意: 如果由于特权不足或 * 权限被拒绝 * 而导致错误，请尝试使用 * sudo * 特权运行命令: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7254">[待校准&#64;7254]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ docker build .

<span class="c1"># You will see a bunch of lines that execute the docker file instructions followed by:</span>
Successfully built 0dc6ce7cb487
</pre></div>
</div>
<p><em>0dc6ce7cb487</em> will most probably be different for you, so keep note of
it and copy it somewhere for reference. You can always go back and check
the docker images you have on your system using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo docker ps -as
</pre></div>
</div>
<p>现在，使用以下命令运行docker文件: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7256">[待校准&#64;7256]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ docker run -it 0dc6ce7cb487
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>launch<span class="o">]</span>: All log files can be found below /root/.ros/log/2020-10-28-02-41-45-177546-0b5d9ed123be-1
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>launch<span class="o">]</span>: Default logging verbosity is <span class="nb">set</span> to INFO
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>talker-1<span class="o">]</span>: process started with pid <span class="o">[</span><span class="m">28</span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>listener-2<span class="o">]</span>: process started with pid <span class="o">[</span><span class="m">30</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852907</span>.249886590<span class="o">]</span> <span class="o">[</span>talker<span class="o">]</span>: Publishing: <span class="s1">&#39;Hello World: 1&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852907</span>.250964490<span class="o">]</span> <span class="o">[</span>listener<span class="o">]</span>: I heard: <span class="o">[</span>Hello World: <span class="m">1</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852908</span>.249786312<span class="o">]</span> <span class="o">[</span>talker<span class="o">]</span>: Publishing: <span class="s1">&#39;Hello World: 2&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852908</span>.250453386<span class="o">]</span> <span class="o">[</span>listener<span class="o">]</span>: I heard: <span class="o">[</span>Hello World: <span class="m">2</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852909</span>.249882257<span class="o">]</span> <span class="o">[</span>talker<span class="o">]</span>: Publishing: <span class="s1">&#39;Hello World: 3&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852909</span>.250536089<span class="o">]</span> <span class="o">[</span>listener<span class="o">]</span>: I heard: <span class="o">[</span>Hello World: <span class="m">3</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852910</span>.249845718<span class="o">]</span> <span class="o">[</span>talker<span class="o">]</span>: Publishing: <span class="s1">&#39;Hello World: 4&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852910</span>.250509355<span class="o">]</span> <span class="o">[</span>listener<span class="o">]</span>: I heard: <span class="o">[</span>Hello World: <span class="m">4</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852911</span>.249506058<span class="o">]</span> <span class="o">[</span>talker<span class="o">]</span>: Publishing: <span class="s1">&#39;Hello World: 5&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852911</span>.250152324<span class="o">]</span> <span class="o">[</span>listener<span class="o">]</span>: I heard: <span class="o">[</span>Hello World: <span class="m">5</span><span class="o">]</span>
<span class="o">[</span>talker-1<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852912</span>.249556670<span class="o">]</span> <span class="o">[</span>talker<span class="o">]</span>: Publishing: <span class="s1">&#39;Hello World: 6&#39;</span>
<span class="o">[</span>listener-2<span class="o">]</span> <span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1603852912</span>.250212678<span class="o">]</span> <span class="o">[</span>listener<span class="o">]</span>: I heard: <span class="o">[</span>Hello World: <span class="m">6</span><span class="o">]</span>
</pre></div>
</div>
<p>如果它工作正常，你应该看到类似于上面显示的东西。可以看出，有两个ROS节点 (发布者和订阅者) 正在运行，它们的输出通过ROS信息提供给我们。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7257">[待校准&#64;7257]</a></p>
</div>
</div>
<div class="section" id="step-2-running-the-image-on-ibm-cloud">
<h2>步骤2: 在IBM Cloud上运行映像 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7258">[待校准&#64;7258]</a><a class="headerlink" href="#step-2-running-the-image-on-ibm-cloud" title="永久链接至标题"></a></h2>
<p>以下步骤假定您有一个IBM cloud帐户并安装了ibmcloud CLI。如果没有，请先检查一下这个 <a class="reference external" href="https://cloud.ibm.com/docs/cli/reference/ibmcloud/download_cli.html#install_use">link</a> 。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7259">[待校准&#64;7259]</a></p>
<p>我们还需要通过运行命令来确保已安装IBM Cloud Container注册表的CLI插件。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7260">[待校准&#64;7260]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud plugin install container-registry
</pre></div>
</div>
<p>之后，通过终端登录您的ibmcloud帐户: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7261">[待校准&#64;7261]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud login --sso
</pre></div>
</div>
<p>从这里，让我们创建一个容器注册表名称-空间。确保使用唯一的名称，该名称也描述了它是什么。在这里，我使用了 * ros2nasr <a href="#id1"><span class="problematic" id="id2">*</span></a>。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7262">[待校准&#64;7262]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud cr namespace-add ros2nasr
</pre></div>
</div>
<p>IBM cloud有许多快捷方式，可以帮助我们立即将容器放到云中。下面的命令构建容器，并用名称ros2foxy和版本1标记它。确保使用您创建的正确注册表名称，并且您可以根据需要自由更改容器名称。那个。最后表示 * Dockerfile * 在当前目录中 (这很重要)，如果不是，则将其更改为指向包含Dockerfile的目录。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7263">[待校准&#64;7263]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud cr build --tag registry.bluemix.net/ros2nasr/ros2foxy:1 .
</pre></div>
</div>
<p>现在，您可以通过运行以下命令来确保容器已被推送到您创建的注册表 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7264">[待校准&#64;7264]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud cr image-list
Listing images...

REPOSITORY               TAG   DIGEST         NAMESPACE   CREATED         SIZE     SECURITY STATUS
us.icr.io/ros2nasr/ros2foxy   <span class="m">1</span>     031be29301e6   ros2nasr    <span class="m">36</span> seconds ago   <span class="m">120</span> MB   No Issues

OK
</pre></div>
</div>
<p>接下来，登录注册表以运行docker映像非常重要。同样，如果您面临 * 权限被拒绝 * 错误，请使用sudo特权执行该命令。然后，如下所示运行docker文件。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7265">[待校准&#64;7265]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud cr login
Logging <span class="k">in</span> to <span class="s1">&#39;registry.ng.bluemix.net&#39;</span>...
Logged <span class="k">in</span> to <span class="s1">&#39;registry.ng.bluemix.net&#39;</span>.
Logging <span class="k">in</span> to <span class="s1">&#39;us.icr.io&#39;</span>...
Logged <span class="k">in</span> to <span class="s1">&#39;us.icr.io&#39;</span>.

OK

$ docker run -v -it registry.ng.bluemix.net/ros2nasr/ros2foxy:1
</pre></div>
</div>
<p>其中 * ros2nasr * 是您创建的注册表的名称，* ros2foxy:1 * 是docker容器和版本的标签，如前所述。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7266">[待校准&#64;7266]</a></p>
<p>现在，您应该看到docker文件正在运行，并提供与在计算机上运行lo调用y时看到的输出相似的输出。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7267">[待校准&#64;7267]</a></p>
</div>
<div class="section" id="step-3-using-custom-ros2-packages">
<h2>第3步: 使用自定义ROS2包 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7268">[待校准&#64;7268]</a><a class="headerlink" href="#step-3-using-custom-ros2-packages" title="永久链接至标题"></a></h2>
<p>因此，现在我们有了完整的管道，从创建Dockerfile，一直到部署它并看到它在IBM Cloud上运行。但是，如果我们想使用我们 (或其他人) 创建的一组自定义包怎么办？ <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7269">[待校准&#64;7269]</a></p>
<p>这一切都与你如何设置你的Dockerfile有关。让我们使用ROS2 <a class="reference external" href="https://hub.docker.com/_/ros/">here</a> 提供的例子。使用新的Dockerfile创建一个新目录 (或覆盖现有目录) 并在其中添加以下内容 (或下载文件 <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/blob/main/dockers/git_pkgs_docker/Dockerfile">here</a> ) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7270">[待校准&#64;7270]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ARG <span class="nv">FROM_IMAGE</span><span class="o">=</span>ros:foxy
ARG <span class="nv">OVERLAY_WS</span><span class="o">=</span>/opt/ros/overlay_ws

<span class="c1"># multi-stage for caching</span>
FROM <span class="nv">$FROM_IMAGE</span> AS cacher

<span class="c1"># clone overlay source</span>
ARG OVERLAY_WS
WORKDIR <span class="nv">$OVERLAY_WS</span>/src
RUN <span class="nb">echo</span> <span class="s2">&quot;\</span>
<span class="s2">repositories: \n\</span>
<span class="s2">  ros2/demos: \n\</span>
<span class="s2">    type: git \n\</span>
<span class="s2">    url: https://github.com/ros2/demos.git \n\</span>
<span class="s2">    version: </span><span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span><span class="s2"> \n\</span>
<span class="s2">&quot;</span> &gt; ../overlay.repos
RUN vcs import ./ &lt; ../overlay.repos

<span class="c1"># copy manifests for caching</span>
WORKDIR /opt
RUN mkdir -p /tmp/opt <span class="o">&amp;&amp;</span> <span class="se">\</span>
    find ./ -name <span class="s2">&quot;package.xml&quot;</span> <span class="p">|</span> <span class="se">\</span>
      xargs cp --parents -t /tmp/opt <span class="o">&amp;&amp;</span> <span class="se">\</span>
    find ./ -name <span class="s2">&quot;COLCON_IGNORE&quot;</span> <span class="p">|</span> <span class="se">\</span>
      xargs cp --parents -t /tmp/opt <span class="o">||</span> <span class="nb">true</span>

<span class="c1"># multi-stage for building</span>
FROM <span class="nv">$FROM_IMAGE</span> AS builder

<span class="c1"># install overlay dependencies</span>
ARG OVERLAY_WS
WORKDIR <span class="nv">$OVERLAY_WS</span>
COPY --from<span class="o">=</span>cacher /tmp/<span class="nv">$OVERLAY_WS</span>/src ./src
RUN . /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh <span class="o">&amp;&amp;</span> <span class="se">\</span>
    apt-get update <span class="o">&amp;&amp;</span> rosdep install -y <span class="se">\</span>
      --from-paths <span class="se">\</span>
        src/ros2/demos/demo_nodes_cpp <span class="se">\</span>
        src/ros2/demos/demo_nodes_py <span class="se">\</span>
      --ignore-src <span class="se">\</span>
    <span class="o">&amp;&amp;</span> rm -rf /var/lib/apt/lists/*

<span class="c1"># build overlay source</span>
COPY --from<span class="o">=</span>cacher <span class="nv">$OVERLAY_WS</span>/src ./src
ARG <span class="nv">OVERLAY_MIXINS</span><span class="o">=</span><span class="s2">&quot;release&quot;</span>
RUN . /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh <span class="o">&amp;&amp;</span> <span class="se">\</span>
    colcon build <span class="se">\</span>
      --packages-select <span class="se">\</span>
        demo_nodes_cpp <span class="se">\</span>
        demo_nodes_py <span class="se">\</span>
      --mixin <span class="nv">$OVERLAY_MIXINS</span>

<span class="c1"># source entrypoint setup</span>
ENV OVERLAY_WS <span class="nv">$OVERLAY_WS</span>
RUN sed --in-place --expression <span class="se">\</span>
      <span class="s1">&#39;$isource &quot;$OVERLAY_WS/install/setup.bash&quot;&#39;</span> <span class="se">\</span>
      /ros_entrypoint.sh

<span class="c1"># run launch file</span>
CMD <span class="o">[</span><span class="s2">&quot;ros2&quot;</span>, <span class="s2">&quot;launch&quot;</span>, <span class="s2">&quot;demo_nodes_cpp&quot;</span>, <span class="s2">&quot;talker_listener.launch.py&quot;</span><span class="o">]</span>
</pre></div>
</div>
<p>通过显示的行，我们可以看到如何通过4个步骤从github添加自定义包: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7271">[待校准&#64;7271]</a></p>
<ol class="arabic simple">
<li><p>使用从Github克隆的自定义包创建覆盖: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7272">[待校准&#64;7272]</a></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ARG OVERLAY_WS
WORKDIR <span class="nv">$OVERLAY_WS</span>/src
RUN <span class="nb">echo</span> <span class="s2">&quot;\</span>
<span class="s2">repositories: \n\</span>
<span class="s2">  ros2/demos: \n\</span>
<span class="s2">    type: git \n\</span>
<span class="s2">    url: https://github.com/ros2/demos.git \n\</span>
<span class="s2">    version: </span><span class="si">${</span><span class="nv">ROS_DISTRO</span><span class="si">}</span><span class="s2"> \n\</span>
<span class="s2">&quot;</span> &gt; ../overlay.repos
RUN vcs import ./ &lt; ../overlay.repos
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>使用rosdep安装包依赖项 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7273">[待校准&#64;7273]</a></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install overlay dependencies</span>
ARG OVERLAY_WS
WORKDIR <span class="nv">$OVERLAY_WS</span>
COPY --from<span class="o">=</span>cacher /tmp/<span class="nv">$OVERLAY_WS</span>/src ./src
RUN . /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh <span class="o">&amp;&amp;</span> <span class="se">\</span>
    apt-get update <span class="o">&amp;&amp;</span> rosdep install -y <span class="se">\</span>
      --from-paths <span class="se">\</span>
        src/ros2/demos/demo_nodes_cpp <span class="se">\</span>
        src/ros2/demos/demo_nodes_py <span class="se">\</span>
      --ignore-src <span class="se">\</span>
    <span class="o">&amp;&amp;</span> rm -rf /var/lib/apt/lists/*
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>构建您需要的包 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7274">[待校准&#64;7274]</a></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># build overlay source</span>
COPY --from<span class="o">=</span>cacher <span class="nv">$OVERLAY_WS</span>/src ./src
ARG <span class="nv">OVERLAY_MIXINS</span><span class="o">=</span><span class="s2">&quot;release&quot;</span>
RUN . /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.sh <span class="o">&amp;&amp;</span> <span class="se">\</span>
    colcon build <span class="se">\</span>
      --packages-select <span class="se">\</span>
        demo_nodes_cpp <span class="se">\</span>
        demo_nodes_py <span class="se">\</span>
      --mixin <span class="nv">$OVERLAY_MIXINS</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>运行launch文件 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7275">[待校准&#64;7275]</a></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># run launch file</span>
CMD <span class="o">[</span><span class="s2">&quot;ros2&quot;</span>, <span class="s2">&quot;launch&quot;</span>, <span class="s2">&quot;demo_nodes_cpp&quot;</span>, <span class="s2">&quot;talker_listener.launch.py&quot;</span><span class="o">]</span>
</pre></div>
</div>
<p>同样，我们可以更改使用的包，安装它们的依赖项，然后运行它们。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7276">[待校准&#64;7276]</a></p>
<p>返回IBM Cloud <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7277">[待校准&#64;7277]</a></p>
<p>使用此Dockerfile，我们可以按照与之前相同的步骤在IBM Cloud上部署它。由于我们已经创建了注册表，并且已经登录到IBM Cloud，因此我们直接构建新的Dockerfile。请注意，我如何保持标签不变，但更改了版本，这样我就可以更新之前创建的docker映像。(如果需要，您可以自由创建一个全新的) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7278">[待校准&#64;7278]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud cr build --tag registry.bluemix.net/ros2nasr/ros2foxy:2 .
</pre></div>
</div>
<p>然后，确保您已登录到注册表并运行新的docker映像: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7279">[待校准&#64;7279]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ibmcloud cr login
Logging <span class="k">in</span> to <span class="s1">&#39;registry.ng.bluemix.net&#39;</span>...
Logged <span class="k">in</span> to <span class="s1">&#39;registry.ng.bluemix.net&#39;</span>.
Logging <span class="k">in</span> to <span class="s1">&#39;us.icr.io&#39;</span>...
Logged <span class="k">in</span> to <span class="s1">&#39;us.icr.io&#39;</span>.

OK

$ docker run -v -it registry.ng.bluemix.net/ros2nasr/ros2foxy:2
</pre></div>
</div>
<p>您应该再次看到相同的输出。但是，这次我们通过github的自定义包来完成此操作，这使我们能够在IBM Cloud上使用为ROS2创建的个人包。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7280">[待校准&#64;7280]</a></p>
<div class="section" id="extra-deleting-docker-images">
<h3>额外: 删除Docker镜像 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7281">[待校准&#64;7281]</a><a class="headerlink" href="#extra-deleting-docker-images" title="永久链接至标题"></a></h3>
<p>由于您可能需要从IBM Cloud中删除特定的docker映像，因此您应该这样做! <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7282">[待校准&#64;7282]</a></p>
<ol class="arabic simple">
<li><p>列出您拥有的所有图像，并找到与 * registry.ng.bluemi x.net/ros2nasr/ros2foxy:2 * (在我的情况下) 对应的所有共享 * 图像 * 名称的图像。然后用他们的 * 名字 * 删除他们 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7283">[待校准&#64;7283]</a></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ docker rm your_docker_NAMES
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>使用其 * image * 名称从IBM Cloud中删除docker映像 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7284">[待校准&#64;7284]</a></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ docker rmi registry.ng.bluemix.net/ros2nasr/ros2foxy:2
</pre></div>
</div>
</div>
</div>
<div class="section" id="step-4-kubernetes">
<h2>步骤4: Kubernetes <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7285">[待校准&#64;7285]</a><a class="headerlink" href="#step-4-kubernetes" title="永久链接至标题"></a></h2>
<div class="section" id="a-creating-the-cluster">
<h3>a) 创建集群 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7286">[待校准&#64;7286]</a><a class="headerlink" href="#a-creating-the-cluster" title="永久链接至标题"></a></h3>
<p>使用控制台创建集群。找到的说明是 <a class="reference external" href="https://cloud.ibm.com/docs/containers?topic=containers-clusters#clusters_ui">here</a> 。下面详细介绍了使用的设置。这些只是建议，如果需要可以更改。但是，请确保您了解选择的含义: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7287">[待校准&#64;7287]</a></p>
<ol class="arabic simple">
<li><p>计划: * 标准 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7288">[待校准&#64;7288]</a></p></li>
<li><p>编排服务: * Kubernetes v1.18.10 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7289">[待校准&#64;7289]</a></p></li>
<li><p>基础设施: * 经典 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7290">[待校准&#64;7290]</a></p></li>
<li><p>位置: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7291">[待校准&#64;7291]</a></p></li>
</ol>
<ul class="simple">
<li><p>Re源文件组: * 默认 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7292">[待校准&#64;7292]</a></p></li>
<li><p>地理: * 北美 * (您可以自由更改此设置) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7293">[待校准&#64;7293]</a></p></li>
<li><p>可用性: * 单一区域 * (您可以自由更改此设置，但请查看IBM Cloud文档，确保您了解选择的影响。) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7294">[待校准&#64;7294]</a></p></li>
<li><p>工作区域: * 多伦多01 * (选择物理调用距离您最近的位置) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7295">[待校准&#64;7295]</a></p></li>
</ul>
<ol class="arabic simple" start="5">
<li><p>工人池: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7296">[待校准&#64;7296]</a></p></li>
</ol>
<ul class="simple">
<li><p>虚拟共享，Ubuntu 18 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7297">[待校准&#64;7297]</a></p></li>
<li><p>内存: 16 GB <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7298">[待校准&#64;7298]</a></p></li>
<li><p>每个可用区的工作节点: * 1 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7299">[待校准&#64;7299]</a></p></li>
</ul>
<ol class="arabic simple" start="6">
<li><p>主服务端点: * 私有和公共端点 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7300">[待校准&#64;7300]</a></p></li>
<li><p>关于源文件详细信息 (完全灵活): <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7301">[待校准&#64;7301]</a></p></li>
</ol>
<ul class="simple">
<li><p>集群名称: * mycluster-tor01-rosibm * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7302">[待校准&#64;7302]</a></p></li>
<li><p>标签: * 版本: 1 * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7303">[待校准&#64;7303]</a></p></li>
</ul>
<p>创建集群后，您将被重定向到一个页面，该页面详细说明了如何设置CLI工具和访问集群。请按照以下说明操作 (或查看说明 <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/Kubernetes-Cluster-Set-Up.md">here</a> )，并等待进度条通过在群集名称旁边指示 * 正常 * 来显示您创建的工作节点已准备就绪。您也可以从Kubernetes内部的IBM Cloud控制台访问此屏幕。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7304">[待校准&#64;7304]</a></p>
</div>
<div class="section" id="b-deploying-your-docker-image-finally">
<h3>b) 部署您的Docker镜像 * 最后!* <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7305">[待校准&#64;7305]</a><a class="headerlink" href="#b-deploying-your-docker-image-finally" title="永久链接至标题"></a></h3>
<ol class="arabic simple">
<li><p>使用您最喜欢的 $ EDITOR创建名为 * ros2-deployment.yaml * 的部署配置yaml文件，并在其中插入以下内容: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7306">[待校准&#64;7306]</a></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apiVersion: apps/v1
kind: Deployment
metadata:
  name: &lt;deployment&gt;
spec:
  replicas: &lt;number_of_replicas&gt;
  selector:
    matchLabels:
      app: &lt;app_name&gt;
  template:
    metadata:
      labels:
        app: &lt;app_name&gt;
    spec:
      containers:
      - name: &lt;app_name&gt;
        image: &lt;region&gt;.icr.io/&lt;namespace&gt;/&lt;image&gt;:&lt;tag&gt;
</pre></div>
</div>
<p>您应该替换 * &quot;&lt;  &quot; &quot; &gt;&quot; * 之间显示的标签，如 <a class="reference external" href="https://cloud.ibm.com/docs/containers?topic=containers-images#namespace">here</a> 所述。就我而言，文件如下所示: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7307">[待校准&#64;7307]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apiVersion: apps/v1
kind: Deployment
metadata:
  name: ros2-deployment
spec:
  replicas: <span class="m">1</span>
  selector:
    matchLabels:
      app: ros2-ibmcloud
  template:
    metadata:
      labels:
        app: ros2-ibmcloud
    spec:
      containers:
      - name: ros2-ibmcloud
        image: us.icr.io/ros2nasr/ros2foxy:2
</pre></div>
</div>
<p>使用以下命令部署文件 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7308">[待校准&#64;7308]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ kubectl apply -f ros2-deployment.yaml
deployment.apps/ros2-deployment created
</pre></div>
</div>
<p>现在，您的docker镜像已完全部署在您的集群上! <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7309">[待校准&#64;7309]</a></p>
</div>
</div>
<div class="section" id="step-5-using-cli-for-your-docker-image">
<h2>第5步: 将CLI用于Docker映像 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7310">[待校准&#64;7310]</a><a class="headerlink" href="#step-5-using-cli-for-your-docker-image" title="永久链接至标题"></a></h2>
<ol class="arabic simple">
<li><p>通过IBM Cloud控制台Kubernetes导航到您的集群。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7311">[待校准&#64;7311]</a></p></li>
<li><p>单击页面右上角的 * Kubernetes dashboard <a href="#id1"><span class="problematic" id="id2">*</span></a>。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7312">[待校准&#64;7312]</a></p></li>
</ol>
<p>现在，您应该能够看到群集的所有不同参数及其CPU和内存使用情况的完整列表。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7313">[待校准&#64;7313]</a></p>
<ol class="arabic simple" start="3">
<li><p>导航到 * pod <a href="#id1"><span class="problematic" id="id2">*</span></a>，然后单击您的部署。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7314">[待校准&#64;7314]</a></p></li>
<li><p>在右上角，点击 * Exec into pod * <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7315">[待校准&#64;7315]</a></p></li>
</ol>
<p>现在你在你的docker镜像里面了!您可以源文件您的工作区 (如果需要) 并运行ROS2!例如: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7316">[待校准&#64;7316]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@ros2-deployment-xxxxxxxx:/opt/ros/overlay_ws# . install/setup.sh
root@ros2-deployment-xxxxxxxx:/opt/ros/overlay_ws# ros2 launch demo_nodes_cpp talker_listener.launch.py
</pre></div>
</div>
</div>
<div class="section" id="final-remarks">
<h2>最后备注 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7317">[待校准&#64;7317]</a><a class="headerlink" href="#final-remarks" title="永久链接至标题"></a></h2>
<p>此时，您可以使用github上的ROS2包创建自己的docker映像。使用本地ROS2包也可以，只需很少的更改。这可能是另一篇文章的话题。但是，我们鼓励您查看以下使用例程仓库本地副本的 <a class="reference external" href="https://github.com/mm-nasr/ros2_ibmcloud/tree/main/dockers/local_pkgs_docker">Dockerfile</a> 。同样，您可以使用自己的本地包。 <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=7318">[待校准&#64;7318]</a></p>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Simulators/Webots/Setting-up-a-Robot-Simulation-Webots.html" class="btn btn-neutral float-left" title="设置机器人仿真 (Webots) [待校准@8222]" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Eclipse-Oxygen-with-ROS-2-and-rviz2.html" class="btn btn-neutral float-right" title="带有ROS 2和rviz2的Eclipse Oxygen [社区贡献] [待校准@7387]" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>