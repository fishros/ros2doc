<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROS 2GalacticGeochelone (代号&#39;galactic&#39;; 2021年5月) [待校准@4649] &mdash; ROS 2 documentation  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/Releases/Release-Galactic-Geochelone.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="ROS 2GalacticGeochelone完整变更日志 [待校准@1470]" href="Galactic-Geochelone-Complete-Changelog.html" />
    <link rel="prev" title="ROS 2FoxyFitzroy (代号&#39;foxy&#39;; 2020年6月5日) [待校准@4503]" href="Release-Foxy-Fitzroy.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">安装 [待校准&#64;5690]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Development-Setup.html">在Ubuntu Linux上构建ROS 2 [待校准&#64;5886]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Binary.html">在Ubuntu Linux上安装ROS 2 [待校准&#64;5937]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">通过Debian包安装ROS 2 [待校准&#64;5959]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Development-Setup.html">在macOS上构建ROS 2 [待校准&#64;6117]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Install-Binary.html">在macOS上安装ROS 2 [待校准&#64;6148]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Development-Setup.html">在Windows上构建ROS 2 [待校准&#64;5973]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">在Windows上安装ROS 2 [待校准&#64;6050]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Fedora-Development-Setup.html">在Fedora Linux上构建ROS 2 [待校准&#64;5836]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Latest-Development-Setup.html">安装最新的ROS 2开发版本 [待校准&#64;5840]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">主源文件检出ROS 2Foxy [待校准&#64;5850]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">用于测试的替代安装源 [待校准&#64;5873]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">安装DDS实现 [待校准&#64;5717]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">安装Connext安全插件 [待校准&#64;5768]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">安装大学或RTI Connext DDS的评估版本 [待校准&#64;5782]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">使用EclipseCycloneDDS [待校准&#64;5796]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">与GurumNetworks GurumDDS合作 [待校准&#64;5812]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">与eProsimaFast DDS合作 [待校准&#64;5829]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Docs-Guide.html">文档指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">教程 [待校准&#64;6242]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Configuring-ROS2-Environment.html">配置ROS 2环境 [待校准&#64;6646]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Turtlesim/Introducing-Turtlesim.html">介绍turtlesim和rqt [待校准&#64;8428]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Nodes.html">了解ROS 2节点 [待校准&#64;8733]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Topics/Understanding-ROS2-Topics.html">理解ROS 2话题 [待校准&#64;8368]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Services/Understanding-ROS2-Services.html">了解ROS 2服务 [待校准&#64;7742]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Parameters/Understanding-ROS2-Parameters.html">理解ROS 2参数 [待校准&#64;7371]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Actions.html">理解ROS 2动作 [待校准&#64;8684]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rqt-Console/Using-Rqt-Console.html">使用rqt_控制台 [待校准&#64;7712]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch/CLI-Intro.html">介绍ROS 2launch [待校准&#64;7101]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Recording-And-Playing-Back-Data.html">记录和回放数据 [待校准&#64;7639]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Workspace/Creating-A-Workspace.html">创建工作空间 [待校准&#64;8836]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Creating-Your-First-ROS2-Package.html">创建您的第一个ROS 2包 [待校准&#64;6677]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">编写简单的发布者和订阅者 (c ++) [待校准&#64;8905]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Publisher-And-Subscriber.html">编写简单的发布者和订阅者 (Python) [待校准&#64;8992]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Service-And-Client.html">编写简单的服务和客户端 (c ++) [待校准&#64;8953]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Service-And-Client.html">编写简单的服务和客户端 (Python) [待校准&#64;9028]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Custom-ROS2-Interfaces.html">创建自定义ROS 2 msg 和 srv 文件 [待校准&#64;6739]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Single-Package-Define-And-Use-Interface.html">在ROS 2接口上扩展 [待校准&#64;7844]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-CPP.html">在类 (c ++) 中使用参数 [待校准&#64;8769]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-Python.html">在类中使用参数 (Python) [待校准&#64;8809]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Getting-Started-With-Ros2doctor.html">开始使用ros2doctor [待校准&#64;7010]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Pluginlib.html">创建和使用插件 (c ++) [待校准&#64;7411]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Creating-an-Action.html">创建动作 [待校准&#64;6271]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Cpp-Action-Server-Client.html">编写动作服务器和客户端 (c ++) [待校准&#64;6313]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Py-Action-Server-Client.html">编写动作服务器和客户端 (Python) [待校准&#64;6385]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Composition.html">在单个进程中组成多个节点 [待校准&#64;6594]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Colcon-Tutorial.html">使用colcon构建包 [待校准&#64;6535]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch/Launch-Main.html">Launch教程 [待校准&#64;7160]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Creating-Launch-Files.html">创建launch文件 [待校准&#64;7122]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Launch-system.html">[需手动修复的语法]Launch/监控多节点[需手动修复的语法]Launch [待校准&#64;7174]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-Substitutions.html">在launch文件中使用替换 [待校准&#64;7297]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-Event-Handlers.html">在launch文件中使用事件处理程序 [待校准&#64;7201]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Launch/Using-ROS2-Launch-For-Large-Projects.html">在大型项目中使用ROS 2launch [待校准&#64;7234]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Tf2/Tf2-Main.html">tf2教程 [待校准&#64;8078]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Introduction-To-Tf2.html">tf2简介 [待校准&#64;7994]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">编写tf2静态广播器 (Python) [待校准&#64;8299]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">编写tf2静态广播器 (c ++) [待校准&#64;8257]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Py.html">编写tf2广播器 (Python) [待校准&#64;8220]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">编写tf2广播器 (c ++) [待校准&#64;8181]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Listener-Py.html">编写tf2监听程序 (Python) [待校准&#64;8251]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Writing-A-Tf2-Listener-Cpp.html">编写tf2监听程序 (c ++) [待校准&#64;8233]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Adding-A-Frame-Py.html">添加帧 (Python) [待校准&#64;7950]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Adding-A-Frame-Cpp.html">添加帧 (c ++) [待校准&#64;7914]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Learning-About-Tf2-And-Time-Py.html">学习tf2和时间 (Python) [待校准&#64;8040]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Learning-About-Tf2-And-Time-Cpp.html">学习tf2和时间 (c ++) [待校准&#64;8023]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Time-Travel-With-Tf2-Py.html">时间穿梭tf2 (Python) [待校准&#64;8130]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Time-Travel-With-Tf2-Cpp.html">时间穿梭带tf2 (C++) [待校准&#64;8105]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Debugging-Tf2-Problems.html">调试tf2问题 [待校准&#64;7956]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Quaternion-Fundamentals.html">四元数基金amentals [待校准&#64;8054]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">使用stamped数据类型与tf2_ros: MessageFilter [待校准&#64;8138]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/URDF/URDF-Main.html">URDF教程 [待校准&#64;8607]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">从头开始用URDF构建视觉机器人模型 [待校准&#64;8556]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Building-a-Movable-Robot-Model-with-URDF.html">用URDF建立可移动机器人模型 [待校准&#64;8534]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">向URDF模型添加物理和碰撞属性 [待校准&#64;8487]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">使用Xacro清理URDF文件 [待校准&#64;8635]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/URDF/Using-URDF-with-Robot-State-Publisher.html">将URDF与robot_state_发布者结合使用 [待校准&#64;8609]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Topics/Topic-Statistics-Tutorial.html">ROS 2话题统计教程 (c ++) [待校准&#64;8311]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Discovery-Server/Discovery-Server.html">使用Fast DDS Discovery Server作为发现协议 [社区贡献] [待校准&#64;6879]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Allocator-Template-Tutorial.html">实现自定义内存分配器 [待校准&#64;6445]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Simulators/Webots/Setting-up-a-Robot-Simulation-Webots.html">设置机器人仿真 (Webots) [待校准&#64;7782]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Deploying-ROS-2-on-IBM-Cloud.html">IBM Cloud Kubernetes上的ROS2 [社区-贡献] [待校准&#64;6792]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">带有ROS 2和rviz2的Eclipse Oxygen [社区贡献] [待校准&#64;6947]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">为ROS 2构建实时Linux [社区-贡献] [待校准&#64;6514]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node.html">从您自己的节点记录一个包 [待校准&#64;7554]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-ROS2-Package-with-eclipse-2021-06.html">使用eclipse 2021-06构建ROS 2包 [待校准&#64;6486]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Quality-of-Service.html">使用服务质量设置处理有损网络 [待校准&#64;7462]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Managed-Nodes.html">具有托管生命周期的节点管理 [待校准&#64;7369]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intra-Process-Communication.html">高效的流程内通讯 [待校准&#64;7051]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rosbag-with-ROS1-Bridge.html">使用ROS 1bridge用rosbag记录和回放话题数据 [待校准&#64;7685]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Real-Time-Programming.html">ROS 2中的实时编程 [待校准&#64;7491]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/dummy-robot-demo.html">尝试dummy robot例程 [待校准&#64;9056]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Logging-and-logger-configuration.html">日志和日志记录器配置例程 [待校准&#64;7322]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../How-To-Guides.html">操作指南 [待校准&#64;204]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installation-Troubleshooting.html">安装故障诊断工具 [待校准&#64;535]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Developing-a-ROS-2-Package.html">开发ROS 2包 [待校准&#64;514]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Documentation.html">[需手动修复的语法]ament _ cmake用户文档 [待校准&#64;208]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Python-Documentation.html">[需手动修复的语法]ament _ cmake_python用户文档 [待校准&#64;360]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html">迁移launch文件ROS 1ROS 2 [待校准&#64;638]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-file-different-formats.html">对ROS 2Launch文件使用Python、XML和YAML [待校准&#64;611]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launching-composable-nodes.html">使用ROS 2launch到launch可组合节点 [待校准&#64;733]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Parameters-YAML-files-migration-guide.html">将YAML参数文件从ROS 1迁移到ROS 2 [待校准&#64;850]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Node-arguments.html">通过命令行将ROS参数传递给节点 [待校准&#64;746]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Sync-Vs-Async.html">同步与异步服务客户端 [待校准&#64;972]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/DDS-tuning.html">DDS调谐信息 [待校准&#64;470]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2: 重载QoS策略 [待校准&#64;772]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html">使用多个ROS 2中间件实现 [待校准&#64;1068]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Cross-compilation.html">交叉编译 [待校准&#64;383]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Releasing-a-ROS-2-package-with-bloom.html">发布带有bloom的ROS 2包 [待校准&#64;937]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Python-Packages.html">将Python包与ROS 2结合使用 [待校准&#64;1011]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Port-Plugin-Windows.html">将RQt插件移植到Windows [待校准&#64;862]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">在Docker中运行ROS 2节点 [社区-贡献] [待校准&#64;959]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Package-maintainer-guide.html">ROS 2包维护者指南 [待校准&#64;785]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-a-Custom-Debian-Package.html">构建自定义Debian包 [待校准&#64;371]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Topics-Services-Actions.html">话题vs服务vsAction [待校准&#64;997]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Variants.html">使用变体 [待校准&#64;1031]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros2-param.html">使用 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code> 命令行工具 [待校准&#64;1046]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install.html">从源文件构建RQt [待校准&#64;883]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-MacOS.html">在macOS上从源文件构建RQt [待校准&#64;908]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-Windows10.html">在Windows 10上从源文件构建RQt [待校准&#64;916]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">概念 [待校准&#64;4938]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Domain-ID.html">ROS_DOMAIN_ID [待校准&#64;5194]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html">关于不同的ROS 2 DDS/RTPS供应商 [待校准&#64;5153]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Logging.html">关于日志和日志记录器配置 [待校准&#64;5325]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">关于服务质量设置 [待校准&#64;5369]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">关于ROS 2客户端库 [待校准&#64;5459]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">关于ROS 2接口 [待校准&#64;5526]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">关于ROS 2中的参数 [待校准&#64;5490]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Executors.html">执行器 [待校准&#64;5227]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Topic-Statistics.html">关于话题统计 [待校准&#64;5671]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Command-Line-Tools.html">使用命令行工具进行自检 [待校准&#64;5091]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-RQt.html">RQt的概述和使用 [待校准&#64;5625]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Composition.html">关于组件 [待校准&#64;5119]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Catment.html">[需手动修复的语法]ament和catkin的混合研究 [待校准&#64;5019]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Cross-Compilation.html">关于交叉编译 [待校准&#64;5141]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Tf2.html">关于tf2 [待校准&#64;5653]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Build-System.html">关于构建系统 [待校准&#64;4969]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Internal-Interfaces.html">关于内部ROS 2接口 [待校准&#64;5265]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Middleware-Implementations.html">关于ROS 2中间件实现 [待校准&#64;5347]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Client-Interfaces.html">ROS 2客户端接口 (客户端库) [待校准&#64;5079]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contributing.html">贡献 [待校准&#64;9128]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Developer-Guide.html">ROS 2开发人员指南 [待校准&#64;9430]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Code-Style-Language-Versions.html">代码样式和语言版本 [待校准&#64;9212]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Quality-Guide.html">质量指南: 确保代码质量 [待校准&#64;10012]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Migration-Guide.html">从ROS 1迁移指南 [待校准&#64;9780]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Contributing/Migration-Guide-Python.html">来自ROS 1的Python迁移指南 [待校准&#64;10003]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Build-Farms.html">ROS Build Farms [待校准&#64;9167]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Windows-Tips-and-Tricks.html">Windows提示和技巧 [待校准&#64;10105]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Contributing-To-ROS-2-Documentation.html">为ROS 2文档做出贡献 [待校准&#64;9366]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">联系人 [待校准&#64;6167]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROSCon-Content.html">ROSCon内容 [待校准&#64;105]</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Releases.html">发行版 [待校准&#64;1233]</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Alpha-Overview.html">ROS 2 α 发行版本 (2015年8月-2016年10月) [待校准&#64;1306]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Beta1-Overview.html">贝塔1 (代号'Asphalt'; 2016年12月) [待校准&#64;1386]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Beta2-Overview.html">贝塔2 (代号'r2b2'; 2017年7月) [待校准&#64;1420]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Beta3-Overview.html">贝塔3 (代号'r2b3'; 2017年9月) [待校准&#64;1451]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Ardent-Apalone.html">ROS 2Ardent阿帕隆 (代号'ardent'; 2017年12月) [待校准&#64;4089]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Bouncy-Bolson.html">ROS 2 Bouncy Bolson (代号'bouncy'; 2018年6月) [待校准&#64;4130]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Crystal-Clemmys.html">ROS 2Crystal Clemmys (代号'crystal'; 2018年12月) [待校准&#64;4158]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Dashing-Diademata.html">ROS 2DashingDiademata (代号'dashing'; 2019年5月31日) [待校准&#64;4237]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Eloquent-Elusor.html">ROS 2EloquentElusor (代号'eloquent'; 2019年11月22日) [待校准&#64;4427]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Foxy-Fitzroy.html">ROS 2FoxyFitzroy (代号'foxy'; 2020年6月5日) [待校准&#64;4503]</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ROS 2GalacticGeochelone (代号'galactic'; 2021年5月) [待校准&#64;4649]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Galactic-Geochelone-Complete-Changelog.html">ROS 2GalacticGeochelone完整变更日志 [待校准&#64;1470]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Humble-Hawksbill.html">ROS 2Humble Hawksbill (代号'humble'; 2022年5月) [待校准&#64;4845]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Rolling-Ridley.html">ROS 2Rolling Ridley (代号'rolling'; 2020年6月) [待校准&#64;4929]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Features.html">功能状态 [待校准&#64;9074]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Roadmap.html">路线图 [待校准&#64;45]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Feature-Ideas.html">特色创意 [待校准&#64;1123]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Governance.html">项目管理 [待校准&#64;10131]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Charter.html">ROS 2技术指导委员会章程 [待校准&#64;10280]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC申请人摄入流程 [待校准&#64;10368]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Governance/How-To-Start-A-Community-Working-Group.html">如何成立社区工作组 [待校准&#64;10253]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Marketing.html">营销材料 [待校准&#64;6193]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相关项目 [待校准&#64;6209]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">[需手动修复的语法]IntelROS 2项目 [待校准&#64;6210]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">[需手动修复的语法]NVIDIAROS 2项目 [待校准&#64;6228]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">术语表 [待校准&#64;1217]</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Releases.html">发行版 [待校准&#64;1233]</a> &raquo;</li>
      <li>ROS 2GalacticGeochelone (代号'galactic'; 2021年5月) [待校准&#64;4649]</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/foxy/source/Releases/Release-Galactic-Geochelone.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="ros-2-galactic-geochelone-codename-galactic-may-2021">
<span id="galactic-release"></span><span id="latest-release"></span><h1>ROS 2GalacticGeochelone (代号'galactic'; 2021年5月) <a class="reference external" href="http://localhost:3000/#/home?msgid=4649">[待校准&#64;4649]</a><a class="headerlink" href="#ros-2-galactic-geochelone-codename-galactic-may-2021" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#supported-platforms" id="id12">支持的平台 [待校准&#64;1387]</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id13">安装 [待校准&#64;4247]</a></p></li>
<li><p><a class="reference internal" href="#new-features-in-this-ros-2-release" id="id14">此ROS 2版本中的新功能 [待校准&#64;4096]</a></p>
<ul>
<li><p><a class="reference internal" href="#ability-to-specify-per-logger-log-levels" id="id15">能够指定每个日志记录器的日志级别 [待校准&#64;4658]</a></p></li>
<li><p><a class="reference internal" href="#ability-to-configure-logging-directory-through-environment-variables" id="id16">能够通过环境变量配置日志目录 [待校准&#64;4661]</a></p></li>
<li><p><a class="reference internal" href="#ability-to-invoke-rosidl-pipeline-outside-cmake" id="id17">能够在CMake之外调用 <code class="docutils literal notranslate"><span class="pre">rosidl</span></code> 管道 [待校准&#64;4669]</a></p></li>
<li><p><a class="reference internal" href="#externally-configure-qos-at-start-up" id="id18">在启动时外部配置QoS [待校准&#64;4677]</a></p></li>
<li><p><a class="reference internal" href="#python-point-cloud2-utilities-available" id="id19">Python point_cloud2实用程序可用 [待校准&#64;4683]</a></p></li>
<li><p><a class="reference internal" href="#rviz2-time-panel" id="id20">RViz2时间面板 [待校准&#64;4686]</a></p></li>
<li><p><a class="reference internal" href="#ros2-topic-echo-can-print-serialized-data" id="id21">ros2话题echo可以打印序列化数据 [待校准&#64;4688]</a></p></li>
<li><p><a class="reference internal" href="#get-the-yaml-representation-of-messages" id="id22">获取消息的YAML表示 [待校准&#64;4692]</a></p></li>
<li><p><a class="reference internal" href="#ability-to-load-parameter-files-at-runtime-through-the-ros2-command" id="id23">能够在运行时通过ros2命令加载参数文件 [待校准&#64;4694]</a></p></li>
<li><p><a class="reference internal" href="#tools-to-check-for-qos-incompatibilities" id="id24">检查QoS不兼容性的工具 [待校准&#64;4696]</a></p></li>
<li><p><a class="reference internal" href="#use-launch-substitutions-in-parameter-files" id="id25">在参数文件中使用launch替换 [待校准&#64;4702]</a></p></li>
<li><p><a class="reference internal" href="#support-for-unique-network-flows" id="id26">支持独特的网络流量 [待校准&#64;4708]</a></p></li>
<li><p><a class="reference internal" href="#rosbag2-new-features" id="id27">Rosbag2新功能 [待校准&#64;4712]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#changes-since-the-foxy-release" id="id28">自Foxy发布以来的变化 [待校准&#64;4736]</a></p>
<ul>
<li><p><a class="reference internal" href="#default-rmw-changed-to-eclipse-cyclone-dds" id="id29">默认RMW更改为EclipseCycloneDDS [待校准&#64;4737]</a></p></li>
<li><p><a class="reference internal" href="#connext-rmw-changed-to-rmw-connextdds" id="id30">Connext RMW更改为rmw_connextdds [待校准&#64;4739]</a></p></li>
<li><p><a class="reference internal" href="#large-improvements-in-testing-and-overall-quality" id="id31">测试和整体质量的大型改进 [待校准&#64;4741]</a></p></li>
<li><p><a class="reference internal" href="#rmw" id="id32">rmw [待校准&#64;4376]</a></p></li>
<li><p><a class="reference internal" href="#ament-cmake" id="id33">[需手动修复的语法]ament _ cmake [待校准&#64;4280]</a></p></li>
<li><p><a class="reference internal" href="#nav2" id="id34">nav2 [待校准&#64;4764]</a></p></li>
<li><p><a class="reference internal" href="#tf2-ros-python-split-out-of-tf2-ros" id="id35">tf2_ros Python从tf2_ros中分离出来 [待校准&#64;4766]</a></p></li>
<li><p><a class="reference internal" href="#tf2-ros-python-transformlistener-uses-global-namespace" id="id36">tf2_ros Python转换侦听器使用全局命名空间 [待校准&#64;4768]</a></p></li>
<li><p><a class="reference internal" href="#rclcpp" id="id37">rclcpp [待校准&#64;4284]</a></p></li>
<li><p><a class="reference internal" href="#rclpy" id="id38">rclpy [待校准&#64;4331]</a></p></li>
<li><p><a class="reference internal" href="#rclcpp-action" id="id39">rclcpp _ 动作 [待校准&#64;4575]</a></p></li>
<li><p><a class="reference internal" href="#rosidl-typesupport-introspection-c" id="id40">Rosidl_typesupport_intrspection_c [待校准&#64;4805]</a></p></li>
<li><p><a class="reference internal" href="#rcl-lifecycle-and-rclcpp-lifecycle" id="id41">Rcl _ 生命周期和rclcpp_生命周期 [待校准&#64;4809]</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id42">Rcl _ 生命周期和rclcpp_生命周期 [待校准&#64;4809]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#known-issues" id="id43">已知问题 [待校准&#64;4127]</a></p>
<ul>
<li><p><a class="reference internal" href="#ros2cli" id="id44">ros2cli [待校准&#64;4476]</a></p></li>
<li><p><a class="reference internal" href="#rqt" id="id45">rqt [待校准&#64;4821]</a></p></li>
<li><p><a class="reference internal" href="#rviz2" id="id46">rviz2 [待校准&#64;4826]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#timeline-before-the-release" id="id47">发布前的时间表 [待校准&#64;4413]</a></p></li>
</ul>
</div>
<p><em>Galactic Geochelone</em> is the seventh release of ROS 2.
What follows is highlights of the important changes and features in Galactic Geochelone since the last release.
For a list of all of the changes since Foxy, see the <a class="reference internal" href="Galactic-Geochelone-Complete-Changelog.html"><span class="doc">long form changelog</span></a>.</p>
<div class="section" id="supported-platforms">
<h2>支持的平台 <a class="reference external" href="http://localhost:3000/#/home?msgid=1387">[待校准&#64;1387]</a><a class="headerlink" href="#supported-platforms" title="永久链接至标题"></a></h2>
<p>主要在以下平台上支持GalacticGeochelone: <a class="reference external" href="http://localhost:3000/#/home?msgid=4651">[待校准&#64;4651]</a></p>
<p>一级平台: <a class="reference external" href="http://localhost:3000/#/home?msgid=4161">[待校准&#64;4161]</a></p>
<ul class="simple">
<li><p>Ubuntu 20.04 (焦点):  <code class="docutils literal notranslate"><span class="pre">amd64</span></code> 和 <code class="docutils literal notranslate"><span class="pre">arm64</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4506">[待校准&#64;4506]</a></p></li>
<li><p>Windows 10 (Visual Studio 2019):  <code class="docutils literal notranslate"><span class="pre">amd64</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4652">[待校准&#64;4652]</a></p></li>
</ul>
<p>2级平台: <a class="reference external" href="http://localhost:3000/#/home?msgid=4162">[待校准&#64;4162]</a></p>
<ul class="simple">
<li><p>RHEL 8:  <code class="docutils literal notranslate"><span class="pre">amd64</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4653">[待校准&#64;4653]</a></p></li>
</ul>
<p>3级平台: <a class="reference external" href="http://localhost:3000/#/home?msgid=4243">[待校准&#64;4243]</a></p>
<ul class="simple">
<li><p>Ubuntu 20.04 (焦点):  <code class="docutils literal notranslate"><span class="pre">arm32</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4507">[待校准&#64;4507]</a></p></li>
<li><p>Debian Bullseye (11):  <code class="docutils literal notranslate"><span class="pre">amd64</span></code> 、 <code class="docutils literal notranslate"><span class="pre">arm64</span></code> 和 <code class="docutils literal notranslate"><span class="pre">arm32</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4654">[待校准&#64;4654]</a></p></li>
<li><p>开放式重击 (2.6) /网络操作系统:  <code class="docutils literal notranslate"><span class="pre">arm32</span></code> 和 <code class="docutils literal notranslate"><span class="pre">arm64</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4655">[待校准&#64;4655]</a></p></li>
<li><p>苹果电脑10.14 (莫哈韦):  <code class="docutils literal notranslate"><span class="pre">amd64</span></code>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4656">[待校准&#64;4656]</a></p></li>
</ul>
<p>有关RMW实现、编译器/解释器版本和系统依赖版本的更多信息，请参见 <a class="reference external" href="https://www.ros.org/reps/rep-2000.html">REP 2000</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4431">[待校准&#64;4431]</a></p>
</div>
<div class="section" id="installation">
<h2>安装 <a class="reference external" href="http://localhost:3000/#/home?msgid=4247">[待校准&#64;4247]</a><a class="headerlink" href="#installation" title="永久链接至标题"></a></h2>
<p><a class="reference external" href="../../galactic/Installation.html">Install Galactic Geochelone</a></p>
</div>
<div class="section" id="new-features-in-this-ros-2-release">
<h2>此ROS 2版本中的新功能 <a class="reference external" href="http://localhost:3000/#/home?msgid=4096">[待校准&#64;4096]</a><a class="headerlink" href="#new-features-in-this-ros-2-release" title="永久链接至标题"></a></h2>
<div class="section" id="ability-to-specify-per-logger-log-levels">
<h3>能够指定每个日志记录器的日志级别 <a class="reference external" href="http://localhost:3000/#/home?msgid=4658">[待校准&#64;4658]</a><a class="headerlink" href="#ability-to-specify-per-logger-log-levels" title="永久链接至标题"></a></h3>
<p>现在可以在命令行上为不同的日志记录器指定不同的日志级别: <a class="reference external" href="http://localhost:3000/#/home?msgid=4659">[待校准&#64;4659]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run demo_nodes_cpp talker --ros-args --log-level WARN --log-level talker:<span class="o">=</span>DEBUG
</pre></div>
</div>
<p>上述命令设置全局日志级别WARN，但将talker节点消息的日志级别设置为DEBUG。 <code class="docutils literal notranslate"><span class="pre">--log-level</span></code> 命令行选项可以通过任意次数来为每个日志记录器设置不同的日志级别。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4660">[待校准&#64;4660]</a></p>
</div>
<div class="section" id="ability-to-configure-logging-directory-through-environment-variables">
<h3>能够通过环境变量配置日志目录 <a class="reference external" href="http://localhost:3000/#/home?msgid=4661">[待校准&#64;4661]</a><a class="headerlink" href="#ability-to-configure-logging-directory-through-environment-variables" title="永久链接至标题"></a></h3>
<p>现在可以通过两个环境变量配置日志目录:  <code class="docutils literal notranslate"><span class="pre">ROS_LOG_DIR</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ROS_HOME</span></code> 。逻辑如下: <a class="reference external" href="http://localhost:3000/#/home?msgid=4662">[待校准&#64;4662]</a></p>
<ul class="simple">
<li><p>如果 <code class="docutils literal notranslate"><span class="pre">ROS_LOG_DIR</span></code> 设置为非空，则使用 “$ ROS_LOG_DIR”。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4663">[待校准&#64;4663]</a></p></li>
<li><p>否则，使用 “$ ROS_HOME/log”，如果未设置或为空，则使用“ ~/.Ros'” 表示 <code class="docutils literal notranslate"><span class="pre">ROS_HOME</span></code> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4664">[待校准&#64;4664]</a></p></li>
</ul>
<p>因此，默认值保持不变: ''~/.ros/log''。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4665">[待校准&#64;4665]</a></p>
<p>相关PRs:  <a class="reference external" href="https://github.com/ros2/rcl_logging/pull/53">ros2/rcl_logging#53</a> and <a class="reference external" href="https://github.com/ros2/launch/pull/460">ros2/launch#460</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4666">[待校准&#64;4666]</a></p>
<p>例如: <a class="reference external" href="http://localhost:3000/#/home?msgid=4488">[待校准&#64;4488]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">ROS_LOG_DIR</span><span class="o">=</span>/tmp/foo ros2 run demo_nodes_cpp talker
</pre></div>
</div>
<p>将所有原木放置在 <code class="docutils literal notranslate"><span class="pre">/tmp/foo</span></code> 中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4667">[待校准&#64;4667]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">ROS_HOME</span><span class="o">=</span>/path/to/home ros2 run demo_nodes_cpp talker
</pre></div>
</div>
<p>将所有原木放置在 <code class="docutils literal notranslate"><span class="pre">/path/to/home/log</span></code> 中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4668">[待校准&#64;4668]</a></p>
</div>
<div class="section" id="ability-to-invoke-rosidl-pipeline-outside-cmake">
<h3>能够在CMake之外调用 <code class="docutils literal notranslate"><span class="pre">rosidl</span></code> 管道 <a class="reference external" href="http://localhost:3000/#/home?msgid=4669">[待校准&#64;4669]</a><a class="headerlink" href="#ability-to-invoke-rosidl-pipeline-outside-cmake" title="永久链接至标题"></a></h3>
<p>现在，在CMake之外调用 <code class="docutils literal notranslate"><span class="pre">rosidl</span></code> 接口生成管道非常简单。源代码生成器和接口定义转换器可通过统一的命令行界面访问。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4670">[待校准&#64;4670]</a></p>
<p>例如，给定 <code class="docutils literal notranslate"><span class="pre">Demo</span></code> 消息一些 <code class="docutils literal notranslate"><span class="pre">demo</span></code> 包: <a class="reference external" href="http://localhost:3000/#/home?msgid=4671">[待校准&#64;4671]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p demo/msg
<span class="nb">cd</span> demo
cat <span class="s">&lt;&lt; EOF &gt; msg/Demo.msg</span>
<span class="s">std_msgs/Header header</span>
<span class="s">geometry_msgs/Twist twist</span>
<span class="s">geometry_msgs/Accel accel</span>
<span class="s">EOF</span>
</pre></div>
</div>
<p>生成C、C++ 和Python支持源文件非常容易: <a class="reference external" href="http://localhost:3000/#/home?msgid=4672">[待校准&#64;4672]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosidl generate -o gen -t c -t cpp -t py -I<span class="k">$(</span>ros2 pkg prefix --share std_msgs<span class="k">)</span>/.. <span class="se">\</span>
  -I<span class="k">$(</span>ros2 pkg prefix --share geometry_msgs<span class="k">)</span>/.. demo msg/Demo.msg
</pre></div>
</div>
<p>生成的源文件将放在 <code class="docutils literal notranslate"><span class="pre">gen</span></code> 目录中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4673">[待校准&#64;4673]</a></p>
<p>还可以将消息定义转换为其他格式，以供第三方代码生成工具使用: <a class="reference external" href="http://localhost:3000/#/home?msgid=4674">[待校准&#64;4674]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosidl translate -o gen --to idl -I<span class="k">$(</span>ros2 pkg prefix --share std_msgs<span class="k">)</span>/.. <span class="se">\</span>
  -I<span class="k">$(</span>ros2 pkg prefix --share geometry_msgs<span class="k">)</span>/.. demo msg/Demo.msg
</pre></div>
</div>
<p>翻译后的消息定义将放在 <code class="docutils literal notranslate"><span class="pre">gen</span></code> 目录中。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4675">[待校准&#64;4675]</a></p>
<p>请注意，这些工具会生成源文件，但不会构建它 -- 这一责任仍在调用er上。这是在CMake以外的构建系统中启用 <code class="docutils literal notranslate"><span class="pre">rosidl</span></code> 接口生成的第一步。更多参考和后续步骤见 <a class="reference external" href="https://github.com/ros2/design/pull/310">design document</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4676">[待校准&#64;4676]</a></p>
</div>
<div class="section" id="externally-configure-qos-at-start-up">
<h3>在启动时外部配置QoS <a class="reference external" href="http://localhost:3000/#/home?msgid=4677">[待校准&#64;4677]</a><a class="headerlink" href="#externally-configure-qos-at-start-up" title="永久链接至标题"></a></h3>
<p>现在可以在启动时为节点外部配置QoS设置。QoS设置在运行时不可配置; 它们仅在启动时可配置。节点作者必须选择加入，以便在启动时启用更改QoS设置。如果在节点上启用了该功能，则可以在节点首次启动时使用ROS参数设置QoS设置。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4678">[待校准&#64;4678]</a></p>
<p><a class="reference external" href="https://github.com/ros2/demos/tree/a66f0e894841a5d751bce6ded4983acb780448cf/quality_of_service_demo#qos-overrides">Demos in C++ and Python can be found here.</a></p>
<p>见 <a class="reference external" href="http://design.ros2.org/articles/qos_configurability.html">design document for more details</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4680">[待校准&#64;4680]</a></p>
<p>注意，使用注册的调用处理参数更改的用户代码应避免拒绝未知参数的更新。在Galactic之前，这被认为是不好的做法，但是在启用外部可配置的QoS的情况下，它将导致硬故障。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4681">[待校准&#64;4681]</a></p>
<p>相关PRs:  <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1408">ros2/rclcpp#1408</a> and <a class="reference external" href="https://github.com/ros2/rclpy/pull/635">ros2/rclpy#635</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4682">[待校准&#64;4682]</a></p>
</div>
<div class="section" id="python-point-cloud2-utilities-available">
<h3>Python point_cloud2实用程序可用 <a class="reference external" href="http://localhost:3000/#/home?msgid=4683">[待校准&#64;4683]</a><a class="headerlink" href="#python-point-cloud2-utilities-available" title="永久链接至标题"></a></h3>
<p>在Python中与 <a class="reference external" href="https://github.com/ros2/common_interfaces/blob/galactic/sensor_msgs/msg/PointCloud2.msg">PointCloud2 messages</a> 交互的几个实用程序是 <a class="reference external" href="https://github.com/ros2/common_interfaces/pull/128">ported to ROS 2</a> 。这些实用程序允许从PointCloud2消息 ( <code class="docutils literal notranslate"><span class="pre">read_points</span></code> 和 <code class="docutils literal notranslate"><span class="pre">read_points_list</span></code> ) 中获取点列表，并从点列表 ( <code class="docutils literal notranslate"><span class="pre">create_cloud</span></code> 和 <code class="docutils literal notranslate"><span class="pre">create_cloud_xyz32</span></code> ) 中创建PointCloud2消息。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4684">[待校准&#64;4684]</a></p>
<p>创建PointCloud 2消息，然后回读的示例: <a class="reference external" href="http://localhost:3000/#/home?msgid=4685">[待校准&#64;4685]</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sensor_msgs_py.point_cloud2</span>
<span class="kn">from</span> <span class="nn">std_msgs.msg</span> <span class="kn">import</span> <span class="n">Header</span>

<span class="n">pointlist</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]]</span>

<span class="n">pointcloud</span> <span class="o">=</span> <span class="n">sensor_msgs_py</span><span class="o">.</span><span class="n">point_cloud2</span><span class="o">.</span><span class="n">create_cloud_xyz32</span><span class="p">(</span><span class="n">Header</span><span class="p">(</span><span class="n">frame_id</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">),</span> <span class="n">pointlist</span><span class="p">)</span>

<span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">sensor_msgs_py</span><span class="o">.</span><span class="n">point_cloud2</span><span class="o">.</span><span class="n">read_points</span><span class="p">(</span><span class="n">pointcloud</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="rviz2-time-panel">
<h3>RViz2时间面板 <a class="reference external" href="http://localhost:3000/#/home?msgid=4686">[待校准&#64;4686]</a><a class="headerlink" href="#rviz2-time-panel" title="永久链接至标题"></a></h3>
<p>显示当前壁和ROS时间以及经过的壁和ROS时间的Rviz2时间面板已经是 <a class="reference external" href="https://github.com/ros2/rviz/pull/599">ported to RViz2</a> 。要启用时间面板，请单击面板-&gt; 添加新面板，然后选择  &quot;Time&quot; 。将出现如下所示的面板: <a class="reference external" href="http://localhost:3000/#/home?msgid=4687">[待校准&#64;4687]</a></p>
<img alt="../_images/rviz2-time-panel-2021-05-17.png" src="../_images/rviz2-time-panel-2021-05-17.png" />
</div>
<div class="section" id="ros2-topic-echo-can-print-serialized-data">
<h3>ros2话题echo可以打印序列化数据 <a class="reference external" href="http://localhost:3000/#/home?msgid=4688">[待校准&#64;4688]</a><a class="headerlink" href="#ros2-topic-echo-can-print-serialized-data" title="永久链接至标题"></a></h3>
<p>在调试中间件问题时，查看RMW发送的原始序列化数据可能会很有用。 <a class="reference external" href="https://github.com/ros2/ros2cli/pull/470">--raw command-line flag</a> 被添加到 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">echo</span></code> 中以显示该数据。要在动作中看到这一点，请运行以下命令。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4689">[待校准&#64;4689]</a></p>
<p>1号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4690">[待校准&#64;4690]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 topic pub /chatter std_msgs/msg/String <span class="s2">&quot;data: &#39;hello&#39;&quot;</span>
</pre></div>
</div>
<p>2号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4691">[待校准&#64;4691]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 topic <span class="nb">echo</span> --raw /chatter
b<span class="s1">&#39;\x00\x01\x00\x00\x06\x00\x00\x00hello\x00\x00\x00&#39;</span>
---
</pre></div>
</div>
</div>
<div class="section" id="get-the-yaml-representation-of-messages">
<h3>获取消息的YAML表示 <a class="reference external" href="http://localhost:3000/#/home?msgid=4692">[待校准&#64;4692]</a><a class="headerlink" href="#get-the-yaml-representation-of-messages" title="永久链接至标题"></a></h3>
<p>现在可以使用 <a class="reference external" href="https://github.com/ros2/rosidl/issues/523">to_yaml</a> 函数获得C++ 中所有消息的YAML表示。打印出YAML表示形式的代码示例: <a class="reference external" href="http://localhost:3000/#/home?msgid=4693">[待校准&#64;4693]</a></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;cstdio&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;std_msgs/msg/string.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span> <span class="n">msg</span><span class="p">;</span>
  <span class="n">msg</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;hello world&quot;</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">rosidl_generator_traits</span><span class="o">::</span><span class="n">to_yaml</span><span class="p">(</span><span class="n">msg</span><span class="p">).</span><span class="n">c_str</span><span class="p">());</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="ability-to-load-parameter-files-at-runtime-through-the-ros2-command">
<h3>能够在运行时通过ros2命令加载参数文件 <a class="reference external" href="http://localhost:3000/#/home?msgid=4694">[待校准&#64;4694]</a><a class="headerlink" href="#ability-to-load-parameter-files-at-runtime-through-the-ros2-command" title="永久链接至标题"></a></h3>
<p>ROS 2长期以来一直能够在启动时指定参数值 (通过命令行参数或YAML文件)，并将当前参数转储到文件中 (通过 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">dump</span></code> )。Galactic使用 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">load</span></code> 动词从YAML文件中增加了 <a class="reference external" href="https://github.com/ros2/ros2cli/pull/590">load parameter values at runtime</a> 的能力。例如: <a class="reference external" href="http://localhost:3000/#/home?msgid=4695">[待校准&#64;4695]</a></p>
<p>1号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4690">[待校准&#64;4690]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 run demo_nodes_cpp parameter_blackboard
</pre></div>
</div>
<p>2号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4691">[待校准&#64;4691]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 param <span class="nb">set</span> /parameter_blackboard foo bar  <span class="c1"># sets &#39;foo&#39; parameter to value &#39;bar&#39;</span>
$ ros2 param dump /parameter_blackboard  <span class="c1"># dumps current value of parameters to ./parameter_blackboard.yaml</span>
$ ros2 param <span class="nb">set</span> /parameter_blackboard foo different  <span class="c1"># sets &#39;foo&#39; parameter to value &#39;different&#39;</span>
$ ros2 param load /parameter_blackboard ./parameter_blackboard.yaml  <span class="c1"># reloads previous state of parameters, &#39;foo&#39; is back to &#39;bar&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="tools-to-check-for-qos-incompatibilities">
<h3>检查QoS不兼容性的工具 <a class="reference external" href="http://localhost:3000/#/home?msgid=4696">[待校准&#64;4696]</a><a class="headerlink" href="#tools-to-check-for-qos-incompatibilities" title="永久链接至标题"></a></h3>
<p>基于新的QoS兼容性检查api， <code class="docutils literal notranslate"><span class="pre">ros2doctor</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rqt_graph</span></code> 现在可以检测和报告发布者和订阅之间的QoS不兼容性。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4697">[待校准&#64;4697]</a></p>
<p>给予出版商并订阅 <a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html"><span class="doc">incompatible QoS settings</span></a>:  <a class="reference external" href="http://localhost:3000/#/home?msgid=4698">[待校准&#64;4698]</a></p>
<p>1号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4690">[待校准&#64;4690]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 run demo_nodes_py talker_qos -n <span class="m">1000</span>  <span class="c1"># i.e. best_effort publisher</span>
</pre></div>
</div>
<p>2号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4691">[待校准&#64;4691]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 run demo_nodes_py listener_qos --reliable -n <span class="m">1000</span>  <span class="c1"># i.e. reliable subscription</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ros2doctor</span></code> reports: <a class="reference external" href="http://localhost:3000/#/home?msgid=4699">[待校准&#64;4699]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 doctor --report
<span class="c1"># ...</span>
   QOS COMPATIBILITY LIST
topic <span class="o">[</span>type<span class="o">]</span>            : /chatter <span class="o">[</span>std_msgs/msg/String<span class="o">]</span>
publisher node          : talker_qos
subscriber node         : listener_qos
compatibility status    : ERROR: Best effort publisher and reliable subscription<span class="p">;</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>而 <code class="docutils literal notranslate"><span class="pre">rqt_graph</span></code> 显示: <a class="reference external" href="http://localhost:3000/#/home?msgid=4700">[待校准&#64;4700]</a></p>
<img alt="../_images/rqt_graph-qos-incompatibility-2021-05-17.png" src="../_images/rqt_graph-qos-incompatibility-2021-05-17.png" />
<p>相关PRs:  <a class="reference external" href="https://github.com/ros2/ros2cli/pull/621">ros2/ros2cli#621</a>, <a class="reference external" href="https://github.com/ros-visualization/rqt_graph/pull/61">ros-visualization/rqt_graph#61</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4701">[待校准&#64;4701]</a></p>
</div>
<div class="section" id="use-launch-substitutions-in-parameter-files">
<h3>在参数文件中使用launch替换 <a class="reference external" href="http://localhost:3000/#/home?msgid=4702">[待校准&#64;4702]</a><a class="headerlink" href="#use-launch-substitutions-in-parameter-files" title="永久链接至标题"></a></h3>
<p>就像ROS 1 <code class="docutils literal notranslate"><span class="pre">roslaunch</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">rosparam</span></code> 标签一样， <code class="docutils literal notranslate"><span class="pre">launch_ros</span></code> 现在可以在参数文件中评估替换。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4703">[待校准&#64;4703]</a></p>
<p>例如，给出一些如下所示的 <code class="docutils literal notranslate"><span class="pre">parameter_file_with_substitutions.yaml</span></code> : <a class="reference external" href="http://localhost:3000/#/home?msgid=4704">[待校准&#64;4704]</a></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">/**</span><span class="p">:</span>
  <span class="nt">ros__parameters</span><span class="p">:</span>
    <span class="nt">launch_date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$(command date)</span>
</pre></div>
</div>
<p>将 <code class="docutils literal notranslate"><span class="pre">allow_substs</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> ，以获得根据 <code class="docutils literal notranslate"><span class="pre">Node</span></code> launch评估的替代品: <a class="reference external" href="http://localhost:3000/#/home?msgid=4705">[待校准&#64;4705]</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">launch</span>
<span class="kn">import</span> <span class="nn">launch_ros.parameter_descriptions</span>
<span class="kn">import</span> <span class="nn">launch_ros.actions</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">launch</span><span class="o">.</span><span class="n">LaunchDescription</span><span class="p">([</span>
        <span class="n">launch_ros</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;demo_nodes_cpp&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;parameter_blackboard&#39;</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="p">[</span>
                <span class="n">launch_ros</span><span class="o">.</span><span class="n">parameter_descriptions</span><span class="o">.</span><span class="n">ParameterFile</span><span class="p">(</span>
                    <span class="n">param_file</span><span class="o">=</span><span class="s1">&#39;parameter_file_with_substitutions.yaml&#39;</span><span class="p">,</span>
                    <span class="n">allow_substs</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="p">)</span>
    <span class="p">])</span>
</pre></div>
</div>
<p>XMLlaunch文件也支持这一点。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4706">[待校准&#64;4706]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;parameter_blackboard&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">from=</span><span class="s">&quot;parameter_file_with_substitutions.yaml&quot;</span> <span class="na">allow_substs=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>相关公关:  <a class="reference external" href="https://github.com/ros2/launch_ros/pull/168">ros2/launch_ros#168</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4707">[待校准&#64;4707]</a></p>
</div>
<div class="section" id="support-for-unique-network-flows">
<h3>支持独特的网络流量 <a class="reference external" href="http://localhost:3000/#/home?msgid=4708">[待校准&#64;4708]</a><a class="headerlink" href="#support-for-unique-network-flows" title="永久链接至标题"></a></h3>
<p>应用程序现在可能需要UDP/TCP和基于IP的RMW实现来提供唯一的 * 网络流 * (即唯一的 <a class="reference external" href="https://tools.ietf.org/html/rfc2474">Differentiated Services Code Points</a> and/or unique <a class="reference external" href="https://tools.ietf.org/html/rfc6437">IPv6 Flow Labels</a> 和/或IP数据包报头中的唯一端口) 用于发布者和订阅，在支持此类功能 (如5g网络) 的网络架构中为这些IP流启用QoS规范。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4709">[待校准&#64;4709]</a></p>
<p>要在动作中看到这一点，您可以运行这些c examples示例 (可在 <a class="reference external" href="https://github.com/ros2/examples">ros2/examples</a> 仓库中找到): <a class="reference external" href="http://localhost:3000/#/home?msgid=4710">[待校准&#64;4710]</a></p>
<p>1号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4690">[待校准&#64;4690]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run examples_rclcpp_minimal_publisher publisher_member_function_with_unique_network_flow_endpoints
</pre></div>
</div>
<p>2号航站楼: <a class="reference external" href="http://localhost:3000/#/home?msgid=4691">[待校准&#64;4691]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run examples_rclcpp_minimal_subscriber subscriber_member_function_with_unique_network_flow_endpoints
</pre></div>
</div>
<p>更多参考参见 <a class="reference external" href="https://github.com/ros2/design/pull/304">Unique Network Flows design document</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4711">[待校准&#64;4711]</a></p>
</div>
<div class="section" id="rosbag2-new-features">
<h3>Rosbag2新功能 <a class="reference external" href="http://localhost:3000/#/home?msgid=4712">[待校准&#64;4712]</a><a class="headerlink" href="#rosbag2-new-features" title="永久链接至标题"></a></h3>
<div class="section" id="split-recording-by-time">
<h4>按时间分割记录 <a class="reference external" href="http://localhost:3000/#/home?msgid=4713">[待校准&#64;4713]</a><a class="headerlink" href="#split-recording-by-time" title="永久链接至标题"></a></h4>
<p>在Foxy中，你只能根据袋子的大小来分割袋子，现在你也可以根据经过的时间来分割。以下命令将bagfile拆分为100秒块。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4714">[待校准&#64;4714]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 bag record --all --max-bag-duration <span class="m">100</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-bag-list">
<h4>ros2包列表 <a class="reference external" href="http://localhost:3000/#/home?msgid=4715">[待校准&#64;4715]</a><a class="headerlink" href="#ros2-bag-list" title="永久链接至标题"></a></h4>
<p>这个新命令列出了rosbag2使用的各种类型的已安装插件。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4716">[待校准&#64;4716]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 bag list storage
rosbag2_v2
sqlite3

$ ros2 bag list converter
rosbag_v2_converter
</pre></div>
</div>
</div>
<div class="section" id="compression-implementation-is-a-plugin">
<h4>压缩实现是一个插件 <a class="reference external" href="http://localhost:3000/#/home?msgid=4717">[待校准&#64;4717]</a><a class="headerlink" href="#compression-implementation-is-a-plugin" title="永久链接至标题"></a></h4>
<p>在Foxy中，rosbag2压缩是用Zstd库实现硬编码的。这已经被重新设计，以便压缩实现是一个插件，并且可以在不修改核心rosbag2代码库的情况下被替换掉。 <code class="docutils literal notranslate"><span class="pre">ros-galactic-rosbag2</span></code> 附带的默认插件仍然是Zstd插件 -- 但是现在更多的插件可以发布和使用，并且通过有选择地安装包Zstd可以从安装中排除。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4718">[待校准&#64;4718]</a></p>
</div>
<div class="section" id="compress-per-message">
<h4>按消息压缩 <a class="reference external" href="http://localhost:3000/#/home?msgid=4719">[待校准&#64;4719]</a><a class="headerlink" href="#compress-per-message" title="永久链接至标题"></a></h4>
<p>在Foxy中，您可以在拆分时自动调用y压缩每个rosbag文件 (每个文件压缩)，但是现在您也可以指定每个消息压缩。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4720">[待校准&#64;4720]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 bag record --all --compression-format zstd --compression-mode message
</pre></div>
</div>
</div>
<div class="section" id="rosbag2-python-api">
<h4>Rosbag2 Python API <a class="reference external" href="http://localhost:3000/#/home?msgid=4721">[待校准&#64;4721]</a><a class="headerlink" href="#rosbag2-python-api" title="永久链接至标题"></a></h4>
<p>[需手动修复的语法]Galactic年发布了一个新的包 <code class="docutils literal notranslate"><span class="pre">rosbag2_py</span></code> ，它提供了一个Python API。此包是围绕c API API的 <code class="docutils literal notranslate"><span class="pre">pybind11</span></code> 绑定。从最初的[需手动修复的语法]Galactic版本开始，它还没有公开通过 <code class="docutils literal notranslate"><span class="pre">rosbag2_cpp</span></code> API可用的所有功能，但它是 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">bag</span></code> CLI工具的唯一连接，所以大量的功能是可用的。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4722">[待校准&#64;4722]</a></p>
</div>
<div class="section" id="performance-testing-package-and-performance-improvements">
<h4>性能测试包和性能改进 <a class="reference external" href="http://localhost:3000/#/home?msgid=4723">[待校准&#64;4723]</a><a class="headerlink" href="#performance-testing-package-and-performance-improvements" title="永久链接至标题"></a></h4>
<p>自Foxy发布以来，对rosbag2进行了全面的性能分析项目。充分初次报告提供https://github.com/ros2/rosbag2/blob/主/rosbag2_performance/rosbag2_performance_benchmarking/docs/rosbag2_performance_improvements.pdf。 <code class="docutils literal notranslate"><span class="pre">rosbag2_performance_benchmarking</span></code> 包提供了运行性能分析的工具，尤其是在记录方面，这有助于我们维护和提高rosbag2的性能。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4724">[待校准&#64;4724]</a></p>
<p>追踪这份报告，完成了关键工作，确实将性能提高到实际机器人工作流程更有用的状态。突出关键度量高带宽压力测试 (200Mbps)，Foxy释放下降70% 的邮件，而Galactic版本大约100% 保留。有关更多详细信息，请参阅链接的报告。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4725">[待校准&#64;4725]</a></p>
</div>
<div class="section" id="regex-and-exclude-options-for-topic-selection">
<h4>用于话题选择的``--regex`` and <code class="docutils literal notranslate"><span class="pre">--exclude</span></code> options <a class="reference external" href="http://localhost:3000/#/home?msgid=4726">[待校准&#64;4726]</a><a class="headerlink" href="#regex-and-exclude-options-for-topic-selection" title="永久链接至标题"></a></h4>
<p>新的录制选项 <code class="docutils literal notranslate"><span class="pre">--regex</span></code> 和 <code class="docutils literal notranslate"><span class="pre">--exclude</span></code> 允许微调袋子中录制的话题，而不必明确列出所有话题。这些选项可以一起或单独使用，并与 <code class="docutils literal notranslate"><span class="pre">--all</span></code> 联合使用 <a class="reference external" href="http://localhost:3000/#/home?msgid=4727">[待校准&#64;4727]</a></p>
<p>以下命令将仅记录名称中带有  &quot;scan&quot; 的话题。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4728">[待校准&#64;4728]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 bag record --regex <span class="s2">&quot;*scan*&quot;</span>
</pre></div>
</div>
<p>以下命令将记录除 <code class="docutils literal notranslate"><span class="pre">/my_namespace/</span></code> 以外的所有话题 <a class="reference external" href="http://localhost:3000/#/home?msgid=4729">[待校准&#64;4729]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 bag record --all --exclude <span class="s2">&quot;/my_namespace/*&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-bag-reindex">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">bag</span> <span class="pre">reindex</span></code> <a class="reference external" href="http://localhost:3000/#/home?msgid=4730">[待校准&#64;4730]</a><a class="headerlink" href="#ros2-bag-reindex" title="永久链接至标题"></a></h4>
<p>ROS 2包由目录而不是单个文件表示。此目录包含一个 <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> 文件和一个或多个bag文件。当 <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> 文件丢失或丢失时，“ros2 bag reindex $ bag_dir” 将尝试通过读取目录中的所有bag文件来重建它。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4731">[待校准&#64;4731]</a></p>
</div>
<div class="section" id="playback-time-control">
<h4>播放时间控制 <a class="reference external" href="http://localhost:3000/#/home?msgid=4732">[待校准&#64;4732]</a><a class="headerlink" href="#playback-time-control" title="永久链接至标题"></a></h4>
<p>为rosbag2播放添加了新控件-暂停和恢复、变化率和播放-下一步。从Galactic版本开始，这些控件仅作为rosbag2播放器节点上的服务公开。在 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">bag</span> <span class="pre">play</span></code> 中，也在开发使其暴露于键盘控制的过程中，但是在那之前，带有按钮或键盘控制的用户应用程序可能会被简单地实现以调用这些服务。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4733">[待校准&#64;4733]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># In one shell</span>
$ ros2 bag play my_bag

<span class="c1"># In another shell</span>
$ ros2 service list -t
/rosbag2_player/get_rate <span class="o">[</span>rosbag2_interfaces/srv/GetRate<span class="o">]</span>
/rosbag2_player/is_paused <span class="o">[</span>rosbag2_interfaces/srv/IsPaused<span class="o">]</span>
/rosbag2_player/pause <span class="o">[</span>rosbag2_interfaces/srv/Pause<span class="o">]</span>
/rosbag2_player/play_next <span class="o">[</span>rosbag2_interfaces/srv/PlayNext<span class="o">]</span>
/rosbag2_player/resume <span class="o">[</span>rosbag2_interfaces/srv/Resume<span class="o">]</span>
/rosbag2_player/set_rate <span class="o">[</span>rosbag2_interfaces/srv/SetRate<span class="o">]</span>
/rosbag2_player/toggle_paused <span class="o">[</span>rosbag2_interfaces/srv/TogglePaused<span class="o">]</span>

<span class="c1"># Check if playback is paused</span>
$ ros2 service call /rosbag2_player/is_paused rosbag2_interfaces/IsPaused

<span class="c1"># Pause playback</span>
$ ros2 service call /rosbag2_player/pause rosbag2_interfaces/Pause

<span class="c1"># Resume playback</span>
$ ros2 service call /rosbag2_player/resume rosbag2_interfaces/Resume

<span class="c1"># Change the paused state of playback to its opposite. If playing, pauses. If paused, resumes.</span>
$ ros2 service call /rosbag2_player/toggle_paused rosbag2_interfaces/TogglePaused

<span class="c1"># Get the current playback rate</span>
$ ros2 service call /rosbag2_player/get_rate

<span class="c1"># Set the current playback rate (must be &gt; 0)</span>
$ ros2 service call /rosbag2_player/set_rate rosbag2_interfaces/SetRate <span class="s2">&quot;rate: 0.1&quot;</span>

<span class="c1"># Play a single next message (only works while paused)</span>
$ ros2 service call /rosbag2_player/play_next rosbag2_interfaces/PlayNext
</pre></div>
</div>
</div>
<div class="section" id="playback-publishes-clock">
<h4>回放发布/时钟 <a class="reference external" href="http://localhost:3000/#/home?msgid=4734">[待校准&#64;4734]</a><a class="headerlink" href="#playback-publishes-clock" title="永久链接至标题"></a></h4>
<p>Rosbag2也可以通过在回放期间发布到 <code class="docutils literal notranslate"><span class="pre">/clock</span></code> 话题来口述  &quot;simulation time&quot; 。以下命令将定期发布时钟消息。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4735">[待校准&#64;4735]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Publish at default rate - 40Hz</span>
ros2 bag play my_bag --clock

<span class="c1"># Publish at specific rate - 100Hz</span>
ros2 bag play my_bag --clock <span class="m">100</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="changes-since-the-foxy-release">
<h2>自Foxy发布以来的变化 <a class="reference external" href="http://localhost:3000/#/home?msgid=4736">[待校准&#64;4736]</a><a class="headerlink" href="#changes-since-the-foxy-release" title="永久链接至标题"></a></h2>
<div class="section" id="default-rmw-changed-to-eclipse-cyclone-dds">
<h3>默认RMW更改为EclipseCycloneDDS <a class="reference external" href="http://localhost:3000/#/home?msgid=4737">[待校准&#64;4737]</a><a class="headerlink" href="#default-rmw-changed-to-eclipse-cyclone-dds" title="永久链接至标题"></a></h3>
<p>在Galactic开发版本过程，ROS技术指导委员会 <a class="reference external" href="https://discourse.ros.org/t/ros-2-galactic-default-middleware-announced/18064">voted</a> 更改默认ROS中间件 (RMW)  <a class="reference external" href="https://github.com/eclipse-cyclonedds/cyclonedds">Eclipse Cyclone DDS</a> project of <a class="reference external" href="https://www.eclipse.org">Eclipse Foundation</a> 。在不进行任何配置更改的情况下，默认情况下，用户将获得EclipseCycloneDDS。Fast DDS和Connext仍然是一级受支持的RMW供应商，用户可以通过使用 <code class="docutils literal notranslate"><span class="pre">RMW_IMPLEMENTATION</span></code> 环境变量自行决定选择使用这些RMWs中的一个。有关更多信息，请参见 <a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html"><span class="doc">Working with multiple RMW implementations guide</span></a>  。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4738">[待校准&#64;4738]</a></p>
</div>
<div class="section" id="connext-rmw-changed-to-rmw-connextdds">
<h3>Connext RMW更改为rmw_connextdds <a class="reference external" href="http://localhost:3000/#/home?msgid=4739">[待校准&#64;4739]</a><a class="headerlink" href="#connext-rmw-changed-to-rmw-connextdds" title="永久链接至标题"></a></h3>
<p>一个新的RMW为Connext调用 <a class="reference external" href="https://github.com/ros2/rmw_connextdds">rmw_connextdds</a> 被合并为Galactic。这个RMW有更好的性能，并且解决了老RMW <code class="docutils literal notranslate"><span class="pre">rmw_connext_cpp</span></code> 的许多问题。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4740">[待校准&#64;4740]</a></p>
</div>
<div class="section" id="large-improvements-in-testing-and-overall-quality">
<h3>测试和整体质量的大型改进 <a class="reference external" href="http://localhost:3000/#/home?msgid=4741">[待校准&#64;4741]</a><a class="headerlink" href="#large-improvements-in-testing-and-overall-quality" title="永久链接至标题"></a></h3>
<p>[需手动修复的语法]Galactic包含许多修复竞争条件、插头内存泄漏和修复用户报告的问题的变化。除了这些变化，在[需手动修复的语法]Galactic开发版本期间，通过实施 <a class="reference external" href="https://www.ros.org/reps/rep-2004.html">REP 2004</a> 来提高系统的整体质量。 <code class="docutils literal notranslate"><span class="pre">rclcpp</span></code> 包及其所有依赖项 (包括大多数ROS 2非Python核心包) 通过以下方式升级到 <a class="reference external" href="https://www.ros.org/reps/rep-2004.html#quality-level-1">Quality Level 1</a> : <a class="reference external" href="http://localhost:3000/#/home?msgid=4742">[待校准&#64;4742]</a></p>
<ul class="simple">
<li><p>有版本策略 (QL1要求1) <a class="reference external" href="http://localhost:3000/#/home?msgid=4743">[待校准&#64;4743]</a></p></li>
<li><p>有文档化的变更控制流程 (QL1要求2) <a class="reference external" href="http://localhost:3000/#/home?msgid=4744">[待校准&#64;4744]</a></p></li>
<li><p>记录所有功能和公共api (QL1要求3) <a class="reference external" href="http://localhost:3000/#/home?msgid=4745">[待校准&#64;4745]</a></p></li>
<li><p>增加许多附加测试 (QL1要求4): <a class="reference external" href="http://localhost:3000/#/home?msgid=4746">[待校准&#64;4746]</a></p>
<ul>
<li><p>所有功能的系统测试 <a class="reference external" href="http://localhost:3000/#/home?msgid=4747">[待校准&#64;4747]</a></p></li>
<li><p>所有公共api的单元测试 <a class="reference external" href="http://localhost:3000/#/home?msgid=4748">[待校准&#64;4748]</a></p></li>
<li><p>夜间性能测试 <a class="reference external" href="http://localhost:3000/#/home?msgid=4749">[待校准&#64;4749]</a></p></li>
<li><p>代码覆盖率为95% <a class="reference external" href="http://localhost:3000/#/home?msgid=4750">[待校准&#64;4750]</a></p></li>
</ul>
</li>
<li><p>包的所有运行时依赖至少与包一样高 (QL1要求5) <a class="reference external" href="http://localhost:3000/#/home?msgid=4751">[待校准&#64;4751]</a></p></li>
<li><p>支持所有REP-2000平台 (QL1要求6) <a class="reference external" href="http://localhost:3000/#/home?msgid=4752">[待校准&#64;4752]</a></p></li>
<li><p>有漏洞披露策略 (QL1要求7) <a class="reference external" href="http://localhost:3000/#/home?msgid=4753">[待校准&#64;4753]</a></p></li>
</ul>
</div>
<div class="section" id="rmw">
<h3>rmw <a class="reference external" href="http://localhost:3000/#/home?msgid=4376">[待校准&#64;4376]</a><a class="headerlink" href="#rmw" title="永久链接至标题"></a></h3>
<div class="section" id="new-api-for-checking-qos-profile-compatibility">
<h4>用于检查QoS配置文件兼容性的新API <a class="reference external" href="http://localhost:3000/#/home?msgid=4754">[待校准&#64;4754]</a><a class="headerlink" href="#new-api-for-checking-qos-profile-compatibility" title="永久链接至标题"></a></h4>
<p>[需手动修复的语法]``rmw_qos_profile_check_compatible`` is用于检查两个QoS配置文件的兼容性的新功能。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4755">[待校准&#64;4755]</a></p>
<p>RMW供应商应在诸如 <code class="docutils literal notranslate"><span class="pre">rqt_graph</span></code> 这样的工具中实施该API以实现QoS调试和自省功能，以使其正常工作。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4756">[待校准&#64;4756]</a></p>
<p>相关公关:  <a class="reference external" href="https://github.com/ros2/rmw/pull/299">ros2/rmw#299</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4757">[待校准&#64;4757]</a></p>
</div>
</div>
<div class="section" id="ament-cmake">
<h3>[需手动修复的语法]ament _ cmake <a class="reference external" href="http://localhost:3000/#/home?msgid=4280">[待校准&#64;4280]</a><a class="headerlink" href="#ament-cmake" title="永久链接至标题"></a></h3>
<div class="section" id="ament-install-python-package-now-installs-a-python-egg">
<h4><code class="docutils literal notranslate"><span class="pre">ament_install_python_package()</span></code> now安装蟒蛇蛋 <a class="reference external" href="http://localhost:3000/#/home?msgid=4758">[待校准&#64;4758]</a><a class="headerlink" href="#ament-install-python-package-now-installs-a-python-egg" title="永久链接至标题"></a></h4>
<p>通过安装一个扁平的蟒蛇蛋，使用 <code class="docutils literal notranslate"><span class="pre">ament_install_python_package()</span></code> 安装的蟒蛇包可以通过使用 <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> 和 <code class="docutils literal notranslate"><span class="pre">importlib.metadata</span></code> 等模块被发现。此外，可以在 <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> 文件中提供额外的元数据 (包括入口点)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4759">[待校准&#64;4759]</a></p>
<p>相关公关:  <a class="reference external" href="https://github.com/ament/ament_cmake/pull/326">ament/ament_cmake#326</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4760">[待校准&#64;4760]</a></p>
</div>
<div class="section" id="ament-target-dependencies-handles-system-dependencies">
<h4><code class="docutils literal notranslate"><span class="pre">ament_target_dependencies()</span></code> handles系统依赖性 <a class="reference external" href="http://localhost:3000/#/home?msgid=4761">[待校准&#64;4761]</a><a class="headerlink" href="#ament-target-dependencies-handles-system-dependencies" title="永久链接至标题"></a></h4>
<p>现在可以将某些包依赖项标记为系统依赖项，以帮助处理外部代码中的警告。典型调用y，系统依赖关系也被排除在依赖关系计算之外 -- 小心使用它们。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4762">[待校准&#64;4762]</a></p>
<p>相关公关:  <a class="reference external" href="https://github.com/ament/ament_cmake/pull/297">ament/ament_cmake#297</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4763">[待校准&#64;4763]</a></p>
</div>
</div>
<div class="section" id="nav2">
<h3>nav2 <a class="reference external" href="http://localhost:3000/#/home?msgid=4764">[待校准&#64;4764]</a><a class="headerlink" href="#nav2" title="永久链接至标题"></a></h3>
<p>更改包括但不限于许多稳定性改进、新插件、界面更改、costmap过滤器。查看 <a class="reference external" href="https://navigation.ros.org/migration/Foxy.html">Migration Guides</a> 完整列表 <a class="reference external" href="http://localhost:3000/#/home?msgid=4765">[待校准&#64;4765]</a></p>
</div>
<div class="section" id="tf2-ros-python-split-out-of-tf2-ros">
<h3>tf2_ros Python从tf2_ros中分离出来 <a class="reference external" href="http://localhost:3000/#/home?msgid=4766">[待校准&#64;4766]</a><a class="headerlink" href="#tf2-ros-python-split-out-of-tf2-ros" title="永久链接至标题"></a></h3>
<p>以前存在于tf2_ros中的Python代码已移动到其自己的名为tf2_ros_py的包中。任何依赖于tf2_ros的现有Python代码都将继续工作，但是这些包的package.xml应在tf2_ros_py上修改为 <code class="docutils literal notranslate"><span class="pre">exec_depend</span></code> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4767">[待校准&#64;4767]</a></p>
</div>
<div class="section" id="tf2-ros-python-transformlistener-uses-global-namespace">
<h3>tf2_ros Python转换侦听器使用全局命名空间 <a class="reference external" href="http://localhost:3000/#/home?msgid=4768">[待校准&#64;4768]</a><a class="headerlink" href="#tf2-ros-python-transformlistener-uses-global-namespace" title="永久链接至标题"></a></h3>
<p>Python <code class="docutils literal notranslate"><span class="pre">TransformListener</span></code> 现在在全局命名空间中订阅 <code class="docutils literal notranslate"><span class="pre">/tf</span></code> 和 <code class="docutils literal notranslate"><span class="pre">/tf_static</span></code> 。以前，它存在于节点的命名空间中。这意味着节点的命名空间将不再影响 <code class="docutils literal notranslate"><span class="pre">/tf</span></code> 和 <code class="docutils literal notranslate"><span class="pre">/tf_static</span></code> 订阅。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4769">[待校准&#64;4769]</a></p>
<p>例如: <a class="reference external" href="http://localhost:3000/#/home?msgid=4488">[待校准&#64;4488]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run tf2_ros tf2_echo --ros-args -r __ns:<span class="o">=</span>/test -- odom base_link
</pre></div>
</div>
<p>将订阅 <code class="docutils literal notranslate"><span class="pre">/tf</span></code> 和 <code class="docutils literal notranslate"><span class="pre">/tf_static</span></code> ，正如 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">list</span></code> 所展示的。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4770">[待校准&#64;4770]</a></p>
<p>相关公关:  <a class="reference external" href="https://github.com/ros2/geometry2/pull/390">ros2/geometry2#390</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4771">[待校准&#64;4771]</a></p>
</div>
<div class="section" id="rclcpp">
<h3>rclcpp <a class="reference external" href="http://localhost:3000/#/home?msgid=4284">[待校准&#64;4284]</a><a class="headerlink" href="#rclcpp" title="永久链接至标题"></a></h3>
<div class="section" id="change-in-spin-until-future-complete-template-parameters">
<h4>更改spin_until_future_complete模板参数 <a class="reference external" href="http://localhost:3000/#/home?msgid=4772">[待校准&#64;4772]</a><a class="headerlink" href="#change-in-spin-until-future-complete-template-parameters" title="永久链接至标题"></a></h4>
<p>“Executor::spin_until_future _ complete `` was the future result type 乙甲, and the method only accepted a <code class="docutils literal notranslate"><span class="pre">std::shared_future&lt;ResultT&gt;</span></code> ” 的第一个模板参数。为了接受其他类型的期货 (例如: “std::future')，该参数已更改为未来类型本身。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4773">[待校准&#64;4773]</a></p>
<p>在 <code class="docutils literal notranslate"><span class="pre">spin_until_future_complete</span></code> 调用依赖于模板参数演绎的地方，不需要更改。如果不是，这是一个差异示例: <a class="reference external" href="http://localhost:3000/#/home?msgid=4774">[待校准&#64;4774]</a></p>
<div class="highlight-dpatch notranslate"><div class="highlight"><pre><span></span>std::shared_future&lt;MyResultT&gt; future;
...
<span class="gd">-executor.spin_until_future_complete&lt;MyResultT&gt;(future);</span>
<span class="gi">+executor.spin_until_future_complete&lt;std::shared_future&lt;MyResultT&gt;&gt;(future);</span>
</pre></div>
</div>
<p>更多细节见 <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1160">ros2/rclcpp#1160</a> 。有关用户代码中所需更改的示例，请参见 <a class="reference external" href="https://github.com/ros-visualization/interactive_markers/pull/72">ros-visualization/interactive_markers#72</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4775">[待校准&#64;4775]</a></p>
</div>
<div class="section" id="change-in-default-clock-subscription-qos-profile">
<h4>更改默认 <code class="docutils literal notranslate"><span class="pre">/clock</span></code> 订阅QoS配置文件 <a class="reference external" href="http://localhost:3000/#/home?msgid=4776">[待校准&#64;4776]</a><a class="headerlink" href="#change-in-default-clock-subscription-qos-profile" title="永久链接至标题"></a></h4>
<p>默认值从历史深度为10的可靠通讯更改为历史深度为1的最佳通讯。见 <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1312">ros2/rclcpp#1312</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4777">[待校准&#64;4777]</a></p>
</div>
<div class="section" id="waitable-api">
<h4>Waable API <a class="reference external" href="http://localhost:3000/#/home?msgid=4778">[待校准&#64;4778]</a><a class="headerlink" href="#waitable-api" title="永久链接至标题"></a></h4>
<p>Waable API被修改以避免 <code class="docutils literal notranslate"><span class="pre">MultiThreadedExecutor</span></code> 问题。这仅影响实现自定义waable的用户。详情见 <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1241">ros2/rclcpp#1241</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4779">[待校准&#64;4779]</a></p>
</div>
<div class="section" id="change-in-rclcpp-s-logging-macros">
<h4>[需手动修复的语法] <code class="docutils literal notranslate"><span class="pre">rclcpp</span></code> 日志宏中的变化 <a class="reference external" href="http://localhost:3000/#/home?msgid=4780">[待校准&#64;4780]</a><a class="headerlink" href="#change-in-rclcpp-s-logging-macros" title="永久链接至标题"></a></h4>
<p>以前，日志宏易受 <a class="reference external" href="https://owasp.org/www-community/attacks/Format_string_attack">format string attack</a> 的攻击，在string格式被评估，并可能执行代码、读取堆栈或在运行程序中导致分段错误。为了解决这个安全问题，日志宏现在只接受string文本作为它的格式string参数。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4781">[待校准&#64;4781]</a></p>
<p>如果您以前有以下代码: <a class="reference external" href="http://localhost:3000/#/home?msgid=4782">[待校准&#64;4782]</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">my_const_char_string</span> <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;Foo&quot;</span><span class="p">;</span>
<span class="n">RCLCPP_DEBUG</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(),</span> <span class="n">my_const_char_string</span><span class="p">);</span>
</pre></div>
</div>
<p>您现在应该将其替换为: <a class="reference external" href="http://localhost:3000/#/home?msgid=4783">[待校准&#64;4783]</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">my_const_char_string</span> <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;Foo&quot;</span><span class="p">;</span>
<span class="n">RCLCPP_DEBUG</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(),</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">my_const_char_string</span><span class="p">);</span>
</pre></div>
</div>
<p>或者: <a class="reference external" href="http://localhost:3000/#/home?msgid=4784">[待校准&#64;4784]</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RCLCPP_DEBUG</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(),</span> <span class="s2">&quot;Foo&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>此更改消除了日志宏中的一些便利，因为 “std::string” 不再被接受为format参数。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4785">[待校准&#64;4785]</a></p>
<p>如果您以前没有格式参数的代码，如: <a class="reference external" href="http://localhost:3000/#/home?msgid=4786">[待校准&#64;4786]</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="p">::</span><span class="n">string</span> <span class="n">my_std_string</span> <span class="o">=</span> <span class="s2">&quot;Foo&quot;</span><span class="p">;</span>
<span class="n">RCLCPP_DEBUG</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(),</span> <span class="n">my_std_string</span><span class="p">);</span>
</pre></div>
</div>
<p>您现在应该将其替换为: <a class="reference external" href="http://localhost:3000/#/home?msgid=4783">[待校准&#64;4783]</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="p">::</span><span class="n">string</span> <span class="n">my_std_string</span> <span class="o">=</span> <span class="s2">&quot;Foo&quot;</span><span class="p">;</span>
<span class="n">RCLCPP_DEBUG</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(),</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">my_std_string</span><span class="o">.</span><span class="n">c_str</span><span class="p">());</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>如果你使用 ''std: string ”作为格式string格式参数，转换，string到 <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*</span></code> 和使用格式string将产量格式安全警告。这是因为编译器无法编译到 “std::string” 来验证参数。为了避免安全警告，我们建议您手动构建string，并在没有格式参数的情况下传递它，如前面的示例所示。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4787">[待校准&#64;4787]</a></p>
</div>
<p>[需手动修复的语法]``std::stringstream`` types仍然被接受为流日志宏的参数。详情见 <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1442">ros2/rclcpp#1442</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4788">[待校准&#64;4788]</a></p>
</div>
<div class="section" id="parameter-types-are-now-static-by-default">
<h4>参数类型现在默认为静态 <a class="reference external" href="http://localhost:3000/#/home?msgid=4789">[待校准&#64;4789]</a><a class="headerlink" href="#parameter-types-are-now-static-by-default" title="永久链接至标题"></a></h4>
<p>以前，可以在设置参数时更改参数的类型。例如，如果一个参数被声明为整数，稍后调用设置该参数可能会将该类型更改为string。这种行为可能导致错误，并且很少是用户想要的。默认情况下，从Galactic开始，参数类型是静态的，尝试更改类型将失败。如果需要先前的动态行为，则有一种机制可以选择它 (请参阅下面的代码)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4790">[待校准&#64;4790]</a></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// declare integer parameter with default value, trying to set it to a different type will fail.</span>
<span class="n">node</span><span class="o">-&gt;</span><span class="n">declare_parameter</span><span class="p">(</span><span class="s">&quot;my_int&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="c1">// declare string parameter with no default and mandatory user provided override.</span>
<span class="c1">// i.e. the user must pass a parameter file setting it or a command line rule -p &lt;param_name&gt;:=&lt;value&gt;</span>
<span class="n">node</span><span class="o">-&gt;</span><span class="n">declare_parameter</span><span class="p">(</span><span class="s">&quot;string_mandatory_override&quot;</span><span class="p">,</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">PARAMETER_STRING</span><span class="p">);</span>
<span class="c1">// Conditionally declare a floating point parameter with a mandatory override.</span>
<span class="c1">// Useful when the parameter is only needed depending on other conditions and no default is reasonable.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="s">&quot;modeA&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">node</span><span class="o">-&gt;</span><span class="n">declare_parameter</span><span class="p">(</span><span class="s">&quot;conditionally_declare_double_parameter&quot;</span><span class="p">,</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">PARAMETER_DOUBLE</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// You can also get the old dynamic typing behavior if you want:</span>
<span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">ParameterDescriptor</span> <span class="n">descriptor</span><span class="p">;</span>
<span class="n">descriptor</span><span class="p">.</span><span class="n">dynamic_typing</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="n">node</span><span class="o">-&gt;</span><span class="n">declare_parameter</span><span class="p">(</span><span class="s">&quot;dynamically_typed_param&quot;</span><span class="p">,</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">ParameterValue</span><span class="p">{},</span> <span class="n">descriptor</span><span class="p">);</span>
</pre></div>
</div>
<p>详见https://github.com/ros2/rclcpp/blob/主/rclcpp/doc/notes_on _ stati调用y_typed_parameters.md。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4791">[待校准&#64;4791]</a></p>
</div>
<div class="section" id="id1">
<h4>用于检查QoS配置文件兼容性的新API <a class="reference external" href="http://localhost:3000/#/home?msgid=4754">[待校准&#64;4754]</a><a class="headerlink" href="#id1" title="永久链接至标题"></a></h4>
<p>[需手动修复的语法]``qos_check_compatible`` is用于检查两个QoS配置文件的兼容性的新功能。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4792">[待校准&#64;4792]</a></p>
<p>相关公关:  <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1554">ros2/rclcpp#1554</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4793">[待校准&#64;4793]</a></p>
</div>
</div>
<div class="section" id="rclpy">
<h3>rclpy <a class="reference external" href="http://localhost:3000/#/home?msgid=4331">[待校准&#64;4331]</a><a class="headerlink" href="#rclpy" title="永久链接至标题"></a></h3>
<div class="section" id="removal-of-deprecated-node-set-parameters-callback">
<h4>删除已弃用的节点。set_parameters _ 调用back <a class="reference external" href="http://localhost:3000/#/home?msgid=4794">[待校准&#64;4794]</a><a class="headerlink" href="#removal-of-deprecated-node-set-parameters-callback" title="永久链接至标题"></a></h4>
<p>方法 <code class="docutils literal notranslate"><span class="pre">Node.set_parameters_callback</span></code> 是 <a class="reference external" href="https://github.com/ros2/rclpy/pull/504">deprecated in ROS Foxy</a> and has been <a class="reference external" href="https://github.com/ros2/rclpy/pull/633">removed in ROS Galactic</a> 。用 <code class="docutils literal notranslate"><span class="pre">Node.add_on_set_parameters_callback()</span></code> 代替。下面是一些使用它的示例代码。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4795">[待校准&#64;4795]</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rclpy</span>
<span class="kn">import</span> <span class="nn">rclpy.node</span>
<span class="kn">from</span> <span class="nn">rcl_interfaces.msg</span> <span class="kn">import</span> <span class="n">ParameterType</span>
<span class="kn">from</span> <span class="nn">rcl_interfaces.msg</span> <span class="kn">import</span> <span class="n">SetParametersResult</span>


<span class="n">rclpy</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">rclpy</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;callback_example&#39;</span><span class="p">)</span>
<span class="n">node</span><span class="o">.</span><span class="n">declare_parameter</span><span class="p">(</span><span class="s1">&#39;my_param&#39;</span><span class="p">,</span> <span class="s1">&#39;initial value&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">on_parameter_event</span><span class="p">(</span><span class="n">parameter_list</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">parameter_list</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Got {parameter.name}={parameter.value}&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">SetParametersResult</span><span class="p">(</span><span class="n">successful</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="n">node</span><span class="o">.</span><span class="n">add_on_set_parameters_callback</span><span class="p">(</span><span class="n">on_parameter_event</span><span class="p">)</span>
<span class="n">rclpy</span><span class="o">.</span><span class="n">spin</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>
</div>
<p>运行此命令以查看在动作中调用的参数。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4796">[待校准&#64;4796]</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ros2</span> <span class="n">param</span> <span class="nb">set</span> <span class="o">/</span><span class="n">callback_example</span> <span class="n">my_param</span> <span class="s2">&quot;Hello World&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>参数类型现在默认为静态 <a class="reference external" href="http://localhost:3000/#/home?msgid=4789">[待校准&#64;4789]</a><a class="headerlink" href="#id2" title="永久链接至标题"></a></h4>
<p>在Foxy及更早版本中，调用设置参数可能会改变其类型。从Galactic乙开始，参数类型是静态的，默认情况下不能更改。如果需要先前的行为，则在参数描述符中将 <code class="docutils literal notranslate"><span class="pre">dynamic_typing</span></code> 设置为true。这里有一个例子。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4797">[待校准&#64;4797]</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rclpy</span>
<span class="kn">import</span> <span class="nn">rclpy.node</span>
<span class="kn">from</span> <span class="nn">rcl_interfaces.msg</span> <span class="kn">import</span> <span class="n">ParameterDescriptor</span>

<span class="n">rclpy</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">rclpy</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;static_param_example&#39;</span><span class="p">)</span>
<span class="n">node</span><span class="o">.</span><span class="n">declare_parameter</span><span class="p">(</span><span class="s1">&#39;static_param&#39;</span><span class="p">,</span> <span class="s1">&#39;initial value&#39;</span><span class="p">)</span>
<span class="n">node</span><span class="o">.</span><span class="n">declare_parameter</span><span class="p">(</span><span class="s1">&#39;dynamic_param&#39;</span><span class="p">,</span> <span class="s1">&#39;initial value&#39;</span><span class="p">,</span> <span class="n">descriptor</span><span class="o">=</span><span class="n">ParameterDescriptor</span><span class="p">(</span><span class="n">dynamic_typing</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="n">rclpy</span><span class="o">.</span><span class="n">spin</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>
</div>
<p>运行这些命令以查看stati调用y和dynami调用y类型参数的不同之处。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4798">[待校准&#64;4798]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ros2 param <span class="nb">set</span> /static_param_example dynamic_param <span class="m">42</span>
<span class="go">Set parameter successful</span>
<span class="gp">$</span> ros2 param <span class="nb">set</span> /static_param_example static_param <span class="m">42</span>
<span class="go">Setting parameter failed: Wrong parameter type, expected &#39;Type.STRING&#39; got &#39;Type.INTEGER&#39;</span>
</pre></div>
</div>
<p>详见https://github.com/ros2/rclcpp/blob/主/rclcpp/doc/notes_on _ stati调用y_typed_parameters.md。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4791">[待校准&#64;4791]</a></p>
</div>
<div class="section" id="id3">
<h4>用于检查QoS配置文件兼容性的新API <a class="reference external" href="http://localhost:3000/#/home?msgid=4754">[待校准&#64;4754]</a><a class="headerlink" href="#id3" title="永久链接至标题"></a></h4>
<p>[需手动修复的语法]``rclpy.qos.qos_check_compatible`` is <a class="reference external" href="https://github.com/ros2/rclpy/pull/708">a new function</a> 用于检查两个QoS配置文件的兼容性。如果配置文件兼容，则使用它们的发布者和订阅者将能够相互交流。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4799">[待校准&#64;4799]</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rclpy.qos</span>

<span class="n">publisher_profile</span> <span class="o">=</span> <span class="n">rclpy</span><span class="o">.</span><span class="n">qos</span><span class="o">.</span><span class="n">qos_profile_sensor_data</span>
<span class="n">subscription_profile</span> <span class="o">=</span> <span class="n">rclpy</span><span class="o">.</span><span class="n">qos</span><span class="o">.</span><span class="n">qos_profile_parameter_events</span>

<span class="k">print</span><span class="p">(</span><span class="n">rclpy</span><span class="o">.</span><span class="n">qos</span><span class="o">.</span><span class="n">qos_check_compatible</span><span class="p">(</span><span class="n">publisher_profile</span><span class="p">,</span> <span class="n">subscription_profile</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> python3 qos_check_compatible_example.py
<span class="go">(QoSCompatibility.ERROR, &#39;ERROR: Best effort publisher and reliable subscription;&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rclcpp-action">
<h3>rclcpp _ 动作 <a class="reference external" href="http://localhost:3000/#/home?msgid=4575">[待校准&#64;4575]</a><a class="headerlink" href="#rclcpp-action" title="永久链接至标题"></a></h3>
<div class="section" id="action-client-goal-response-callback-signature-changed">
<h4>[需手动修复的语法]Action客户目标响应调用回签名已更改 <a class="reference external" href="http://localhost:3000/#/home?msgid=4800">[待校准&#64;4800]</a><a class="headerlink" href="#action-client-goal-response-callback-signature-changed" title="永久链接至标题"></a></h4>
<p>现在，目标响应调用应该采用指向目标句柄的共享指针，而不是未来。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4801">[待校准&#64;4801]</a></p>
<p>对于 <a class="reference external" href="https://github.com/ros2/examples/pull/291">example</a> ，旧签名: <a class="reference external" href="http://localhost:3000/#/home?msgid=4802">[待校准&#64;4802]</a></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">goal_response_callback</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_future</span><span class="o">&lt;</span><span class="n">GoalHandleFibonacci</span><span class="o">::</span><span class="n">SharedPtr</span><span class="o">&gt;</span> <span class="n">future</span><span class="p">)</span>
</pre></div>
</div>
<p>新签名: <a class="reference external" href="http://localhost:3000/#/home?msgid=4803">[待校准&#64;4803]</a></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">goal_response_callback</span><span class="p">(</span><span class="n">GoalHandleFibonacci</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">goal_handle</span><span class="p">)</span>
</pre></div>
</div>
<p>相关公关:  <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1311">ros2/rclcpp#1311</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4804">[待校准&#64;4804]</a></p>
</div>
</div>
<div class="section" id="rosidl-typesupport-introspection-c">
<h3>Rosidl_typesupport_intrspection_c <a class="reference external" href="http://localhost:3000/#/home?msgid=4805">[待校准&#64;4805]</a><a class="headerlink" href="#rosidl-typesupport-introspection-c" title="永久链接至标题"></a></h3>
<div class="section" id="api-break-in-function-that-gets-an-element-from-an-array">
<h4>从数组获取元素的API中断函数 <a class="reference external" href="http://localhost:3000/#/home?msgid=4806">[待校准&#64;4806]</a><a class="headerlink" href="#api-break-in-function-that-gets-an-element-from-an-array" title="永久链接至标题"></a></h4>
<p>该函数的签名已更改，因为它的semanti调用y不同于用于从数组或序列获取元素的所有其他函数。这仅影响使用自省类型支持实现的rmw的作者。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4807">[待校准&#64;4807]</a></p>
<p>更多细节见 <a class="reference external" href="https://github.com/ros2/rosidl/pull/531">ros2/rosidl#531</a> 。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4808">[待校准&#64;4808]</a></p>
</div>
</div>
<div class="section" id="rcl-lifecycle-and-rclcpp-lifecycle">
<h3>Rcl _ 生命周期和rclcpp_生命周期 <a class="reference external" href="http://localhost:3000/#/home?msgid=4809">[待校准&#64;4809]</a><a class="headerlink" href="#rcl-lifecycle-and-rclcpp-lifecycle" title="永久链接至标题"></a></h3>
<div class="section" id="rcl-s-lifecycle-state-machine-gets-new-init-api">
<h4>RCL的生命周期状态机获取新的初始化API <a class="reference external" href="http://localhost:3000/#/home?msgid=4810">[待校准&#64;4810]</a><a class="headerlink" href="#rcl-s-lifecycle-state-machine-gets-new-init-api" title="永久链接至标题"></a></h4>
<p>对rcl_lifetime中的生命周期状态机进行了修改，以期望新引入的选项结构，并结合了状态机的常规配置。选项结构允许指示状态机是否应使用默认值初始化，其附加服务是否处于活动状态以及使用哪个分配器。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4811">[待校准&#64;4811]</a></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">rcl_ret_t</span>
<span class="nf">rcl_lifecycle_state_machine_init</span><span class="p">(</span>
  <span class="n">rcl_lifecycle_state_machine_t</span> <span class="o">*</span> <span class="n">state_machine</span><span class="p">,</span>
  <span class="n">rcl_node_t</span> <span class="o">*</span> <span class="n">node_handle</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rosidl_message_type_support_t</span> <span class="o">*</span> <span class="n">ts_pub_notify</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rosidl_service_type_support_t</span> <span class="o">*</span> <span class="n">ts_srv_change_state</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rosidl_service_type_support_t</span> <span class="o">*</span> <span class="n">ts_srv_get_state</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rosidl_service_type_support_t</span> <span class="o">*</span> <span class="n">ts_srv_get_available_states</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rosidl_service_type_support_t</span> <span class="o">*</span> <span class="n">ts_srv_get_available_transitions</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rosidl_service_type_support_t</span> <span class="o">*</span> <span class="n">ts_srv_get_transition_graph</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rcl_lifecycle_state_machine_options_t</span> <span class="o">*</span> <span class="n">state_machine_options</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="rcl-s-lifecycle-state-machine-stores-allocator-instance">
<h4>RCL的生命周期状态机存储分配器实例 <a class="reference external" href="http://localhost:3000/#/home?msgid=4812">[待校准&#64;4812]</a><a class="headerlink" href="#rcl-s-lifecycle-state-machine-stores-allocator-instance" title="永久链接至标题"></a></h4>
<p>选项结构 (上文讨论) 需要分配器的实例用于初始化状态机。此选项结构和所体现的分配器存储在生命周期状态机中。作为一个直接的结果， <code class="docutils literal notranslate"><span class="pre">rcl_lifecycle_fini</span> <span class="pre">function</span></code> 不再在其fini函数中期望分配器，而是使用options结构中的分配器集来解除其内部数据结构的分配。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4813">[待校准&#64;4813]</a></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">rcl_ret_t</span>
<span class="nf">rcl_lifecycle_state_machine_fini</span><span class="p">(</span>
  <span class="n">rcl_lifecycle_state_machine_t</span> <span class="o">*</span> <span class="n">state_machine</span><span class="p">,</span>
  <span class="n">rcl_node_t</span> <span class="o">*</span> <span class="n">node_handle</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="rclcpp-s-lifecycle-node-exposes-option-to-not-instantiate-services">
<h4>RCLCPP的生命周期节点公开选项以不实例化服务 <a class="reference external" href="http://localhost:3000/#/home?msgid=4814">[待校准&#64;4814]</a><a class="headerlink" href="#rclcpp-s-lifecycle-node-exposes-option-to-not-instantiate-services" title="永久链接至标题"></a></h4>
<p>为了使用rclcpp的生命周期节点而不暴露其内部服务，如 <code class="docutils literal notranslate"><span class="pre">change_state</span></code> 、 <code class="docutils literal notranslate"><span class="pre">get_state</span></code> 等。al.，生命周期节点的构造函数具有一个新引入的参数，指示服务是否可用。默认情况下，此boolean标志设置为true，如果不需要，不需要对现有API进行任何更改。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4815">[待校准&#64;4815]</a></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">explicit</span> <span class="nf">LifecycleNode</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">node_name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">NodeOptions</span> <span class="o">&amp;</span> <span class="n">options</span> <span class="o">=</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">NodeOptions</span><span class="p">(),</span>
  <span class="kt">bool</span> <span class="n">enable_communication_interface</span> <span class="o">=</span> <span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
<p>相关PRs:  <a class="reference external" href="https://github.com/ros2/rcl/pull/882">ros2/rcl#882</a> and <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1507">ros2/rclcpp#1507</a>  <a class="reference external" href="http://localhost:3000/#/home?msgid=4816">[待校准&#64;4816]</a></p>
</div>
</div>
<div class="section" id="id4">
<h3>Rcl _ 生命周期和rclcpp_生命周期 <a class="reference external" href="http://localhost:3000/#/home?msgid=4809">[待校准&#64;4809]</a><a class="headerlink" href="#id4" title="永久链接至标题"></a></h3>
<div class="section" id="recording-split-by-time">
<h4>记录-按时间分割 <a class="reference external" href="http://localhost:3000/#/home?msgid=4817">[待校准&#64;4817]</a><a class="headerlink" href="#recording-split-by-time" title="永久链接至标题"></a></h4>
</div>
</div>
</div>
<div class="section" id="known-issues">
<h2>已知问题 <a class="reference external" href="http://localhost:3000/#/home?msgid=4127">[待校准&#64;4127]</a><a class="headerlink" href="#known-issues" title="永久链接至标题"></a></h2>
<div class="section" id="ros2cli">
<h3>ros2cli <a class="reference external" href="http://localhost:3000/#/home?msgid=4476">[待校准&#64;4476]</a><a class="headerlink" href="#ros2cli" title="永久链接至标题"></a></h3>
<div class="section" id="daemon-slows-down-cli-on-windows">
<h4>守护程序降低了Windows上的CLI <a class="reference external" href="http://localhost:3000/#/home?msgid=4818">[待校准&#64;4818]</a><a class="headerlink" href="#daemon-slows-down-cli-on-windows" title="永久链接至标题"></a></h4>
<p>作为一种变通方法，可以在没有守护程序的情况下使用CLI命令，例如: <a class="reference external" href="http://localhost:3000/#/home?msgid=4819">[待校准&#64;4819]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 topic list --no-daemon
</pre></div>
</div>
<p>问题由 <a class="reference external" href="https://github.com/ros2/ros2cli/issues/637">ros2/ros2cli#637</a> 追踪。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4820">[待校准&#64;4820]</a></p>
</div>
</div>
<div class="section" id="rqt">
<h3>rqt <a class="reference external" href="http://localhost:3000/#/home?msgid=4821">[待校准&#64;4821]</a><a class="headerlink" href="#rqt" title="永久链接至标题"></a></h3>
<div class="section" id="some-rqt-bag-icons-are-missing">
<h4>一些rqt_bag图标丢失 <a class="reference external" href="http://localhost:3000/#/home?msgid=4822">[待校准&#64;4822]</a><a class="headerlink" href="#some-rqt-bag-icons-are-missing" title="永久链接至标题"></a></h4>
<p>[需手动修复的语法]  &quot;Zoom In&quot; 、  &quot;Zoom Out&quot; 、  &quot;Zoom Home&quot; 和  &quot;Toggle Thumbnails&quot; 的图标在 <code class="docutils literal notranslate"><span class="pre">rqt_bag</span></code> 中丢失。这个问题在 <a class="reference external" href="https://github.com/ros-visualization/rqt_bag/issues/102">ros-visualization/rqt_bag#102</a> 中被追踪 <a class="reference external" href="http://localhost:3000/#/home?msgid=4823">[待校准&#64;4823]</a></p>
</div>
<div class="section" id="most-rqt-utilities-don-t-work-standalone-on-windows">
<h4>大多数rqt实用程序不能在Windows上独立运行 <a class="reference external" href="http://localhost:3000/#/home?msgid=4824">[待校准&#64;4824]</a><a class="headerlink" href="#most-rqt-utilities-don-t-work-standalone-on-windows" title="永久链接至标题"></a></h4>
<p>[需手动修复的语法]Launch的rqt工具  &quot;standalone&quot; Windows (像 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">rqt_graph</span> <span class="pre">rqt_graph</span></code> ) 一般不工作。解决方法是launchrqt容器进程 ( <code class="docutils literal notranslate"><span class="pre">rqt</span></code> )，然后插入要使用的插件。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4825">[待校准&#64;4825]</a></p>
</div>
</div>
<div class="section" id="rviz2">
<h3>rviz2 <a class="reference external" href="http://localhost:3000/#/home?msgid=4826">[待校准&#64;4826]</a><a class="headerlink" href="#rviz2" title="永久链接至标题"></a></h3>
<div class="section" id="rviz2-panel-close-buttons-are-blank">
<h4>[需手动修复的语法]RViz2面板关闭按钮为空白 <a class="reference external" href="http://localhost:3000/#/home?msgid=4827">[待校准&#64;4827]</a><a class="headerlink" href="#rviz2-panel-close-buttons-are-blank" title="永久链接至标题"></a></h4>
<p>每个RViz2面板的右上角应包含一个  &quot;X&quot; ，以便关闭面板。那些按钮在那里，但是里面的  &quot;X&quot; 在所有的平台上都不见了。这个问题正在 <a class="reference external" href="https://github.com/ros2/rviz/issues/692">ros2/rviz2#692</a> 追踪。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4828">[待校准&#64;4828]</a></p>
</div>
</div>
</div>
<div class="section" id="timeline-before-the-release">
<h2>发布前的时间表 <a class="reference external" href="http://localhost:3000/#/home?msgid=4413">[待校准&#64;4413]</a><a class="headerlink" href="#timeline-before-the-release" title="永久链接至标题"></a></h2>
<blockquote>
<div><dl class="simple">
<dt>2021年3月22日星期一 -- 阿尔法 <a class="reference external" href="http://localhost:3000/#/home?msgid=4829">[待校准&#64;4829]</a></dt><dd><p>ROS核心的初步测试和稳定 <a class="footnote-reference brackets" href="#id10" id="id5">1</a> 包。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4830">[待校准&#64;4830]</a></p>
</dd>
<dt>2021年4月5日星期一-冻结 <a class="reference external" href="http://localhost:3000/#/home?msgid=4831">[待校准&#64;4831]</a></dt><dd><p>ROS核心 <a class="footnote-reference brackets" href="#id10" id="id6">1</a> 包在Rolling Ridley中的应用编程接口和特性冻结。请注意，这包括 <code class="docutils literal notranslate"><span class="pre">rmw</span></code> ，它是 <code class="docutils literal notranslate"><span class="pre">ros_core</span></code> 的递归依赖性。在此之后，仅应进行错误修复发行版本。新包可以独立发布。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4832">[待校准&#64;4832]</a></p>
</dd>
<dt>2021年4月19日星期一-分行 <a class="reference external" href="http://localhost:3000/#/home?msgid=4833">[待校准&#64;4833]</a></dt><dd><p>来自Rolling Ridley的分支。为ROS核心 <a class="footnote-reference brackets" href="#id10" id="id7">1</a> 包的滚动PRs重新打开 <code class="docutils literal notranslate"><span class="pre">rosdistro</span></code> 。Galactic开发版本从 <code class="docutils literal notranslate"><span class="pre">ros-rolling-*</span></code> 包转变为 <code class="docutils literal notranslate"><span class="pre">ros-galactic-*</span></code> 包。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4834">[待校准&#64;4834]</a></p>
</dd>
<dt>2021年4月26日星期一-测试版 <a class="reference external" href="http://localhost:3000/#/home?msgid=4835">[待校准&#64;4835]</a></dt><dd><p>ROS桌面 <a class="footnote-reference brackets" href="#id11" id="id8">2</a> 包的更新发行版本可用。要求一般测试。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4836">[待校准&#64;4836]</a></p>
</dd>
<dt>2021年5月17日星期一-遥控 <a class="reference external" href="http://localhost:3000/#/home?msgid=4837">[待校准&#64;4837]</a></dt><dd><p>构建发布候选包。ROS桌面 <a class="footnote-reference brackets" href="#id11" id="id9">2</a> 包的更新发行版本可用。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4838">[待校准&#64;4838]</a></p>
</dd>
<dt>2021年5月20日星期四 -- 发行冻结 <a class="reference external" href="http://localhost:3000/#/home?msgid=4839">[待校准&#64;4839]</a></dt><dd><p>项目完结，系统自动填充内容 <code class="docutils literal notranslate"><span class="pre">rosdistro</span></code> 回购协议中没有Galactic的PRs将被合并 (发布公告后重新开放)。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4840">[待校准&#64;4840]</a></p>
</dd>
<dt>太阳。2021年5月23日-一般可用性 <a class="reference external" href="http://localhost:3000/#/home?msgid=4841">[待校准&#64;4841]</a></dt><dd><p>发布公告。 <code class="docutils literal notranslate"><span class="pre">rosdistro</span></code> 为GalacticPRs重新开放。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4842">[待校准&#64;4842]</a></p>
</dd>
</dl>
</div></blockquote>
<dl class="footnote brackets">
<dt class="label" id="id10"><span class="brackets">1</span><span class="fn-backref">(<a href="#id5">1</a>,<a href="#id6">2</a>,<a href="#id7">3</a>)</span></dt>
<dd><p>[需手动修复的语法] <code class="docutils literal notranslate"><span class="pre">ros_core</span></code> 变体在 <a class="reference external" href="https://www.ros.org/reps/rep-2001.html#ros-core">REP 2001 (ros-core)</a> 中有所描述。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4843">[待校准&#64;4843]</a></p>
</dd>
<dt class="label" id="id11"><span class="brackets">2</span><span class="fn-backref">(<a href="#id8">1</a>,<a href="#id9">2</a>)</span></dt>
<dd><p>[需手动修复的语法] <code class="docutils literal notranslate"><span class="pre">desktop</span></code> 变体在 <a class="reference external" href="https://www.ros.org/reps/rep-2001.html#desktop-variants">REP 2001 (desktop-variants)</a> 中有所描述。 <a class="reference external" href="http://localhost:3000/#/home?msgid=4844">[待校准&#64;4844]</a></p>
</dd>
</dl>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Release-Foxy-Fitzroy.html" class="btn btn-neutral float-left" title="ROS 2FoxyFitzroy (代号&#39;foxy&#39;; 2020年6月5日) [待校准@4503]" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Galactic-Geochelone-Complete-Changelog.html" class="btn btn-neutral float-right" title="ROS 2GalacticGeochelone完整变更日志 [待校准@1470]" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>